


<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ms3 package &#8212; ms3 0.1.2.post0.dev2+g9d887e1.dirty documentation</title>
    <link rel="stylesheet" href="../_static/cloud.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noticia+Text:400,i,b,bi|Open+Sans:400,i,b,bi|Roboto+Mono:400,i,b,bi&amp;display=swap" type="text/css" />
    
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>

    
    
     
        <script src="../_static/jquery.cookie.js"></script>
    

    
     
        <script src="../_static/cloud.base.js"></script>
    

    
     
        <script src="../_static/cloud.js"></script>
    

    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
        <meta name="viewport" content="width=device-width, initial-scale=1">
  </head><body>
    <div class="relbar-top">
        
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> &nbsp; &nbsp;</li>
    <li><a href="../index.html">ms3 0.1.2.post0.dev2+g9d887e1.dirty documentation</a> &#187;</li>

        <li class="nav-item nav-item-this"><a href="">ms3 package</a></li> 
      </ul>
    </div>
    </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="ms3-package">
<h1>ms3 package<a class="headerlink" href="#ms3-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-ms3.annotations">
<span id="ms3-annotations-module"></span><h2>ms3.annotations module<a class="headerlink" href="#module-ms3.annotations" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="ms3.annotations.Annotations">
<em class="property">class </em><code class="sig-prename descclassname">ms3.annotations.</code><code class="sig-name descname">Annotations</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tsv_path</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">df</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">index_col</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">sep</span><span class="o">=</span><span class="default_value">'\t'</span></em>, <em class="sig-param"><span class="n">infer_types</span><span class="o">=</span><span class="default_value">{}</span></em>, <em class="sig-param"><span class="n">logger_name</span><span class="o">=</span><span class="default_value">'Annotations'</span></em>, <em class="sig-param"><span class="n">level</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/annotations.html#Annotations"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.annotations.Annotations" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3.7/library/functions.html#object" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="py attribute">
<dt id="ms3.annotations.Annotations.dcml_double_re">
<code class="sig-name descname">dcml_double_re</code><em class="property"> = re.compile('\n                                    ^(?P&lt;first&gt;\n                                      (\\.?\n                                        ((?P&lt;globalkey&gt;[a-gA-G](b*|\\#*))\\.)?\n                       , re.VERBOSE)</em><a class="headerlink" href="#ms3.annotations.Annotations.dcml_double_re" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="ms3.annotations.Annotations.dcml_re">
<code class="sig-name descname">dcml_re</code><em class="property"> = re.compile('^(\\.?\n                                ((?P&lt;globalkey&gt;[a-gA-G](b*|\\#*))\\.)?\n                                ((?P&lt;localkey&gt;(b*|\\#*)(VII|VI|V|IV|III|II|I|vii|vi|v|iv|iii|ii|i))\\.)?\n             , re.VERBOSE)</em><a class="headerlink" href="#ms3.annotations.Annotations.dcml_re" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ms3.annotations.Annotations.expand_dcml">
<code class="sig-name descname">expand_dcml</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">warn_about_others</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/annotations.html#Annotations.expand_dcml"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.annotations.Annotations.expand_dcml" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ms3.annotations.Annotations.expanded">
<em class="property">property </em><code class="sig-name descname">expanded</code><a class="headerlink" href="#ms3.annotations.Annotations.expanded" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ms3.annotations.Annotations.get_labels">
<code class="sig-name descname">get_labels</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">staff</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">voice</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">label_type</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">positioning</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">decode</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">drop</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/annotations.html#Annotations.get_labels"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.annotations.Annotations.get_labels" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of harmony tags from the parsed score.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>staff</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>, optional) – Select harmonies from a given staff only. Pass <cite>staff=1</cite> for the upper staff.</p></li>
<li><p><strong>label_type</strong> (<em>{0</em><em>, </em><em>1</em><em>, </em><em>2</em><em>, </em><em>3</em><em>, </em><em>'dcml'</em><em>, </em><em>..}</em><em>, </em><em>optional</em>) – <dl class="simple">
<dt>If MuseScore’s harmony feature has been used, you can filter harmony types by passing</dt><dd><p>0 for unrecognized strings
1 for Roman Numeral Analysis
2 for Nashville Numbers
3 for encoded absolute chords
‘dcml’ for labels from the DCML harmonic annotation standard
… self-defined types that have been added to self.regex_dict through the use of self.infer_types()</p>
</dd>
</dl>
</p></li>
<li><p><strong>positioning</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Set to True if you want to include information about how labels have been manually positioned.</p></li>
<li><p><strong>decode</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Set to True if you don’t want to keep labels in their original form as encoded by MuseScore (with root and
bass as TPC (tonal pitch class) where C = 14).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ms3.annotations.Annotations.infer_types">
<code class="sig-name descname">infer_types</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">regex_dict</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/annotations.html#Annotations.infer_types"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.annotations.Annotations.infer_types" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ms3.annotations.Annotations.n_labels">
<code class="sig-name descname">n_labels</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/annotations.html#Annotations.n_labels"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.annotations.Annotations.n_labels" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ms3.annotations.Annotations.output_tsv">
<code class="sig-name descname">output_tsv</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tsv_path</span></em>, <em class="sig-param"><span class="n">staff</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">voice</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">label_type</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">positioning</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">decode</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">sep</span><span class="o">=</span><span class="default_value">'\t'</span></em>, <em class="sig-param"><span class="n">index</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/annotations.html#Annotations.output_tsv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.annotations.Annotations.output_tsv" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ms3.annotations.Annotations.show_annotation_layers">
<code class="sig-name descname">show_annotation_layers</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/annotations.html#Annotations.show_annotation_layers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.annotations.Annotations.show_annotation_layers" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-ms3.bs4_measures">
<span id="ms3-bs4-measures-module"></span><h2>ms3.bs4_measures module<a class="headerlink" href="#module-ms3.bs4_measures" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="ms3.bs4_measures.MeasureList">
<em class="property">class </em><code class="sig-prename descclassname">ms3.bs4_measures.</code><code class="sig-name descname">MeasureList</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em>, <em class="sig-param"><span class="n">section_breaks</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">secure</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">reset_index</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">logger_name</span><span class="o">=</span><span class="default_value">'MeasureList'</span></em>, <em class="sig-param"><span class="n">level</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/bs4_measures.html#MeasureList"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.bs4_measures.MeasureList" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3.7/library/functions.html#object" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Turns a _MSCX_bs4._measures DataFrame into a measure list and performs a couple of consistency checks on the score.</p>
<dl class="py attribute">
<dt id="ms3.bs4_measures.MeasureList.df">
<code class="sig-name descname">df</code><a class="headerlink" href="#ms3.bs4_measures.MeasureList.df" title="Permalink to this definition">¶</a></dt>
<dd><p>The input DataFrame from _MSCX_bs4.raw_measures</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.1.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="ms3.bs4_measures.MeasureList.section_breaks">
<code class="sig-name descname">section_breaks</code><a class="headerlink" href="#ms3.bs4_measures.MeasureList.section_breaks" title="Permalink to this definition">¶</a></dt>
<dd><p>By default, section breaks allow for several anacrusis measures within the piece (relevant for <cite>mc_offset</cite> column)
and make it possible to omit a repeat sign in the following bar (relevant for <cite>next</cite> column).
Set to False if you want to ignore section breaks.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, default True</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="ms3.bs4_measures.MeasureList.secure">
<code class="sig-name descname">secure</code><a class="headerlink" href="#ms3.bs4_measures.MeasureList.secure" title="Permalink to this definition">¶</a></dt>
<dd><p>By default, measure information from lower staves is considered to contain only redundant information.
Set to True if you want to be warned about additional measure information from lower staves that is not taken into account.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, default False</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="ms3.bs4_measures.MeasureList.reset_index">
<code class="sig-name descname">reset_index</code><a class="headerlink" href="#ms3.bs4_measures.MeasureList.reset_index" title="Permalink to this definition">¶</a></dt>
<dd><p>By default, the original index of <cite>df</cite> is replaced. Pass False to keep original index values.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, default True</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="ms3.bs4_measures.MeasureList.logger_name">
<code class="sig-name descname">logger_name</code><a class="headerlink" href="#ms3.bs4_measures.MeasureList.logger_name" title="Permalink to this definition">¶</a></dt>
<dd><p>If you have defined a logger, pass its name.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="ms3.bs4_measures.MeasureList.level">
<code class="sig-name descname">level</code><a class="headerlink" href="#ms3.bs4_measures.MeasureList.level" title="Permalink to this definition">¶</a></dt>
<dd><p>Pass a level name for which (and above which) you want to see log records.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>{‘W’, ‘D’, ‘I’, ‘E’, ‘C’, ‘WARNING’, ‘DEBUG’, ‘INFO’, ‘ERROR’, ‘CRITICAL’}, optional</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="ms3.bs4_measures.MeasureList.cols">
<code class="sig-name descname">cols</code><a class="headerlink" href="#ms3.bs4_measures.MeasureList.cols" title="Permalink to this definition">¶</a></dt>
<dd><p>Dictionary of the relevant columns in <cite>df</cite> as present after the parse.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#dict" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="ms3.bs4_measures.MeasureList.ml">
<code class="sig-name descname">ml</code><a class="headerlink" href="#ms3.bs4_measures.MeasureList.ml" title="Permalink to this definition">¶</a></dt>
<dd><p>The measure list in the making; the final result.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.1.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="ms3.bs4_measures.MeasureList.volta_structure">
<code class="sig-name descname">volta_structure</code><a class="headerlink" href="#ms3.bs4_measures.MeasureList.volta_structure" title="Permalink to this definition">¶</a></dt>
<dd><p>Keys are first MCs of volta groups, values are dictionaries of {volta_no: [mc1, mc2 …]}</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#dict" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ms3.bs4_measures.MeasureList.add_col">
<code class="sig-name descname">add_col</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">func</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/bs4_measures.html#MeasureList.add_col"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.bs4_measures.MeasureList.add_col" title="Permalink to this definition">¶</a></dt>
<dd><p>Inserts or appends a column created by <cite>func(df, **kwargs)</cite></p>
</dd></dl>

<dl class="py method">
<dt id="ms3.bs4_measures.MeasureList.check_measure_numbers">
<code class="sig-name descname">check_measure_numbers</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mc_col</span><span class="o">=</span><span class="default_value">'mc'</span></em>, <em class="sig-param"><span class="n">mn_col</span><span class="o">=</span><span class="default_value">'mn'</span></em>, <em class="sig-param"><span class="n">act_dur</span><span class="o">=</span><span class="default_value">'act_dur'</span></em>, <em class="sig-param"><span class="n">mc_offset</span><span class="o">=</span><span class="default_value">'mc_offset'</span></em>, <em class="sig-param"><span class="n">dont_count</span><span class="o">=</span><span class="default_value">'dont_count'</span></em>, <em class="sig-param"><span class="n">numbering_offset</span><span class="o">=</span><span class="default_value">'numbering_offset'</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/bs4_measures.html#MeasureList.check_measure_numbers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.bs4_measures.MeasureList.check_measure_numbers" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ms3.bs4_measures.MeasureList.get_unique_measure_list">
<code class="sig-name descname">get_unique_measure_list</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/bs4_measures.html#MeasureList.get_unique_measure_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.bs4_measures.MeasureList.get_unique_measure_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Keep only the measure information from the first staff.
Uses: keep_one_row_each()</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mc_col</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – DataFrame columns where MC and staff can be found. Staff is to be dropped.</p></li>
<li><p><strong>staff_col</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – DataFrame columns where MC and staff can be found. Staff is to be dropped.</p></li>
<li><p><strong>secure</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>) – If the dropped rows contain additional information, set <cite>secure</cite> to True to
be informed about the information being lost by the function keep_one_row_each().</p></li>
<li><p><strong>**kwargs</strong> (Additional parameter passed on to keep_one_row_each(). Ignored if <cite>secure=False</cite>.) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ms3.bs4_measures.MeasureList.make_ml">
<code class="sig-name descname">make_ml</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">section_breaks</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">secure</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">reset_index</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">logger_name</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">level</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/bs4_measures.html#MeasureList.make_ml"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.bs4_measures.MeasureList.make_ml" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="ms3.bs4_measures.NextColumnMaker">
<em class="property">class </em><code class="sig-prename descclassname">ms3.bs4_measures.</code><code class="sig-name descname">NextColumnMaker</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mc</span></em>, <em class="sig-param"><span class="n">volta_structure</span></em>, <em class="sig-param"><span class="n">logger</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/bs4_measures.html#NextColumnMaker"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.bs4_measures.NextColumnMaker" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3.7/library/functions.html#object" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="py method">
<dt id="ms3.bs4_measures.NextColumnMaker.end_section">
<code class="sig-name descname">end_section</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mc</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/bs4_measures.html#NextColumnMaker.end_section"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.bs4_measures.NextColumnMaker.end_section" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ms3.bs4_measures.NextColumnMaker.start_section">
<code class="sig-name descname">start_section</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mc</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/bs4_measures.html#NextColumnMaker.start_section"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.bs4_measures.NextColumnMaker.start_section" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ms3.bs4_measures.NextColumnMaker.treat_input">
<code class="sig-name descname">treat_input</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mc</span></em>, <em class="sig-param"><span class="n">repeat</span></em>, <em class="sig-param"><span class="n">section_break</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/bs4_measures.html#NextColumnMaker.treat_input"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.bs4_measures.NextColumnMaker.treat_input" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt id="ms3.bs4_measures.get_volta_structure">
<code class="sig-prename descclassname">ms3.bs4_measures.</code><code class="sig-name descname">get_volta_structure</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em>, <em class="sig-param"><span class="n">mc</span></em>, <em class="sig-param"><span class="n">volta_start</span></em>, <em class="sig-param"><span class="n">volta_length</span></em>, <em class="sig-param"><span class="n">frac_col</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/bs4_measures.html#get_volta_structure"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.bs4_measures.get_volta_structure" title="Permalink to this definition">¶</a></dt>
<dd><p>Uses: treat_group()</p>
</dd></dl>

<dl class="py function">
<dt id="ms3.bs4_measures.keep_one_row_each">
<code class="sig-prename descclassname">ms3.bs4_measures.</code><code class="sig-name descname">keep_one_row_each</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em>, <em class="sig-param"><span class="n">compress_col</span></em>, <em class="sig-param"><span class="n">differentiating_col</span></em>, <em class="sig-param"><span class="n">differentiating_val</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">ignore_columns</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">fillna</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">drop_differentiating</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/bs4_measures.html#keep_one_row_each"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.bs4_measures.keep_one_row_each" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Eliminates duplicates in <cite>compress_col</cite> but warns about values within the</dt><dd><p>dropped rows which diverge from those of the remaining rows. The <cite>differentiating_col</cite>
serves to identify places where information gets lost during the process.</p>
</dd>
</dl>
<p>The result of this function is the same as <cite>df.drop_duplicates(subset=[compress_col])</cite>
if <cite>differentiating_val</cite> is None, and <cite>df[df[compress_col] == differentiating_val]</cite> otherwise
but with the difference that only adjacent duplicates are eliminated.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>compress_col</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – Column with duplicates (e.g. measure counts).</p></li>
<li><p><strong>differentiating_col</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – Column that differentiates duplicates (e.g. staff IDs).</p></li>
<li><p><strong>differentiating_val</strong> (<em>value</em><em>, </em><em>optional</em>) – If you want to keep rows with a certain <cite>differentiating_col</cite> value, pass that value (e.g. a certain staff).
Otherwise, the first row of every <cite>compress_col</cite> value is kept.</p></li>
<li><p><strong>ignore_columns</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">Iterable</span></code>, optional) – These columns are not checked.</p></li>
<li><p><strong>fillna</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – By default, missing values of kept rows are filled if the dropped rows contain
one unique value in that particular column. Pass False to keep rows as they are.</p></li>
<li><p><strong>drop_differentiating</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – By default, the column that differentiates the <cite>compress_col</cite> is dropped.
Pass False to prevent that.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="ms3.bs4_measures.make_actdur_col">
<code class="sig-prename descclassname">ms3.bs4_measures.</code><code class="sig-name descname">make_actdur_col</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em>, <em class="sig-param"><span class="n">len_col</span></em>, <em class="sig-param"><span class="n">timesig_col</span><span class="o">=</span><span class="default_value">'timesig'</span></em>, <em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">'act_dur'</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/bs4_measures.html#make_actdur_col"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.bs4_measures.make_actdur_col" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="ms3.bs4_measures.make_keysig_col">
<code class="sig-prename descclassname">ms3.bs4_measures.</code><code class="sig-name descname">make_keysig_col</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em>, <em class="sig-param"><span class="n">keysig_col</span></em>, <em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">'keysig'</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/bs4_measures.html#make_keysig_col"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.bs4_measures.make_keysig_col" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="ms3.bs4_measures.make_mn_col">
<code class="sig-prename descclassname">ms3.bs4_measures.</code><code class="sig-name descname">make_mn_col</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em>, <em class="sig-param"><span class="n">dont_count</span></em>, <em class="sig-param"><span class="n">numbering_offset</span></em>, <em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">'mn'</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/bs4_measures.html#make_mn_col"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.bs4_measures.make_mn_col" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute measure numbers where one or two columns can influence the counting.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">pd.DataFrame</span></code>) – If no other parameters are given, every row is counted, starting from 1.</p></li>
<li><p><strong>dont_count</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – This column has notna() for measures where the option “Exclude from bar count” is activated, NaN otherwise.</p></li>
<li><p><strong>numbering_offset</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – This column has values of the MuseScore option “Add to bar number”, which adds
notna() values to this and all subsequent measures.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="ms3.bs4_measures.make_next_col">
<code class="sig-prename descclassname">ms3.bs4_measures.</code><code class="sig-name descname">make_next_col</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em>, <em class="sig-param"><span class="n">mc_col</span><span class="o">=</span><span class="default_value">'mc'</span></em>, <em class="sig-param"><span class="n">repeats</span><span class="o">=</span><span class="default_value">'repeats'</span></em>, <em class="sig-param"><span class="n">volta_structure</span><span class="o">=</span><span class="default_value">{}</span></em>, <em class="sig-param"><span class="n">section_breaks</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">'next'</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/bs4_measures.html#make_next_col"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.bs4_measures.make_next_col" title="Permalink to this definition">¶</a></dt>
<dd><p>Uses a <cite>NextColumnMaker</cite> object to create a column with all MCs that can follow each MC (e.g. due to repetitions).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.1.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – Raw measure list.</p></li>
<li><p><strong>mc_col</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – Column names.</p></li>
<li><p><strong>repeats</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – Column names.</p></li>
<li><p><strong>volta_structure</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#dict" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>, optional) – This parameter can be computed by get_volta_structure(). It is empty if
there are no voltas in the piece.</p></li>
<li><p><strong>section_breaks</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – If you pass the name of a column, the string ‘section’ is taken into account
as ending a section and therefore potentially ending a repeated part even when
the repeat sign is missing.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="ms3.bs4_measures.make_offset_col">
<code class="sig-prename descclassname">ms3.bs4_measures.</code><code class="sig-name descname">make_offset_col</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em>, <em class="sig-param"><span class="n">mc_col</span><span class="o">=</span><span class="default_value">'mc'</span></em>, <em class="sig-param"><span class="n">timesig</span><span class="o">=</span><span class="default_value">'timesig'</span></em>, <em class="sig-param"><span class="n">act_dur</span><span class="o">=</span><span class="default_value">'act_dur'</span></em>, <em class="sig-param"><span class="n">next_col</span><span class="o">=</span><span class="default_value">'next'</span></em>, <em class="sig-param"><span class="n">section_breaks</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">'mc_offset'</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/bs4_measures.html#make_offset_col"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.bs4_measures.make_offset_col" title="Permalink to this definition">¶</a></dt>
<dd><p>If one MN is composed of two MCs, the resulting column indicates the second MC’s offset from the MN’s beginning.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mc_col</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – Names of the required columns.</p></li>
<li><p><strong>timesig</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – Names of the required columns.</p></li>
<li><p><strong>act_dur</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – Names of the required columns.</p></li>
<li><p><strong>next_col</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – Names of the required columns.</p></li>
<li><p><strong>section_breaks</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – If you pass the name of a column, the string ‘section’ is taken into account
as ending a section and therefore potentially ending a repeated part even when
the repeat sign is missing.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="ms3.bs4_measures.make_repeat_col">
<code class="sig-prename descclassname">ms3.bs4_measures.</code><code class="sig-name descname">make_repeat_col</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em>, <em class="sig-param"><span class="n">startRepeat</span></em>, <em class="sig-param"><span class="n">endRepeat</span></em>, <em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">'repeats'</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/bs4_measures.html#make_repeat_col"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.bs4_measures.make_repeat_col" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="ms3.bs4_measures.make_timesig_col">
<code class="sig-prename descclassname">ms3.bs4_measures.</code><code class="sig-name descname">make_timesig_col</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em>, <em class="sig-param"><span class="n">sigN_col</span></em>, <em class="sig-param"><span class="n">sigD_col</span></em>, <em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">'timesig'</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/bs4_measures.html#make_timesig_col"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.bs4_measures.make_timesig_col" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="ms3.bs4_measures.make_volta_col">
<code class="sig-prename descclassname">ms3.bs4_measures.</code><code class="sig-name descname">make_volta_col</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em>, <em class="sig-param"><span class="n">volta_structure</span></em>, <em class="sig-param"><span class="n">mc</span><span class="o">=</span><span class="default_value">'mc'</span></em>, <em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">'volta'</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/bs4_measures.html#make_volta_col"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.bs4_measures.make_volta_col" title="Permalink to this definition">¶</a></dt>
<dd><p>Create the input for <cite>volta_structure</cite> using get_volta_structure()</p>
</dd></dl>

<dl class="py function">
<dt id="ms3.bs4_measures.treat_group">
<code class="sig-prename descclassname">ms3.bs4_measures.</code><code class="sig-name descname">treat_group</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mc</span></em>, <em class="sig-param"><span class="n">group</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/bs4_measures.html#treat_group"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.bs4_measures.treat_group" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper function for make_volta_col()
Input example: array([[93,  1,  1], [94,  2,  2], [96,  3,  1]])
where columns are (MC, volta number, volta length).</p>
</dd></dl>

</div>
<div class="section" id="module-ms3.bs4_parser">
<span id="ms3-bs4-parser-module"></span><h2>ms3.bs4_parser module<a class="headerlink" href="#module-ms3.bs4_parser" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="ms3.bs4_parser.bs4_chord_duration">
<code class="sig-prename descclassname">ms3.bs4_parser.</code><code class="sig-name descname">bs4_chord_duration</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">node</span></em>, <em class="sig-param"><span class="n">duration_multiplier</span><span class="o">=</span><span class="default_value">1</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/bs4_parser.html#bs4_chord_duration"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.bs4_parser.bs4_chord_duration" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="ms3.bs4_parser.bs4_rest_duration">
<code class="sig-prename descclassname">ms3.bs4_parser.</code><code class="sig-name descname">bs4_rest_duration</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">node</span></em>, <em class="sig-param"><span class="n">duration_multiplier</span><span class="o">=</span><span class="default_value">1</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/bs4_parser.html#bs4_rest_duration"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.bs4_parser.bs4_rest_duration" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="ms3.bs4_parser.bs4_to_mscx">
<code class="sig-prename descclassname">ms3.bs4_parser.</code><code class="sig-name descname">bs4_to_mscx</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">soup</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/bs4_parser.html#bs4_to_mscx"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.bs4_parser.bs4_to_mscx" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="ms3.bs4_parser.closing_tag">
<code class="sig-prename descclassname">ms3.bs4_parser.</code><code class="sig-name descname">closing_tag</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">node_name</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/bs4_parser.html#closing_tag"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.bs4_parser.closing_tag" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="ms3.bs4_parser.get_duration_event">
<code class="sig-prename descclassname">ms3.bs4_parser.</code><code class="sig-name descname">get_duration_event</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">elements</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/bs4_parser.html#get_duration_event"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.bs4_parser.get_duration_event" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="ms3.bs4_parser.make_oneliner">
<code class="sig-prename descclassname">ms3.bs4_parser.</code><code class="sig-name descname">make_oneliner</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">node</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/bs4_parser.html#make_oneliner"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.bs4_parser.make_oneliner" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="ms3.bs4_parser.make_spanner_cols">
<code class="sig-prename descclassname">ms3.bs4_parser.</code><code class="sig-name descname">make_spanner_cols</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em>, <em class="sig-param"><span class="n">spanner_types</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/bs4_parser.html#make_spanner_cols"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.bs4_parser.make_spanner_cols" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>From a raw chord list as returned by <code class="docutils literal notranslate"><span class="pre">get_chords(spanners=True)</span></code></dt><dd><p>create a DataFrame with Spanner IDs for all chords for all spanner
types they are associated with.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>spanner_types</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">collection</span></code>) – If this parameter is passed, only the enlisted
spanner types (e.g. <code class="docutils literal notranslate"><span class="pre">Slur</span></code> or <code class="docutils literal notranslate"><span class="pre">Pedal</span></code>) are included.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="ms3.bs4_parser.make_tied_col">
<code class="sig-prename descclassname">ms3.bs4_parser.</code><code class="sig-name descname">make_tied_col</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em>, <em class="sig-param"><span class="n">tie_col</span></em>, <em class="sig-param"><span class="n">next_col</span></em>, <em class="sig-param"><span class="n">prev_col</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/bs4_parser.html#make_tied_col"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.bs4_parser.make_tied_col" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="ms3.bs4_parser.opening_tag">
<code class="sig-prename descclassname">ms3.bs4_parser.</code><code class="sig-name descname">opening_tag</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">node</span></em>, <em class="sig-param"><span class="n">closed</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/bs4_parser.html#opening_tag"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.bs4_parser.opening_tag" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="ms3.bs4_parser.recurse_node">
<code class="sig-prename descclassname">ms3.bs4_parser.</code><code class="sig-name descname">recurse_node</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">node</span></em>, <em class="sig-param"><span class="n">prepend</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">exclude_children</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/bs4_parser.html#recurse_node"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.bs4_parser.recurse_node" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="ms3.bs4_parser.safe_update">
<code class="sig-prename descclassname">ms3.bs4_parser.</code><code class="sig-name descname">safe_update</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">old</span></em>, <em class="sig-param"><span class="n">new</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/bs4_parser.html#safe_update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.bs4_parser.safe_update" title="Permalink to this definition">¶</a></dt>
<dd><p>Update dict without replacing values.</p>
</dd></dl>

<dl class="py function">
<dt id="ms3.bs4_parser.sort_cols">
<code class="sig-prename descclassname">ms3.bs4_parser.</code><code class="sig-name descname">sort_cols</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em>, <em class="sig-param"><span class="n">first_cols</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/bs4_parser.html#sort_cols"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.bs4_parser.sort_cols" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="ms3.bs4_parser.sort_note_list">
<code class="sig-prename descclassname">ms3.bs4_parser.</code><code class="sig-name descname">sort_note_list</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em>, <em class="sig-param"><span class="n">mc_col</span><span class="o">=</span><span class="default_value">'mc'</span></em>, <em class="sig-param"><span class="n">onset_col</span><span class="o">=</span><span class="default_value">'onset'</span></em>, <em class="sig-param"><span class="n">midi_col</span><span class="o">=</span><span class="default_value">'midi'</span></em>, <em class="sig-param"><span class="n">duration_col</span><span class="o">=</span><span class="default_value">'duration'</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/bs4_parser.html#sort_note_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.bs4_parser.sort_note_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Sort every measure (MC) by [‘onset’, ‘midi’, ‘duration’] while leaving gracenotes’ order (duration=0) intact</p>
</dd></dl>

</div>
<div class="section" id="module-ms3.expand_dcml">
<span id="ms3-expand-dcml-module"></span><h2>ms3.expand_dcml module<a class="headerlink" href="#module-ms3.expand_dcml" title="Permalink to this headline">¶</a></h2>
<p>This is the same code as in the corpora repo as copied on September 24, 2020
and then adapted.</p>
<dl class="py class">
<dt id="ms3.expand_dcml.SliceMaker">
<em class="property">class </em><code class="sig-prename descclassname">ms3.expand_dcml.</code><code class="sig-name descname">SliceMaker</code><a class="reference internal" href="../_modules/ms3/expand_dcml.html#SliceMaker"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.expand_dcml.SliceMaker" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3.7/library/functions.html#object" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="simple">
<dt>This class serves for storing slice notation such as :3 as a variable or</dt><dd><p>passing it as function argument.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>SM = SliceMaker()
some_function( slice_this, SM[3:8] )</p>
<p>select_all = SM[:]
df.loc[select_all]</p>
</dd></dl>

<dl class="py function">
<dt id="ms3.expand_dcml.changes2list">
<code class="sig-prename descclassname">ms3.expand_dcml.</code><code class="sig-name descname">changes2list</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">changes</span></em>, <em class="sig-param"><span class="n">sort</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/expand_dcml.html#changes2list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.expand_dcml.changes2list" title="Permalink to this definition">¶</a></dt>
<dd><p>Splits a string of changes into a list of 4-tuples.</p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">changes2list</span><span class="p">(</span><span class="s1">&#39;+#7b5&#39;</span><span class="p">)</span>
<span class="go">[(&#39;+#7&#39;, &#39;+&#39;, &#39;#&#39;, &#39;7&#39;),</span>
<span class="go"> (&#39;b5&#39;,  &#39;&#39;,  &#39;b&#39;, &#39;5&#39;)]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt id="ms3.expand_dcml.expand_labels">
<em class="property">class </em><code class="sig-prename descclassname">ms3.expand_dcml.</code><code class="sig-name descname">expand_labels</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em>, <em class="sig-param"><span class="n">column</span></em>, <em class="sig-param"><span class="n">regex</span></em>, <em class="sig-param"><span class="n">groupby</span><span class="o">=</span><span class="default_value">{'group_keys': False, 'level': 0}</span></em>, <em class="sig-param"><span class="n">cols</span><span class="o">=</span><span class="default_value">{}</span></em>, <em class="sig-param"><span class="n">dropna</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">propagate</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">relative_to_global</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">chord_tones</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">absolute</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">all_in_c</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">logger_name</span><span class="o">=</span><span class="default_value">'expand_labels'</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/expand_dcml.html#expand_labels"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.expand_dcml.expand_labels" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3.7/library/functions.html#object" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="py method">
<dt id="ms3.expand_dcml.expand_labels.abs2rel_key">
<code class="sig-name descname">abs2rel_key</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">absolute</span></em>, <em class="sig-param"><span class="n">localkey</span></em>, <em class="sig-param"><span class="n">global_minor</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/expand_dcml.html#expand_labels.abs2rel_key"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.expand_dcml.expand_labels.abs2rel_key" title="Permalink to this definition">¶</a></dt>
<dd><p>Expresses a Roman numeral as scale degree relative to a given localkey.
The result changes depending on whether Roman numeral and localkey are
interpreted within a global major or minor key.
Uses: split_sd()
``</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>absolute</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – Relative key expressed as Roman scale degree of the local key.</p></li>
<li><p><strong>localkey</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – The local key in terms of which <cite>absolute</cite> will be expressed.</p></li>
<li><p><strong>global_minor</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em>, </em><em>optional</em>) – Has to be set to True if <cite>absolute</cite> and <cite>localkey</cite> are scale degrees of a global minor key.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>In a minor context, the key of II would appear within the key of vii as #III.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">abs2rel_key</span><span class="p">(</span><span class="s1">&#39;iv&#39;</span><span class="p">,</span> <span class="s1">&#39;VI&#39;</span><span class="p">,</span> <span class="n">global_minor</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">&#39;bvi&#39;       # F minor expressed with respect to A major</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abs2rel_key</span><span class="p">(</span><span class="s1">&#39;iv&#39;</span><span class="p">,</span> <span class="s1">&#39;vi&#39;</span><span class="p">,</span> <span class="n">global_minor</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">&#39;vi&#39;        # F minor expressed with respect to A minor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abs2rel_key</span><span class="p">(</span><span class="s1">&#39;iv&#39;</span><span class="p">,</span> <span class="s1">&#39;VI&#39;</span><span class="p">,</span> <span class="n">global_minor</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">&#39;vi&#39;        # F minor expressed with respect to Ab major</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abs2rel_key</span><span class="p">(</span><span class="s1">&#39;iv&#39;</span><span class="p">,</span> <span class="s1">&#39;vi&#39;</span><span class="p">,</span> <span class="n">global_minor</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">&#39;#vi&#39;       # F minor expressed with respect to Ab minor</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">abs2rel_key</span><span class="p">(</span><span class="s1">&#39;VI&#39;</span><span class="p">,</span> <span class="s1">&#39;IV&#39;</span><span class="p">,</span> <span class="n">global_minor</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">&#39;III&#39;       # A major expressed with respect to F major</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abs2rel_key</span><span class="p">(</span><span class="s1">&#39;VI&#39;</span><span class="p">,</span> <span class="s1">&#39;iv&#39;</span><span class="p">,</span> <span class="n">global_minor</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">&#39;#III&#39;       # A major expressed with respect to F minor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abs2rel_key</span><span class="p">(</span><span class="s1">&#39;VI&#39;</span><span class="p">,</span> <span class="s1">&#39;IV&#39;</span><span class="p">,</span> <span class="n">global_minor</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">&#39;bIII&#39;       # Ab major expressed with respect to F major</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abs2rel_key</span><span class="p">(</span><span class="s1">&#39;VI&#39;</span><span class="p">,</span> <span class="s1">&#39;iv&#39;</span><span class="p">,</span> <span class="n">global_minor</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">&#39;III&#39;       # Ab major expressed with respect to F minor</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="ms3.expand_dcml.expand_labels.changes2tpc">
<code class="sig-name descname">changes2tpc</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">changes</span></em>, <em class="sig-param"><span class="n">numeral</span></em>, <em class="sig-param"><span class="n">minor</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">root_alterations</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/expand_dcml.html#expand_labels.changes2tpc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.expand_dcml.expand_labels.changes2tpc" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Given a numeral and changes, computes the intervals that the changes represent.</dt><dd><p>Changes do not express absolute intervals but instead depend on the numeral and the mode.
Uses: split_sd(), changes2list()</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>changes</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – A string of changes following the DCML harmony standard.</p></li>
<li><p><strong>numeral</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – Roman numeral. If it is preceded by accidentals, it depends on the parameter
<cite>root_alterations</cite> whether these are taken into account.</p></li>
<li><p><strong>minor</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Set to true if the <cite>numeral</cite> occurs in a minor context.</p></li>
<li><p><strong>root_alterations</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Set to True if accidentals of the root should change the result.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ms3.expand_dcml.expand_labels.chord2tpcs">
<code class="sig-name descname">chord2tpcs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">chord</span></em>, <em class="sig-param"><span class="n">regex</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/expand_dcml.html#expand_labels.chord2tpcs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.expand_dcml.expand_labels.chord2tpcs" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Split a chord label into its features and apply features2tpcs().</dt><dd><p>Uses: features2tpcs()</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>chord</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – Chord label that can be split into the features [‘numeral’, ‘form’, ‘figbass’, ‘changes’, ‘relativeroot’].</p></li>
<li><p><strong>regex</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">re.Pattern</span></code>) – Compiled regex with named groups for the five features.</p></li>
<li><p><strong>**kwargs</strong> – arguments for features2tpcs (pass MC to show it in warnings!)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ms3.expand_dcml.expand_labels.compute_chord_tones">
<code class="sig-name descname">compute_chord_tones</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em>, <em class="sig-param"><span class="n">bass_only</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">expand</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">cols</span><span class="o">=</span><span class="default_value">{}</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/expand_dcml.html#expand_labels.compute_chord_tones"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.expand_dcml.expand_labels.compute_chord_tones" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Compute the chord tones for DCML harmony labels. They are returned as lists</dt><dd><p>of tonal pitch classes in close position, starting with the bass note. The
tonal pitch classes represent intervals relative to the local tonic:
-2: Second below tonic
-1: fifth below tonic
0: tonic
1: fifth above tonic
2: second above tonic, etc.
The labels need to have undergone split_labels() and propagate_keys().
Pedal points are not taken into account.
Uses: features2tpcs(), transform()</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.1.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – Dataframe containing DCML chord labels that have been split by split_labels()
and where the keys have been propagated using propagate_keys(add_bool=True).</p></li>
<li><p><strong>bass_only</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Pass True if you need only the bass note.</p></li>
<li><p><strong>expand</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Pass True if you need chord tones and added tones in separate columns.</p></li>
<li><p><strong>cols</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#dict" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>, optional) – <p>In case the column names for <code class="docutils literal notranslate"><span class="pre">['mc',</span> <span class="pre">'numeral',</span> <span class="pre">'form',</span> <span class="pre">'figbass',</span> <span class="pre">'changes',</span> <span class="pre">'relativeroot',</span> <span class="pre">'localkey',</span> <span class="pre">'globalkey']</span></code> deviate, pass a dict, such as</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s1">&#39;mc&#39;</span><span class="p">:</span>              <span class="s1">&#39;mc&#39;</span><span class="p">,</span>
 <span class="s1">&#39;numeral&#39;</span><span class="p">:</span>         <span class="s1">&#39;numeral_col_name&#39;</span><span class="p">,</span>
 <span class="s1">&#39;form&#39;</span><span class="p">:</span>            <span class="s1">&#39;form_col_name&#39;</span><span class="p">,</span>
 <span class="s1">&#39;figbass&#39;</span><span class="p">:</span>         <span class="s1">&#39;figbass_col_name&#39;</span><span class="p">,</span>
 <span class="s1">&#39;changes&#39;</span><span class="p">:</span>         <span class="s1">&#39;changes_col_name&#39;</span><span class="p">,</span>
 <span class="s1">&#39;relativeroot&#39;</span><span class="p">:</span>    <span class="s1">&#39;relativeroot_col_name&#39;</span><span class="p">,</span>
 <span class="s1">&#39;localkey&#39;</span><span class="p">:</span>        <span class="s1">&#39;localkey_col_name&#39;</span><span class="p">,</span>
 <span class="s1">&#39;globalkey&#39;</span><span class="p">:</span>       <span class="s1">&#39;globalkey_col_name&#39;</span><span class="p">}</span>
</pre></div>
</div>
<p>You may also deactivate columns by setting them to None, e.g. {‘changes’: None}</p>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>For every row of <cite>df</cite> one tuple with chord tones, expressed as tonal picth classes.
If <cite>expand</cite> is True, the function returns a DataFrame with four columns:
Two with tuples for chord tones and added tones, one with the chord root,
and one with the bass note.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v1.1.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.Series</span></code></a> or <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.1.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ms3.expand_dcml.expand_labels.features2tpcs">
<code class="sig-name descname">features2tpcs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">numeral</span></em>, <em class="sig-param"><span class="n">form</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">figbass</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">changes</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">relativeroot</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">key</span><span class="o">=</span><span class="default_value">'C'</span></em>, <em class="sig-param"><span class="n">minor</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">merge_tones</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">bass_only</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">mc</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/expand_dcml.html#expand_labels.features2tpcs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.expand_dcml.expand_labels.features2tpcs" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Given the features of a chord label, this function returns the chord tones</dt><dd><p>in the order of the inversion, starting from the bass note. The tones are
expressed as tonal pitch classes, where -1=F, 0=C, 1=G etc.
Uses: str_is_minor(), name2tpc(), rn2tpc(), changes2list(), sort_tpcs()</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>numeral</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – Roman numeral of the chord’s root</p></li>
<li><p><strong>form</strong> (<em>{None</em><em>, </em><em>'M'</em><em>, </em><em>'o'</em><em>, </em><em>'+' '%'}</em><em>, </em><em>optional</em>) – Indicates the chord type if not a major or minor triad (for which <a href="#id1"><span class="problematic" id="id2">`</span></a>form`is None).
‘%’ and ‘M’ can only occur as tetrads, not as triads.</p></li>
<li><p><strong>figbass</strong> (<em>{None</em><em>, </em><em>'6'</em><em>, </em><em>'64'</em><em>, </em><em>'7'</em><em>, </em><em>'65'</em><em>, </em><em>'43'</em><em>, </em><em>'2'}</em><em>, </em><em>optional</em>) – Indicates chord’s inversion. Pass None for triad root position.</p></li>
<li><p><strong>changes</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – Added steps such as ‘+6’ or suspensions such as ‘4’ or any combination such as (9+64).
Numbers need to be in descending order.</p></li>
<li><p><strong>relativeroot</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – Pass a Roman scale degree if <cite>numeral</cite> is to be applied to a different scale
degree of the local key, as in ‘V65/V’</p></li>
<li><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a> or <a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>, optional) – The local key expressed as the root’s note name or a tonal pitch class.
If it is a name and <cite>minor</cite> is <cite>None</cite>, uppercase means major and lowercase minor.
If it is a tonal pitch class, <cite>minor</cite> needs to be specified.</p></li>
<li><p><strong>minor</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Pass True for minor and False for major. Can be omitted if <cite>key</cite> is a note name.
This affects calculation of chords related to III, VI and VII.</p></li>
<li><p><strong>merge_tones</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Pass False if you want the function to return two tuples, one with (potentially suspended)
chord tones and one with added notes.</p></li>
<li><p><strong>bass_only</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Return only the bass note instead of all chord tones.</p></li>
<li><p><strong>mc</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Pass measure count to display it in warnings.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ms3.expand_dcml.expand_labels.features2type">
<code class="sig-name descname">features2type</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">numeral</span></em>, <em class="sig-param"><span class="n">form</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">figbass</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/expand_dcml.html#expand_labels.features2type"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.expand_dcml.expand_labels.features2type" title="Permalink to this definition">¶</a></dt>
<dd><p>Turns a combination of the three chord features into a chord type.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><strong>‘M’</strong> (<em>Major triad</em>)</p></li>
<li><p><strong>’m’</strong> (<em>Minor triad</em>)</p></li>
<li><p><strong>’o’</strong> (<em>Diminished triad</em>)</p></li>
<li><p><strong>’+’</strong> (<em>Augmented triad</em>)</p></li>
<li><p><strong>’mm7’</strong> (<em>Minor seventh chord</em>)</p></li>
<li><p><strong>’Mm7’</strong> (<em>Dominant seventh chord</em>)</p></li>
<li><p><strong>’MM7’</strong> (<em>Major seventh chord</em>)</p></li>
<li><p><strong>’mM7’</strong> (<em>Minor major seventh chord</em>)</p></li>
<li><p><strong>’o7’</strong> (<em>Diminished seventh chord</em>)</p></li>
<li><p><strong>’%7’</strong> (<em>Half-diminished seventh chord</em>)</p></li>
<li><p><strong>’+7’</strong> (<em>Augmented seventh chord</em>)</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ms3.expand_dcml.expand_labels.labels2global_tonic">
<code class="sig-name descname">labels2global_tonic</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em>, <em class="sig-param"><span class="n">cols</span><span class="o">=</span><span class="default_value">{}</span></em>, <em class="sig-param"><span class="n">inplace</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/expand_dcml.html#expand_labels.labels2global_tonic"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.expand_dcml.expand_labels.labels2global_tonic" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Transposes all numerals to their position in the global major or minor scale.</dt><dd><p>This eliminates localkeys and relativeroots. The resulting chords are defined
by [<cite>numeral</cite>, <cite>figbass</cite>, <cite>changes</cite>, <cite>globalkey_is_minor</cite>] (and <cite>pedal</cite>).
Uses: transform(), rel2abs_key(), transpose_changes(), series_is_minor(), resolve_relative_keys() -&gt; str_is_minor()</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.1.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – Dataframe containing DCML chord labels that have been split by split_labels()
and where the keys have been propagated using propagate_keys(add_bool=True).</p></li>
<li><p><strong>cols</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#dict" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>, optional) – <p>In case the column names for <code class="docutils literal notranslate"><span class="pre">['numeral',</span> <span class="pre">'form',</span> <span class="pre">'figbass',</span> <span class="pre">'changes',</span> <span class="pre">'relativeroot',</span> <span class="pre">'localkey',</span> <span class="pre">'globalkey']</span></code> deviate, pass a dict, such as</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s1">&#39;chord&#39;</span><span class="p">:</span>           <span class="s1">&#39;chord_col_name&#39;</span>
 <span class="s1">&#39;pedal&#39;</span><span class="p">:</span>           <span class="s1">&#39;pedal_col_name&#39;</span><span class="p">,</span>
 <span class="s1">&#39;numeral&#39;</span><span class="p">:</span>         <span class="s1">&#39;numeral_col_name&#39;</span><span class="p">,</span>
 <span class="s1">&#39;form&#39;</span><span class="p">:</span>            <span class="s1">&#39;form_col_name&#39;</span><span class="p">,</span>
 <span class="s1">&#39;figbass&#39;</span><span class="p">:</span>         <span class="s1">&#39;figbass_col_name&#39;</span><span class="p">,</span>
 <span class="s1">&#39;changes&#39;</span><span class="p">:</span>         <span class="s1">&#39;changes_col_name&#39;</span><span class="p">,</span>
 <span class="s1">&#39;relativeroot&#39;</span><span class="p">:</span>    <span class="s1">&#39;relativeroot_col_name&#39;</span><span class="p">,</span>
 <span class="s1">&#39;localkey&#39;</span><span class="p">:</span>        <span class="s1">&#39;localkey_col_name&#39;</span><span class="p">,</span>
 <span class="s1">&#39;globalkey&#39;</span><span class="p">:</span>       <span class="s1">&#39;globalkey_col_name&#39;</span><span class="p">}}</span>
</pre></div>
</div>
</p></li>
<li><p><strong>inplace</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Pass True if you want to mutate the input.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>If <cite>inplace=False</cite>, the relevant features of the transposed chords are returned.
Otherwise, the original DataFrame is mutated.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.1.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ms3.expand_dcml.expand_labels.propagate_keys">
<code class="sig-name descname">propagate_keys</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em>, <em class="sig-param"><span class="n">globalkey</span><span class="o">=</span><span class="default_value">'globalkey'</span></em>, <em class="sig-param"><span class="n">localkey</span><span class="o">=</span><span class="default_value">'localkey'</span></em>, <em class="sig-param"><span class="n">add_bool</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/expand_dcml.html#expand_labels.propagate_keys"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.expand_dcml.expand_labels.propagate_keys" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Propagate information about global keys and local keys throughout the dataframe.</dt><dd><p>Pass split harmonies for one piece at a time. For concatenated pieces, use apply_to_pieces().
Uses: series_is_minor()</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.1.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – Dataframe containing DCML chord labels that have been split by split_labels().</p></li>
<li><p><strong>globalkey</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – In case you renamed the columns, pass column names.</p></li>
<li><p><strong>localkey</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – In case you renamed the columns, pass column names.</p></li>
<li><p><strong>add_bool</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Pass True if you want to add two boolean columns which are true if the respective key is
a minor key.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ms3.expand_dcml.expand_labels.propagate_pedal">
<code class="sig-name descname">propagate_pedal</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em>, <em class="sig-param"><span class="n">relative</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">drop_pedalend</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">cols</span><span class="o">=</span><span class="default_value">{}</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/expand_dcml.html#expand_labels.propagate_pedal"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.expand_dcml.expand_labels.propagate_pedal" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Propagate the pedal note for all chords within square brackets.</dt><dd><p>By default, the note is expressed in relation to each label’s localkey.
Uses: rel2abs_key(), abs2rel_key</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.1.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – Dataframe containing DCML chord labels that have been split by split_labels()
and where the keys have been propagated using propagate_keys().</p></li>
<li><p><strong>relative</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Pass False if you want the pedal note to stay the same even if the localkey changes.</p></li>
<li><p><strong>drop_pedalend</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Pass False if you don’t want the column with the ending brackets to be dropped.</p></li>
<li><p><strong>cols</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#dict" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>, optional) – <p>In case the column names for <code class="docutils literal notranslate"><span class="pre">['pedal','pedalend',</span> <span class="pre">'globalkey',</span> <span class="pre">'localkey']</span></code> deviate, pass a dict, such as</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s1">&#39;pedal&#39;</span><span class="p">:</span>       <span class="s1">&#39;pedal_col_name&#39;</span><span class="p">,</span>
 <span class="s1">&#39;pedalend&#39;</span><span class="p">:</span>    <span class="s1">&#39;pedalend_col_name&#39;</span><span class="p">,</span>
 <span class="s1">&#39;globalkey&#39;</span><span class="p">:</span>   <span class="s1">&#39;globalkey_col_name&#39;</span><span class="p">,</span>
 <span class="s1">&#39;localkey&#39;</span><span class="p">:</span>    <span class="s1">&#39;localkey_col_name&#39;</span><span class="p">}</span>
</pre></div>
</div>
</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ms3.expand_dcml.expand_labels.rel2abs_key">
<code class="sig-name descname">rel2abs_key</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">rel</span></em>, <em class="sig-param"><span class="n">localkey</span></em>, <em class="sig-param"><span class="n">global_minor</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/expand_dcml.html#expand_labels.rel2abs_key"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.expand_dcml.expand_labels.rel2abs_key" title="Permalink to this definition">¶</a></dt>
<dd><p>Expresses a Roman numeral that is expressed relative to a localkey
as scale degree of the global key. For local keys {III, iii, VI, vi, VII, vii}
the result changes depending on whether the global key is major or minor.
Uses: split_sd()</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rel</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – Relative key or chord expressed as Roman scale degree of the local key.</p></li>
<li><p><strong>localkey</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – The local key to which <cite>rel</cite> is relative.</p></li>
<li><p><strong>global_minor</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em>, </em><em>optional</em>) – Has to be set to True if <cite>localkey</cite> is a scale degree of a global minor key.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>If the label viio6/VI appears in the context of the local key VI or vi,
viio6 the absolute key to which viio6 applies depends on the global key.
The comments express the examples in relation to global C major or C minor.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">rel2abs_key</span><span class="p">(</span><span class="s1">&#39;vi&#39;</span><span class="p">,</span> <span class="s1">&#39;VI&#39;</span><span class="p">,</span> <span class="n">global_minor</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">&#39;#iv&#39;       # vi of A major = F# minor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rel2abs_key</span><span class="p">(</span><span class="s1">&#39;vi&#39;</span><span class="p">,</span> <span class="s1">&#39;vi&#39;</span><span class="p">,</span> <span class="n">global_minor</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">&#39;iv&#39;        # vi of A minor = F minor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rel2abs_key</span><span class="p">(</span><span class="s1">&#39;vi&#39;</span><span class="p">,</span> <span class="s1">&#39;VI&#39;</span><span class="p">,</span> <span class="n">global_minor</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">&#39;iv&#39;        # vi of Ab major = F minor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rel2abs_key</span><span class="p">(</span><span class="s1">&#39;vi&#39;</span><span class="p">,</span> <span class="s1">&#39;vi&#39;</span><span class="p">,</span> <span class="n">global_minor</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">&#39;biv&#39;       # vi of Ab minor = Fb minor</span>
</pre></div>
</div>
<p>The same examples hold if you’re expressing in terms of the global key
the root of a VI-chord within the local keys VI or vi.</p>
</dd></dl>

<dl class="py method">
<dt id="ms3.expand_dcml.expand_labels.replace_special">
<code class="sig-name descname">replace_special</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em>, <em class="sig-param"><span class="n">regex</span></em>, <em class="sig-param"><span class="n">merge</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">inplace</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">cols</span><span class="o">=</span><span class="default_value">{}</span></em>, <em class="sig-param"><span class="n">special_map</span><span class="o">=</span><span class="default_value">{}</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/expand_dcml.html#expand_labels.replace_special"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.expand_dcml.expand_labels.replace_special" title="Permalink to this definition">¶</a></dt>
<dd><p>Move special symbols in the <cite>numeral</cite> column to a separate column and replace them by the explicit chords they stand for.
In particular, this function replaces the symbols <cite>It</cite>, <cite>Ger</cite>, and <cite>Fr</cite>.
Uses: merge_changes()</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.1.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – Dataframe containing DCML chord labels that have been split by split_labels().</p></li>
<li><p><strong>regex</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">re.Pattern</span></code>) – Compiled regular expression used to split the labels replacing the special symbols.It needs to have named groups.
The group names are used as column names unless replaced by <cite>cols</cite>.</p></li>
<li><p><strong>merge</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – False: By default, existing values, except <cite>figbass</cite>, are overwritten.
True: Merge existing with new values (for <cite>changes</cite> and <cite>relativeroot</cite>).</p></li>
<li><p><strong>inplace</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – True: Change <cite>df</cite> inplace (default).
False: Return copy.</p></li>
<li><p><strong>cols</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#dict" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>, optional) – <p>The special symbols appear in the column <cite>numeral</cite> and are moved to the column <cite>special</cite>.
In case the column names for <code class="docutils literal notranslate"><span class="pre">['numeral','form',</span> <span class="pre">'figbass',</span> <span class="pre">'changes',</span> <span class="pre">'relativeroot',</span> <span class="pre">'special']</span></code> deviate, pass a dict, such as</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s1">&#39;numeral&#39;</span><span class="p">:</span>         <span class="s1">&#39;numeral_col_name&#39;</span><span class="p">,</span>
 <span class="s1">&#39;form&#39;</span><span class="p">:</span>            <span class="s1">&#39;form_col_name</span>
 <span class="s1">&#39;figbass&#39;</span><span class="p">:</span>         <span class="s1">&#39;figbass_col_name&#39;</span><span class="p">,</span>
 <span class="s1">&#39;changes&#39;</span><span class="p">:</span>         <span class="s1">&#39;changes_col_name&#39;</span><span class="p">,</span>
 <span class="s1">&#39;relativeroot&#39;</span><span class="p">:</span>    <span class="s1">&#39;relativeroot_col_name&#39;</span><span class="p">,</span>
 <span class="s1">&#39;special&#39;</span><span class="p">:</span>         <span class="s1">&#39;special_col_name&#39;</span><span class="p">}</span>
</pre></div>
</div>
</p></li>
<li><p><strong>special_map</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#dict" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>, optional) – In case you want to add or alter special symbols to be replaced, pass a replacement map, e.g.
{‘N’: ‘bII6’}. The column ‘figbass’ is only altered if it’s None to allow for inversions of special chords.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ms3.expand_dcml.expand_labels.resolve_relative_keys">
<code class="sig-name descname">resolve_relative_keys</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">relativeroot</span></em>, <em class="sig-param"><span class="n">minor</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/expand_dcml.html#expand_labels.resolve_relative_keys"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.expand_dcml.expand_labels.resolve_relative_keys" title="Permalink to this definition">¶</a></dt>
<dd><dl>
<dt>Resolve nested relative keys, e.g. ‘V/V/V’ =&gt; ‘VI’.</dt><dd><p>Uses: rel2abs_key(), str_is_minor()</p>
</dd>
<dt>relativeroot<span class="classifier"><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a></span></dt><dd><p>One or several relative keys, e.g. iv/v/VI (fourth scale degree of the fifth scale degree of the sixth scale degree)</p>
</dd>
<dt>minor<span class="classifier"><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional</span></dt><dd><p>Pass True if the last of the relative keys is to be interpreted within a minor context.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ms3.expand_dcml.expand_labels.rn2tpc">
<code class="sig-name descname">rn2tpc</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">rn</span></em>, <em class="sig-param"><span class="n">global_minor</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/expand_dcml.html#expand_labels.rn2tpc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.expand_dcml.expand_labels.rn2tpc" title="Permalink to this definition">¶</a></dt>
<dd><p>Turn a Roman numeral into a TPC interval (e.g. for transposition purposes).
Uses: split_sd()</p>
</dd></dl>

<dl class="py method">
<dt id="ms3.expand_dcml.expand_labels.split_labels">
<code class="sig-name descname">split_labels</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em>, <em class="sig-param"><span class="n">column</span></em>, <em class="sig-param"><span class="n">regex</span></em>, <em class="sig-param"><span class="n">cols</span><span class="o">=</span><span class="default_value">{}</span></em>, <em class="sig-param"><span class="n">dropna</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/expand_dcml.html#expand_labels.split_labels"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.expand_dcml.expand_labels.split_labels" title="Permalink to this definition">¶</a></dt>
<dd><p>Split harmony labels complying with the DCML syntax into columns holding their various features.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.1.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – Dataframe where one column contains DCML chord labels.</p></li>
<li><p><strong>column</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – Name of the column that holds the harmony labels.</p></li>
<li><p><strong>regex</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">re.Pattern</span></code>) – Compiled regular expression used to split the labels. It needs to have named groups.
The group names are used as column names unless replaced by <cite>cols</cite>.</p></li>
<li><p><strong>cols</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#dict" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>) – Dictionary to map the regex’s group names to deviating column names.</p></li>
<li><p><strong>dropna</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Pass True if you want to drop rows where <cite>column</cite> is NaN/&lt;NA&gt;</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ms3.expand_dcml.expand_labels.split_sd">
<code class="sig-name descname">split_sd</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sd</span></em>, <em class="sig-param"><span class="n">count</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/expand_dcml.html#expand_labels.split_sd"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.expand_dcml.expand_labels.split_sd" title="Permalink to this definition">¶</a></dt>
<dd><p>Splits a scale degree such as ‘bbVI’ or ‘b6’ into accidentals and numeral.</p>
<dl>
<dt>sd<span class="classifier"><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a></span></dt><dd><p>Scale degree.</p>
</dd>
<dt>count<span class="classifier"><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional</span></dt><dd><p>Pass True to get the accidentals as integer rather than as string.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ms3.expand_dcml.expand_labels.transform_note_columns">
<code class="sig-name descname">transform_note_columns</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em>, <em class="sig-param"><span class="n">to</span></em>, <em class="sig-param"><span class="n">note_cols</span><span class="o">=</span><span class="default_value">['chord_tones', 'added_tones', 'bass_note', 'root']</span></em>, <em class="sig-param"><span class="n">minor_col</span><span class="o">=</span><span class="default_value">'localkey_is_minor'</span></em>, <em class="sig-param"><span class="n">inplace</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/expand_dcml.html#expand_labels.transform_note_columns"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.expand_dcml.expand_labels.transform_note_columns" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Turns columns with line-of-fifth tonal pitch classes into another representation.</dt><dd><p>Uses: transform_columns()</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.1.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – DataFrame where columns (or column combinations) work as function arguments.</p></li>
<li><p><strong>to</strong> (<em>{'name'</em><em>, </em><em>'iv'</em><em>, </em><em>'pc'</em><em>, </em><em>'sd'</em><em>, </em><em>'rn'}</em>) – <p>The tone representation that you want to get from the <cite>note_cols</cite>.</p>
<ul>
<li><dl class="simple">
<dt>’name’: Note names. Should only be used if the stacked fifths actually represent</dt><dd><p>absolute tonal pitch classes rather than intervals over the local tonic.
In other words, make sure to use ‘name’ only if 0 means C rather than I.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>’iv’:   Intervals such that 0 = ‘P1’, 1 = ‘P5’, 4 = ‘M3’, -3 = ‘m3’, 6 = ‘A4’,</dt><dd><p>-6 = ‘D5’ etc.</p>
</dd>
</dl>
</li>
<li><p>’pc’:   (Relative) chromatic pitch class, or distance from tonic in semitones.</p></li>
<li><dl class="simple">
<dt>’sd’:   Scale degrees such that 0 = ‘1’, -1 = ‘4’, -2 = ‘b7’ in major, ‘7’ in minor etc.</dt><dd><p>This representation requires a boolean column <cite>minor_col</cite> which is
True in those rows where the stacks of fifths occur in a local minor
context and False for the others. Alternatively, if all pitches are
in the same mode or you simply want to express them as degrees of
particular mode, you can pass the boolean keyword argument <cite>minor</cite>.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>’rn’:   Roman numerals such that 0 = ‘I’, -2 = ‘bVII’ in major, ‘VII’ in minor etc.</dt><dd><p>Requires boolean ‘minor’ values, see ‘sd’.</p>
</dd>
</dl>
</li>
</ul>
</p></li>
<li><p><strong>note_cols</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#list" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a>, optional) – List of columns that hold integers or collections of integers that represent
stacks of fifth (0 = tonal center, 1 = fifth above, -1 = fourth above, etc).</p></li>
<li><p><strong>minor_col</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – If <cite>to</cite> is ‘sd’ or ‘rn’, specify a boolean column where the value is
True in those rows where the stacks of fifths occur in a local minor
context and False for the others.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ms3.expand_dcml.expand_labels.transpose_changes">
<code class="sig-name descname">transpose_changes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">changes</span></em>, <em class="sig-param"><span class="n">old_num</span></em>, <em class="sig-param"><span class="n">new_num</span></em>, <em class="sig-param"><span class="n">old_minor</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">new_minor</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/expand_dcml.html#expand_labels.transpose_changes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.expand_dcml.expand_labels.transpose_changes" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Since the interval sizes expressed by the changes of the DCML harmony syntax</dt><dd><p>depend on the numeral’s position in the scale, these may change if the numeral
is transposed. This function expresses the same changes for the new position.
Chord tone alterations (of 3 and 5) stay untouched.
Uses: changes2tpc()</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>changes</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – A string of changes following the DCML harmony standard.</p></li>
<li><p><strong>old_num</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>:) – Old numeral, new numeral.</p></li>
<li><p><strong>new_num</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>:) – Old numeral, new numeral.</p></li>
<li><p><strong>old_minor</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – For each numeral, pass True if it occurs in a minor context.</p></li>
<li><p><strong>new_minor</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – For each numeral, pass True if it occurs in a minor context.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="ms3.expand_dcml.merge_changes">
<code class="sig-prename descclassname">ms3.expand_dcml.</code><code class="sig-name descname">merge_changes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">left</span></em>, <em class="sig-param"><span class="n">right</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">args</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/expand_dcml.html#merge_changes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.expand_dcml.merge_changes" title="Permalink to this definition">¶</a></dt>
<dd><p>Merge to <cite>changes</cite> into one, e.g. <cite>b3</cite> and <cite>+#7</cite> to <cite>+#7b3</cite>.
Uses: changes2list()</p>
</dd></dl>

<dl class="py function">
<dt id="ms3.expand_dcml.series_is_minor">
<code class="sig-prename descclassname">ms3.expand_dcml.</code><code class="sig-name descname">series_is_minor</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">S</span></em>, <em class="sig-param"><span class="n">is_name</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/expand_dcml.html#series_is_minor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.expand_dcml.series_is_minor" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="ms3.expand_dcml.str_is_minor">
<code class="sig-prename descclassname">ms3.expand_dcml.</code><code class="sig-name descname">str_is_minor</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tone</span></em>, <em class="sig-param"><span class="n">is_name</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/expand_dcml.html#str_is_minor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.expand_dcml.str_is_minor" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="ms3.expand_dcml.transform_columns">
<code class="sig-prename descclassname">ms3.expand_dcml.</code><code class="sig-name descname">transform_columns</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em>, <em class="sig-param"><span class="n">func</span></em>, <em class="sig-param"><span class="n">columns</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">param2col</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">inplace</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/expand_dcml.html#transform_columns"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.expand_dcml.transform_columns" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper function to use transform() on df[columns], leaving the other columns untouched.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.1.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – DataFrame where columns (or column combinations) work as function arguments.</p></li>
<li><p><strong>func</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#callable" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">callable</span></code></a>) – Function you want to apply to all elements in <cite>columns</cite>.</p></li>
<li><p><strong>columns</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#list" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a>) – Columns to which you want to apply <cite>func</cite>.</p></li>
<li><p><strong>param2col</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#dict" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a> or <a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#list" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a>, optional) – Mapping from parameter names of <cite>func</cite> to column names.
If you pass a list of column names, the columns’ values are passed as positional arguments.
Pass None if you want to use all columns as positional arguments.</p></li>
<li><p><strong>inplace</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Pass True if you want to mutate <cite>df</cite> rather than getting an altered copy.</p></li>
<li><p><strong>**kwargs</strong> (<em>keyword arguments for transform</em><em>(</em><em>)</em>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="ms3.expand_dcml.transpose">
<code class="sig-prename descclassname">ms3.expand_dcml.</code><code class="sig-name descname">transpose</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">e</span></em>, <em class="sig-param"><span class="n">n</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/expand_dcml.html#transpose"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.expand_dcml.transpose" title="Permalink to this definition">¶</a></dt>
<dd><p>Add <cite>n</cite> to all elements <cite>e</cite> recursively.</p>
</dd></dl>

</div>
<div class="section" id="module-ms3.logger">
<span id="ms3-logger-module"></span><h2>ms3.logger module<a class="headerlink" href="#module-ms3.logger" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="ms3.logger.ContextAdapter">
<em class="property">class </em><code class="sig-prename descclassname">ms3.logger.</code><code class="sig-name descname">ContextAdapter</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">logger</span></em>, <em class="sig-param"><span class="n">extra</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/logger.html#ContextAdapter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.logger.ContextAdapter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3.7/library/logging.html#logging.LoggerAdapter" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">logging.LoggerAdapter</span></code></a></p>
<p>This LoggerAdapter is designed to include the module and function that called the logger.</p>
<dl class="py method">
<dt id="ms3.logger.ContextAdapter.process">
<code class="sig-name descname">process</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">msg</span></em>, <em class="sig-param"><span class="n">overwrite</span><span class="o">=</span><span class="default_value">{}</span></em>, <em class="sig-param"><span class="n">stack_info</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/logger.html#ContextAdapter.process"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.logger.ContextAdapter.process" title="Permalink to this definition">¶</a></dt>
<dd><p>Process the logging message and keyword arguments passed in to
a logging call to insert contextual information. You can either
manipulate the message itself, the keyword args or both. Return
the message and kwargs modified (or not) to suit your needs.</p>
<p>Normally, you’ll only need to override this one method in a
LoggerAdapter subclass for your specific needs.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="ms3.logger.config_logger">
<code class="sig-prename descclassname">ms3.logger.</code><code class="sig-name descname">config_logger</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em>, <em class="sig-param"><span class="n">level</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">logfile</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/logger.html#config_logger"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.logger.config_logger" title="Permalink to this definition">¶</a></dt>
<dd><p>Configs the logger with name <cite>name</cite>. Overwrites existing config.</p>
</dd></dl>

<dl class="py function">
<dt id="ms3.logger.function_logger">
<code class="sig-prename descclassname">ms3.logger.</code><code class="sig-name descname">function_logger</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">f</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/logger.html#function_logger"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.logger.function_logger" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>This decorator ensures that the decorated function can use the variable <cite>logger</cite> for logging and</dt><dd><p>makes it possible to pass the function the keyword argument <cite>logger</cite> with either a Logger object or
the name of one. If the keyword argument is not passed, the root logger is used.</p>
</dd>
</dl>
<p class="rubric">Example</p>
<p>This is how the decorator can be used:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">ms3.logger</span> <span class="kn">import</span> <span class="n">function_logger</span>

<span class="nd">@function_logger</span>
<span class="k">def</span> <span class="nf">log_this</span><span class="p">(</span><span class="n">msg</span><span class="p">):</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">log_this</span><span class="p">(</span><span class="s1">&#39;First test&#39;</span><span class="p">,</span> <span class="n">logger</span><span class="o">=</span><span class="s1">&#39;my_logger&#39;</span><span class="p">)</span>
    <span class="n">log_this</span><span class="p">(</span><span class="s1">&#39;Second Test&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">WARNING</span> <span class="n">my_logger</span> <span class="o">--</span> <span class="n">function_logger</span><span class="o">.</span><span class="n">py</span> <span class="p">(</span><span class="n">line</span> <span class="mi">5</span><span class="p">)</span> <span class="n">log_this</span><span class="p">():</span>
    <span class="n">First</span> <span class="n">test</span>
<span class="n">WARNING</span> <span class="n">root</span> <span class="o">--</span> <span class="n">function_logger</span><span class="o">.</span><span class="n">py</span> <span class="p">(</span><span class="n">line</span> <span class="mi">5</span><span class="p">)</span> <span class="n">log_this</span><span class="p">():</span>
    <span class="n">Second</span> <span class="n">Test</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="ms3.logger.get_logger">
<code class="sig-prename descclassname">ms3.logger.</code><code class="sig-name descname">get_logger</code><span class="sig-paren">(</span><em class="sig-param">name=None</em>, <em class="sig-param">level=None</em>, <em class="sig-param">adapter=&lt;class 'ms3.logger.ContextAdapter'&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/logger.html#get_logger"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.logger.get_logger" title="Permalink to this definition">¶</a></dt>
<dd><p>The function gets or creates the logger <cite>name</cite> and returns it, by default through the given LoggerAdapter class.</p>
</dd></dl>

</div>
<div class="section" id="module-ms3.parse">
<span id="ms3-parse-module"></span><h2>ms3.parse module<a class="headerlink" href="#module-ms3.parse" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="ms3.parse.Parse">
<em class="property">class </em><code class="sig-prename descclassname">ms3.parse.</code><code class="sig-name descname">Parse</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dir</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">key</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">file_re</span><span class="o">=</span><span class="default_value">'.*'</span></em>, <em class="sig-param"><span class="n">folder_re</span><span class="o">=</span><span class="default_value">'.*'</span></em>, <em class="sig-param"><span class="n">exclude_re</span><span class="o">=</span><span class="default_value">'^(\\.|__)'</span></em>, <em class="sig-param"><span class="n">recursive</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">logger_name</span><span class="o">=</span><span class="default_value">'Parse'</span></em>, <em class="sig-param"><span class="n">level</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/parse.html#Parse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.parse.Parse" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3.7/library/functions.html#object" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="py method">
<dt id="ms3.parse.Parse.add_dir">
<code class="sig-name descname">add_dir</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dir</span></em>, <em class="sig-param"><span class="n">key</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">file_re</span><span class="o">=</span><span class="default_value">'.*'</span></em>, <em class="sig-param"><span class="n">folder_re</span><span class="o">=</span><span class="default_value">'.*'</span></em>, <em class="sig-param"><span class="n">exclude_re</span><span class="o">=</span><span class="default_value">'^(\\.|__)'</span></em>, <em class="sig-param"><span class="n">recursive</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/parse.html#Parse.add_dir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.parse.Parse.add_dir" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ms3.parse.Parse.count_extensions">
<code class="sig-name descname">count_extensions</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">key</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">ix</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/parse.html#Parse.count_extensions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.parse.Parse.count_extensions" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ms3.parse.Parse.expand_labels">
<code class="sig-name descname">expand_labels</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">keys</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">how</span><span class="o">=</span><span class="default_value">'dcml'</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/parse.html#Parse.expand_labels"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.parse.Parse.expand_labels" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ms3.parse.Parse.get_lists">
<code class="sig-name descname">get_lists</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">keys</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">notes</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">rests</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">notes_and_rests</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">measures</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">events</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">labels</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">chords</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">expanded</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/parse.html#Parse.get_lists"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.parse.Parse.get_lists" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ms3.parse.Parse.handle_path">
<code class="sig-name descname">handle_path</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">full_path</span></em>, <em class="sig-param"><span class="n">key</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/parse.html#Parse.handle_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.parse.Parse.handle_path" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ms3.parse.Parse.match_filenames">
<code class="sig-name descname">match_filenames</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/parse.html#Parse.match_filenames"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.parse.Parse.match_filenames" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ms3.parse.Parse.parse_mscx">
<code class="sig-name descname">parse_mscx</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">keys</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">read_only</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">level</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">parallel</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/parse.html#Parse.parse_mscx"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.parse.Parse.parse_mscx" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ms3.parse.Parse.parsed">
<em class="property">property </em><code class="sig-name descname">parsed</code><a class="headerlink" href="#ms3.parse.Parse.parsed" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ms3.parse.Parse.store_lists">
<code class="sig-name descname">store_lists</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">keys</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">root_dir</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">notes_folder</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">notes_suffix</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">rests_folder</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">rests_suffix</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">notes_and_rests_folder</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">notes_and_rests_suffix</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">measures_folder</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">measures_suffix</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">events_folder</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">events_suffix</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">labels_folder</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">labels_suffix</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">chords_folder</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">chords_suffix</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">expanded_folder</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">expanded_suffix</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">simulate</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/parse.html#Parse.store_lists"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.parse.Parse.store_lists" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt id="ms3.parse.group_index_tuples">
<code class="sig-prename descclassname">ms3.parse.</code><code class="sig-name descname">group_index_tuples</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">l</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/parse.html#group_index_tuples"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.parse.group_index_tuples" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="ms3.parse.no_collections_no_booleans">
<code class="sig-prename descclassname">ms3.parse.</code><code class="sig-name descname">no_collections_no_booleans</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/parse.html#no_collections_no_booleans"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.parse.no_collections_no_booleans" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="ms3.parse.pretty_extensions">
<code class="sig-prename descclassname">ms3.parse.</code><code class="sig-name descname">pretty_extensions</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">key2ext</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/parse.html#pretty_extensions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.parse.pretty_extensions" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-ms3.score">
<span id="ms3-score-module"></span><h2>ms3.score module<a class="headerlink" href="#module-ms3.score" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="ms3.score.MSCX">
<em class="property">class </em><code class="sig-prename descclassname">ms3.score.</code><code class="sig-name descname">MSCX</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mscx_src</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">read_only</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">parser</span><span class="o">=</span><span class="default_value">'bs4'</span></em>, <em class="sig-param"><span class="n">logger_name</span><span class="o">=</span><span class="default_value">'MSCX'</span></em>, <em class="sig-param"><span class="n">level</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/score.html#MSCX"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.score.MSCX" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3.7/library/functions.html#object" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Object for interacting with the XML structure of a MuseScore 3 file.</p>
<dl class="py attribute">
<dt id="ms3.score.MSCX.mscx_src">
<code class="sig-name descname">mscx_src</code><a class="headerlink" href="#ms3.score.MSCX.mscx_src" title="Permalink to this definition">¶</a></dt>
<dd><p>MuseScore 3 file to parse.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="ms3.score.MSCX._parsed">
<code class="sig-name descname">_parsed</code><a class="headerlink" href="#ms3.score.MSCX._parsed" title="Permalink to this definition">¶</a></dt>
<dd><p>Holds the MSCX score parsed by the selected parser.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">_MSCX_bs4</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="ms3.score.MSCX.parser">
<code class="sig-name descname">parser</code><a class="headerlink" href="#ms3.score.MSCX.parser" title="Permalink to this definition">¶</a></dt>
<dd><p>Which XML parser to use.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt>
<code class="sig-name descname">infer_label_types :obj:`bool`, optional</code></dt>
<dd><p>For label_type 0 (simple string), mark which ones</p>
</dd></dl>

<dl class="py attribute">
<dt id="ms3.score.MSCX.logger_name">
<code class="sig-name descname">logger_name</code><a class="headerlink" href="#ms3.score.MSCX.logger_name" title="Permalink to this definition">¶</a></dt>
<dd><p>If you have defined a logger, pass its name.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="ms3.score.MSCX.level">
<code class="sig-name descname">level</code><a class="headerlink" href="#ms3.score.MSCX.level" title="Permalink to this definition">¶</a></dt>
<dd><p>Pass a level name for which (and above which) you want to see log records.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>{‘W’, ‘D’, ‘I’, ‘E’, ‘C’, ‘WARNING’, ‘DEBUG’, ‘INFO’, ‘ERROR’, ‘CRITICAL’}, optional</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ms3.score.MSCX.output_mscx">
<code class="sig-name descname">output_mscx</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filepath</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ms3.score.MSCX.output_mscx" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the internal score representation to a file.</p>
</dd></dl>

<dl class="py method">
<dt id="ms3.score.MSCX.add_labels">
<code class="sig-name descname">add_labels</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em>, <em class="sig-param"><span class="n">label</span><span class="o">=</span><span class="default_value">'label'</span></em>, <em class="sig-param"><span class="n">mc</span><span class="o">=</span><span class="default_value">'mc'</span></em>, <em class="sig-param"><span class="n">onset</span><span class="o">=</span><span class="default_value">'onset'</span></em>, <em class="sig-param"><span class="n">staff</span><span class="o">=</span><span class="default_value">'staff'</span></em>, <em class="sig-param"><span class="n">voice</span><span class="o">=</span><span class="default_value">'voice'</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/score.html#MSCX.add_labels"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.score.MSCX.add_labels" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.1.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – DataFrame with labels to be added.</p></li>
<li><p><strong>label</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – Names of the DataFrame columns for the five required parameters.</p></li>
<li><p><strong>mc</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – Names of the DataFrame columns for the five required parameters.</p></li>
<li><p><strong>onset</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – Names of the DataFrame columns for the five required parameters.</p></li>
<li><p><strong>staff</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – Names of the DataFrame columns for the five required parameters.</p></li>
<li><p><strong>voice</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – Names of the DataFrame columns for the five required parameters.</p></li>
<li><p><strong>kwargs</strong> – <dl class="simple">
<dt>label_type, root, base, leftParen, rightParen, offset_x, offset_y, nashville</dt><dd><p>For these parameters, the standard column names are used automatically if the columns are present.
If the column names have changed, pass them as kwargs, e.g. <code class="docutils literal notranslate"><span class="pre">base='name_of_the_base_column'</span></code></p>
</dd>
</dl>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.7/library/constants.html#None" title="(in Python v3.7)">None</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ms3.score.MSCX.chords">
<em class="property">property </em><code class="sig-name descname">chords</code><a class="headerlink" href="#ms3.score.MSCX.chords" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ms3.score.MSCX.delete_labels">
<code class="sig-name descname">delete_labels</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/score.html#MSCX.delete_labels"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.score.MSCX.delete_labels" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ms3.score.MSCX.events">
<em class="property">property </em><code class="sig-name descname">events</code><a class="headerlink" href="#ms3.score.MSCX.events" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ms3.score.MSCX.expanded">
<em class="property">property </em><code class="sig-name descname">expanded</code><a class="headerlink" href="#ms3.score.MSCX.expanded" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ms3.score.MSCX.labels">
<em class="property">property </em><code class="sig-name descname">labels</code><a class="headerlink" href="#ms3.score.MSCX.labels" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ms3.score.MSCX.measures">
<em class="property">property </em><code class="sig-name descname">measures</code><a class="headerlink" href="#ms3.score.MSCX.measures" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ms3.score.MSCX.notes">
<em class="property">property </em><code class="sig-name descname">notes</code><a class="headerlink" href="#ms3.score.MSCX.notes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ms3.score.MSCX.notes_and_rests">
<em class="property">property </em><code class="sig-name descname">notes_and_rests</code><a class="headerlink" href="#ms3.score.MSCX.notes_and_rests" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ms3.score.MSCX.parse_mscx">
<code class="sig-name descname">parse_mscx</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mscx_src</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/score.html#MSCX.parse_mscx"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.score.MSCX.parse_mscx" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ms3.score.MSCX.parsed">
<em class="property">property </em><code class="sig-name descname">parsed</code><a class="headerlink" href="#ms3.score.MSCX.parsed" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ms3.score.MSCX.rests">
<em class="property">property </em><code class="sig-name descname">rests</code><a class="headerlink" href="#ms3.score.MSCX.rests" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ms3.score.MSCX.version">
<em class="property">property </em><code class="sig-name descname">version</code><a class="headerlink" href="#ms3.score.MSCX.version" title="Permalink to this definition">¶</a></dt>
<dd><p>MuseScore version with which the file was created (read-only).</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="ms3.score.Score">
<em class="property">class </em><code class="sig-prename descclassname">ms3.score.</code><code class="sig-name descname">Score</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mscx_src</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">infer_label_types</span><span class="o">=</span><span class="default_value">['dcml']</span></em>, <em class="sig-param"><span class="n">read_only</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">logger_name</span><span class="o">=</span><span class="default_value">'Score'</span></em>, <em class="sig-param"><span class="n">level</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">parser</span><span class="o">=</span><span class="default_value">'bs4'</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/score.html#Score"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.score.Score" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3.7/library/functions.html#object" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Object representing a score.</p>
<dl class="py attribute">
<dt id="ms3.score.Score.infer_label_types">
<code class="sig-name descname">infer_label_types</code><a class="headerlink" href="#ms3.score.Score.infer_label_types" title="Permalink to this definition">¶</a></dt>
<dd><p>Changing this value results in a call to <a class="reference internal" href="#ms3.annotations.Annotations.infer_types" title="ms3.annotations.Annotations.infer_types"><code class="xref py py-meth docutils literal notranslate"><span class="pre">infer_types()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#list" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a> or <a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#dict" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>, optional</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="ms3.score.Score.logger">
<code class="sig-name descname">logger</code><a class="headerlink" href="#ms3.score.Score.logger" title="Permalink to this definition">¶</a></dt>
<dd><p>Current logger that the object is using.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.7/library/logging.html#logging.Logger" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">logging.Logger</span></code></a> or <a class="reference external" href="https://docs.python.org/3.7/library/logging.html#logging.LoggerAdapter" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">logging.LoggerAdapter</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="ms3.score.Score.parser">
<code class="sig-name descname">parser</code><a class="headerlink" href="#ms3.score.Score.parser" title="Permalink to this definition">¶</a></dt>
<dd><p>The only XML parser currently implemented is BeautifulSoup 4.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>{‘bs4’}</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt>
<code class="sig-name descname">paths, files, fnames, fexts, logger_names</code></dt>
<dd><p>Dictionaries for keeping track of file information handled by <a class="reference internal" href="#id0" title="ms3.score.Score.handle_path"><code class="xref py py-meth docutils literal notranslate"><span class="pre">handle_path()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#dict" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="ms3.score.Score._annotations">
<code class="sig-name descname">_annotations</code><a class="headerlink" href="#ms3.score.Score._annotations" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="ms3.score.Score._harmony_regex">
<code class="sig-name descname">_harmony_regex</code><a class="headerlink" href="#ms3.score.Score._harmony_regex" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="ms3.score.Score._label_types">
<code class="sig-name descname">_label_types</code><a class="headerlink" href="#ms3.score.Score._label_types" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="ms3.score.Score._mscx">
<code class="sig-name descname">_mscx</code><a class="headerlink" href="#ms3.score.Score._mscx" title="Permalink to this definition">¶</a></dt>
<dd><p>After parsing, holds the <cite>MSCX</cite> object with the parsed score.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#ms3.score.MSCX" title="ms3.score.MSCX"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MSCX</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="ms3.score.Score._types_to_infer">
<code class="sig-name descname">_types_to_infer</code><a class="headerlink" href="#ms3.score.Score._types_to_infer" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ms3.score.Score.handle_path">
<code class="sig-name descname">handle_path</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path</span></em>, <em class="sig-param"><span class="n">key</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/score.html#Score.handle_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.score.Score.handle_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Puts the path into <cite>paths, files, fnames, fexts</cite> dicts with the given key.</p>
</dd></dl>

<dl class="py attribute">
<dt id="ms3.score.Score.abs_regex">
<code class="sig-name descname">abs_regex</code><em class="property"> = '^\\(?[A-G|a-g](b*|#*).*?(/[A-G|a-g](b*|#*))?$'</em><a class="headerlink" href="#ms3.score.Score.abs_regex" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ms3.score.Score.attach_labels">
<code class="sig-name descname">attach_labels</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">key</span></em>, <em class="sig-param"><span class="n">staff</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">voice</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/score.html#Score.attach_labels"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.score.Score.attach_labels" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="ms3.score.Score.dcml_regex">
<code class="sig-name descname">dcml_regex</code><em class="property"> = re.compile('\n                                ^(?P&lt;first&gt;\n                                  (\\.?\n                                    ((?P&lt;globalkey&gt;[a-gA-G](b*|\\#*))\\.)?\n                                   , re.VERBOSE)</em><a class="headerlink" href="#ms3.score.Score.dcml_regex" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ms3.score.Score.detach_labels">
<code class="sig-name descname">detach_labels</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">key</span></em>, <em class="sig-param"><span class="n">staff</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">voice</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">label_type</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">delete</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/score.html#Score.detach_labels"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.score.Score.detach_labels" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ms3.score.Score.get_infer_regex">
<code class="sig-name descname">get_infer_regex</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/score.html#Score.get_infer_regex"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.score.Score.get_infer_regex" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="id0">
<code class="sig-name descname">handle_path</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path</span></em>, <em class="sig-param"><span class="n">key</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/score.html#Score.handle_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#id0" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="id3">
<em class="property">property </em><code class="sig-name descname">infer_label_types</code><a class="headerlink" href="#id3" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ms3.score.Score.load_annotations">
<code class="sig-name descname">load_annotations</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tsv_path</span></em>, <em class="sig-param"><span class="n">key</span><span class="o">=</span><span class="default_value">'file'</span></em>, <em class="sig-param"><span class="n">infer</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/score.html#Score.load_annotations"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.score.Score.load_annotations" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ms3.score.Score.mscx">
<em class="property">property </em><code class="sig-name descname">mscx</code><a class="headerlink" href="#ms3.score.Score.mscx" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the <cite>MSCX</cite> object with the parsed score.</p>
</dd></dl>

<dl class="py attribute">
<dt id="ms3.score.Score.nashville_regex">
<code class="sig-name descname">nashville_regex</code><em class="property"> = '^(b*|#*)(\\d).*$'</em><a class="headerlink" href="#ms3.score.Score.nashville_regex" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ms3.score.Score.new_type">
<code class="sig-name descname">new_type</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em>, <em class="sig-param"><span class="n">regex</span></em>, <em class="sig-param"><span class="n">description</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">infer</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/score.html#Score.new_type"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.score.Score.new_type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ms3.score.Score.output_mscx">
<code class="sig-name descname">output_mscx</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filepath</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/score.html#Score.output_mscx"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.score.Score.output_mscx" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ms3.score.Score.parse_mscx">
<code class="sig-name descname">parse_mscx</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mscx_src</span></em>, <em class="sig-param"><span class="n">read_only</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">parser</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">logger_name</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/score.html#Score.parse_mscx"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.score.Score.parse_mscx" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="ms3.score.Score.rn_regex">
<code class="sig-name descname">rn_regex</code><em class="property"> = '^$'</em><a class="headerlink" href="#ms3.score.Score.rn_regex" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ms3.score.Score.store_annotations">
<code class="sig-name descname">store_annotations</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">key</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">tsv_path</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/score.html#Score.store_annotations"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.score.Score.store_annotations" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ms3.score.Score.types">
<em class="property">property </em><code class="sig-name descname">types</code><a class="headerlink" href="#ms3.score.Score.types" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-ms3.skeleton">
<span id="ms3-skeleton-module"></span><h2>ms3.skeleton module<a class="headerlink" href="#module-ms3.skeleton" title="Permalink to this headline">¶</a></h2>
<p>This is a skeleton file that can serve as a starting point for a Python
console script. To run this script uncomment the following lines in the
[options.entry_points] section in setup.cfg:</p>
<blockquote>
<div><dl class="simple">
<dt>console_scripts =</dt><dd><p>fibonacci = ms3.skeleton:run</p>
</dd>
</dl>
</div></blockquote>
<p>Then run <cite>python setup.py install</cite> which will install the command <cite>fibonacci</cite>
inside your current environment.
Besides console scripts, the header (i.e. until _logger…) of this file can
also be used as template for Python modules.</p>
<p>Note: This skeleton file can be safely removed if not needed!</p>
<dl class="py function">
<dt id="ms3.skeleton.fib">
<code class="sig-prename descclassname">ms3.skeleton.</code><code class="sig-name descname">fib</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">n</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/skeleton.html#fib"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.skeleton.fib" title="Permalink to this definition">¶</a></dt>
<dd><p>Fibonacci example function</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>n</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – integer</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>n-th Fibonacci number</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="ms3.skeleton.main">
<code class="sig-prename descclassname">ms3.skeleton.</code><code class="sig-name descname">main</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">args</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/skeleton.html#main"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.skeleton.main" title="Permalink to this definition">¶</a></dt>
<dd><p>Main entry point allowing external calls</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>args</strong> (<em>[</em><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>]</em>) – command line parameter list</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="ms3.skeleton.parse_args">
<code class="sig-prename descclassname">ms3.skeleton.</code><code class="sig-name descname">parse_args</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">args</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/skeleton.html#parse_args"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.skeleton.parse_args" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse command line parameters</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>args</strong> (<em>[</em><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>]</em>) – command line parameters as list of strings</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>command line parameters namespace</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.7/library/argparse.html#argparse.Namespace" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">argparse.Namespace</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="ms3.skeleton.run">
<code class="sig-prename descclassname">ms3.skeleton.</code><code class="sig-name descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/skeleton.html#run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.skeleton.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Entry point for console_scripts</p>
</dd></dl>

<dl class="py class">
<dt id="ms3.skeleton.score">
<em class="property">class </em><code class="sig-prename descclassname">ms3.skeleton.</code><code class="sig-name descname">score</code><a class="reference internal" href="../_modules/ms3/skeleton.html#score"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.skeleton.score" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3.7/library/functions.html#object" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
</dd></dl>

<dl class="py function">
<dt id="ms3.skeleton.setup_logging">
<code class="sig-prename descclassname">ms3.skeleton.</code><code class="sig-name descname">setup_logging</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">loglevel</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/skeleton.html#setup_logging"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.skeleton.setup_logging" title="Permalink to this definition">¶</a></dt>
<dd><p>Setup basic logging</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>loglevel</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – minimum loglevel for emitting messages</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-ms3.utils">
<span id="ms3-utils-module"></span><h2>ms3.utils module<a class="headerlink" href="#module-ms3.utils" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="ms3.utils.decode_harmonies">
<code class="sig-prename descclassname">ms3.utils.</code><code class="sig-name descname">decode_harmonies</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em>, <em class="sig-param"><span class="n">return_series</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/utils.html#decode_harmonies"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.utils.decode_harmonies" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="ms3.utils.fifths2acc">
<code class="sig-prename descclassname">ms3.utils.</code><code class="sig-name descname">fifths2acc</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fifths</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/utils.html#fifths2acc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.utils.fifths2acc" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns accidentals for a stack of fifths that can be combined with a
basic representation of the seven steps.</p>
</dd></dl>

<dl class="py function">
<dt id="ms3.utils.fifths2iv">
<code class="sig-prename descclassname">ms3.utils.</code><code class="sig-name descname">fifths2iv</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fifths</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/utils.html#fifths2iv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.utils.fifths2iv" title="Permalink to this definition">¶</a></dt>
<dd><p>Return interval name of a stack of fifths such that
0 = ‘P1’, -1 = ‘P4’, -2 = ‘m7’, 4 = ‘M3’ etc.
Uses: map2elements()</p>
</dd></dl>

<dl class="py function">
<dt id="ms3.utils.fifths2name">
<code class="sig-prename descclassname">ms3.utils.</code><code class="sig-name descname">fifths2name</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fifths</span></em>, <em class="sig-param"><span class="n">midi</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">ms</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/utils.html#fifths2name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.utils.fifths2name" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Return note name of a stack of fifths such that</dt><dd><p>0 = C, -1 = F, -2 = Bb, 1 = G etc.
Uses: map2elements(), fifths2str()</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fifths</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>) – Tonal pitch class to turn into a note name.</p></li>
<li><p><strong>midi</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>) – In order to include the octave into the note name,
pass the corresponding MIDI pitch.</p></li>
<li><p><strong>ms</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Pass True if <code class="docutils literal notranslate"><span class="pre">fifths</span></code> is a MuseScore TPC, i.e. C = 14</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="ms3.utils.fifths2pc">
<code class="sig-prename descclassname">ms3.utils.</code><code class="sig-name descname">fifths2pc</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fifths</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/utils.html#fifths2pc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.utils.fifths2pc" title="Permalink to this definition">¶</a></dt>
<dd><p>Turn a stack of fifths into a chromatic pitch class.
Uses: map2elements()</p>
</dd></dl>

<dl class="py function">
<dt id="ms3.utils.fifths2rn">
<code class="sig-prename descclassname">ms3.utils.</code><code class="sig-name descname">fifths2rn</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fifths</span></em>, <em class="sig-param"><span class="n">minor</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">auto_key</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/utils.html#fifths2rn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.utils.fifths2rn" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Return Roman numeral of a stack of fifths such that</dt><dd><p>0 = I, -1 = IV, 1 = V, -2 = bVII in major, VII in minor, etc.
Uses: map2elements(), is_minor_mode()</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>auto_key</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – By default, the returned Roman numerals are uppercase. Pass True to pass upper-
or lowercase according to the position in the scale.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="ms3.utils.fifths2sd">
<code class="sig-prename descclassname">ms3.utils.</code><code class="sig-name descname">fifths2sd</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fifths</span></em>, <em class="sig-param"><span class="n">minor</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/utils.html#fifths2sd"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.utils.fifths2sd" title="Permalink to this definition">¶</a></dt>
<dd><p>Return scale degree of a stack of fifths such that
0 = ‘1’, -1 = ‘4’, -2 = ‘b7’ in major, ‘7’ in minor etc.
Uses: map2elements(), fifths2str()</p>
</dd></dl>

<dl class="py function">
<dt id="ms3.utils.fifths2str">
<code class="sig-prename descclassname">ms3.utils.</code><code class="sig-name descname">fifths2str</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fifths</span></em>, <em class="sig-param"><span class="n">steps</span></em>, <em class="sig-param"><span class="n">inverted</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/utils.html#fifths2str"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.utils.fifths2str" title="Permalink to this definition">¶</a></dt>
<dd><p>Boiler plate used by fifths2-functions.</p>
</dd></dl>

<dl class="py function">
<dt id="ms3.utils.is_minor_mode">
<code class="sig-prename descclassname">ms3.utils.</code><code class="sig-name descname">is_minor_mode</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fifths</span></em>, <em class="sig-param"><span class="n">minor</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/utils.html#is_minor_mode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.utils.is_minor_mode" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True if the scale degree <cite>fifths</cite> naturally has a minor third in the scale.</p>
</dd></dl>

<dl class="py function">
<dt id="ms3.utils.iterable2str">
<code class="sig-prename descclassname">ms3.utils.</code><code class="sig-name descname">iterable2str</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">iterable</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/utils.html#iterable2str"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.utils.iterable2str" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="ms3.utils.load_tsv">
<code class="sig-prename descclassname">ms3.utils.</code><code class="sig-name descname">load_tsv</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path</span></em>, <em class="sig-param"><span class="n">index_col</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">sep</span><span class="o">=</span><span class="default_value">'\t'</span></em>, <em class="sig-param"><span class="n">converters</span><span class="o">=</span><span class="default_value">{}</span></em>, <em class="sig-param"><span class="n">dtypes</span><span class="o">=</span><span class="default_value">{}</span></em>, <em class="sig-param"><span class="n">stringtype</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/utils.html#load_tsv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.utils.load_tsv" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads the TSV file <cite>path</cite> while applying correct type conversion and parsing tuples.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – Path to a TSV file as output by format_data().</p></li>
<li><p><strong>index_col</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#list" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a>, optional) – By default, the first two columns are loaded as MultiIndex.
The first level distinguishes pieces and the second level the elements within.</p></li>
<li><p><strong>converters</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#dict" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>, optional) – Enhances or overwrites the mapping from column names to types included the constants.</p></li>
<li><p><strong>dtypes</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#dict" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>, optional) – Enhances or overwrites the mapping from column names to types included the constants.</p></li>
<li><p><strong>stringtype</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – If you’re using pandas &gt;= 1.0.0 you might want to set this to True in order
to be using the new <cite>string</cite> datatype that includes the new null type <cite>pd.NA</cite>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="ms3.utils.map2elements">
<code class="sig-prename descclassname">ms3.utils.</code><code class="sig-name descname">map2elements</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">e</span></em>, <em class="sig-param"><span class="n">f</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/utils.html#map2elements"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.utils.map2elements" title="Permalink to this definition">¶</a></dt>
<dd><p>If <cite>e</cite> is an iterable, <cite>f</cite> is applied to all elements.</p>
</dd></dl>

<dl class="py function">
<dt id="ms3.utils.midi2octave">
<code class="sig-prename descclassname">ms3.utils.</code><code class="sig-name descname">midi2octave</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">midi</span></em>, <em class="sig-param"><span class="n">fifths</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/utils.html#midi2octave"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.utils.midi2octave" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>For a given MIDI pitch, calculate the octave. Middle octave = 4</dt><dd><p>Uses: fifths2pc(), map2elements()</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>midi</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>) – MIDI pitch (positive integer)</p></li>
<li><p><strong>tpc</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>, optional) – To be precise, for some Tonal Pitch Classes, the octave deviates
from the simple formula <code class="docutils literal notranslate"><span class="pre">MIDI</span> <span class="pre">//</span> <span class="pre">12</span> <span class="pre">-</span> <span class="pre">1</span></code>, e.g. for B# or Cb.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="ms3.utils.name2tpc">
<code class="sig-prename descclassname">ms3.utils.</code><code class="sig-name descname">name2tpc</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">nn</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/utils.html#name2tpc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.utils.name2tpc" title="Permalink to this definition">¶</a></dt>
<dd><p>Turn a note name such as <cite>Ab</cite> into a tonal pitch class, such that -1=F, 0=C, 1=G etc.
Uses: split_note_name()</p>
</dd></dl>

<dl class="py function">
<dt id="ms3.utils.ordinal_suffix">
<code class="sig-prename descclassname">ms3.utils.</code><code class="sig-name descname">ordinal_suffix</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">n</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/utils.html#ordinal_suffix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.utils.ordinal_suffix" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="ms3.utils.resolve_dir">
<code class="sig-prename descclassname">ms3.utils.</code><code class="sig-name descname">resolve_dir</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dir</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/utils.html#resolve_dir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.utils.resolve_dir" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="ms3.utils.scan_directory">
<code class="sig-prename descclassname">ms3.utils.</code><code class="sig-name descname">scan_directory</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dir</span></em>, <em class="sig-param"><span class="n">file_re</span><span class="o">=</span><span class="default_value">'.*'</span></em>, <em class="sig-param"><span class="n">folder_re</span><span class="o">=</span><span class="default_value">'.*'</span></em>, <em class="sig-param"><span class="n">exclude_re</span><span class="o">=</span><span class="default_value">'^(\\.|__)'</span></em>, <em class="sig-param"><span class="n">recursive</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/utils.html#scan_directory"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.utils.scan_directory" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a list of files.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dir</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – Directory to be scanned for files.</p></li>
<li><p><strong>file_re</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – Regular expressions for filtering certain file names or folder names.
The regEx are checked with search(), not match(), allowing for fuzzy search.</p></li>
<li><p><strong>folder_re</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – Regular expressions for filtering certain file names or folder names.
The regEx are checked with search(), not match(), allowing for fuzzy search.</p></li>
<li><p><strong>recursive</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – By default, sub-directories are recursively scanned. Pass False to scan only <code class="docutils literal notranslate"><span class="pre">dir</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of full paths meeting the criteria.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#list" title="(in Python v3.7)">list</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="ms3.utils.sort_tpcs">
<code class="sig-prename descclassname">ms3.utils.</code><code class="sig-name descname">sort_tpcs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tpcs</span></em>, <em class="sig-param"><span class="n">ascending</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">start</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/utils.html#sort_tpcs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.utils.sort_tpcs" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Sort tonal pitch classes by order on the piano.</dt><dd><p>Uses: fifths2pc()</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tpcs</strong> (collection of <a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>) – Tonal pitch classes to sort.</p></li>
<li><p><strong>ascending</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Pass False to sort by descending order.</p></li>
<li><p><strong>start</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>, optional) – Start on or above this TPC.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="ms3.utils.split_note_name">
<code class="sig-prename descclassname">ms3.utils.</code><code class="sig-name descname">split_note_name</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">nn</span></em>, <em class="sig-param"><span class="n">count</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/utils.html#split_note_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.utils.split_note_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Splits a note name such as ‘Ab’ into accidentals and name.</p>
<dl>
<dt>nn<span class="classifier"><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a></span></dt><dd><p>Note name.</p>
</dd>
<dt>count<span class="classifier"><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional</span></dt><dd><p>Pass True to get the accidentals as integer rather than as string.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="ms3.utils.transform">
<code class="sig-prename descclassname">ms3.utils.</code><code class="sig-name descname">transform</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em>, <em class="sig-param"><span class="n">func</span></em>, <em class="sig-param"><span class="n">param2col</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">column_wise</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms3/utils.html#transform"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.utils.transform" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Compute a function for every row of a DataFrame, using several cols as arguments.</dt><dd><p>The result is the same as using df.apply(lambda r: func(param1=r.col1, param2=r.col2…), axis=1)
but it optimizes the procedure by precomputing <cite>func</cite> for all occurrent parameter combinations.
Uses: inspect.getfullargspec()</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.1.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a> or <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v1.1.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.Series</span></code></a>) – Dataframe containing function parameters.</p></li>
<li><p><strong>func</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#callable" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">callable</span></code></a>) – The result of this function for every row will be returned.</p></li>
<li><p><strong>param2col</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#dict" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a> or <a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#list" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a>, optional) – Mapping from parameter names of <cite>func</cite> to column names.
If you pass a list of column names, the columns’ values are passed as positional arguments.
Pass None if you want to use all columns as positional arguments.</p></li>
<li><p><strong>column_wise</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Pass True if you want to map <cite>func</cite> to the elements of every column separately.
This is simply an optimized version of df.apply(func) but allows for naming
columns to use as function arguments. If param2col is None, <cite>func</cite> is mapped
to the elements of all columns, otherwise to all columns that are not named
as parameters in <cite>param2col</cite>.
In the case where <cite>func</cite> does not require a positional first element and
you want to pass the elements of the various columns as keyword argument,
give it as param2col={‘function_argument’: None}</p></li>
<li><p><strong>inplace</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Pass True if you want to mutate <cite>df</cite> rather than getting an altered copy.</p></li>
<li><p><strong>**kwargs</strong> (Other parameters passed to <cite>func</cite>.) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-ms3">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-ms3" title="Permalink to this headline">¶</a></h2>
<p>All functionality of the library is available through creating a <code class="docutils literal notranslate"><span class="pre">ms3.Score</span></code> object for a single score and a
<code class="docutils literal notranslate"><span class="pre">ms3.Parse</span></code> object for multiple scores. Parsing a list of annotation labels only can be done by creating a
<code class="docutils literal notranslate"><span class="pre">ms3.Annotations</span></code> object.</p>
</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<div class="sphinx-toc sphinxglobaltoc">
<h3><a href="../index.html">Table of Contents</a></h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quick.html">Quick Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../manual.html">Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../authors.html">Authors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Changelog</a></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/api/ms3.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
    
    
        <div class="sidebar-toggle-group no-js">
            
            <button class="sidebar-toggle" id="sidebar-hide" title="Hide the sidebar menu">
                 «
                <span class="show-for-small">hide menu</span>
                
            </button>
            <button class="sidebar-toggle" id="sidebar-show" title="Show the sidebar menu">
                
                <span class="show-for-small">menu</span>
                <span class="hide-for-small">sidebar</span>
                 »
            </button>
        </div>
    
      <div class="clearer"></div>
    </div>
    <div class="relbar-bottom">
        
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> &nbsp; &nbsp;</li>
    <li><a href="../index.html">ms3 0.1.2.post0.dev2+g9d887e1.dirty documentation</a> &#187;</li>

        <li class="nav-item nav-item-this"><a href="">ms3 package</a></li> 
      </ul>
    </div>
    </div>

    <div class="footer" role="contentinfo">
        &#169; Copyright 2020, johentsch.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.2.1.
    </div>
    <!-- cloud_sptheme 1.4 -->
  </body>
</html>