


<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Developers’ Reference &#8212; ms3 1.0.3 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/cloud.css" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noticia+Text:400,i,b,bi|Open+Sans:400,i,b,bi|Roboto+Mono:400,i,b,bi&amp;display=swap" type="text/css" />
    
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>

    
    
     
        <script src="_static/jquery.cookie.js"></script>
    

    
     
        <script src="_static/cloud.base.js"></script>
    

    
     
        <script src="_static/cloud.js"></script>
    

    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="License" href="license.html" />
    <link rel="prev" title="Manual" href="manual.html" /> 
        <meta name="viewport" content="width=device-width, initial-scale=1">
  </head><body>
    <div class="relbar-top">
        
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="license.html" title="License"
             accesskey="N">next</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="manual.html" title="Manual"
             accesskey="P">previous</a> &nbsp; &nbsp;</li>
    <li><a href="index.html">ms3 1.0.3 documentation</a> &#187;</li>

        <li class="nav-item nav-item-this"><a href="">Developers’ Reference</a></li> 
      </ul>
    </div>
    </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="developers-reference">
<h1>Developers’ Reference<a class="headerlink" href="#developers-reference" title="Permalink to this heading">¶</a></h1>
<p>The library installs a couple of commands to your system. The documentation for these commands can be found
<a class="reference internal" href="#cli-doc"><span class="std std-ref">below</span></a> or by executing <code class="docutils literal notranslate"><span class="pre">ms3</span> <span class="pre">-h</span></code>.</p>
<p>When using ms3 as a module, we are dealing with four main object types:</p>
<ol class="arabic simple">
<li><p><a class="reference internal" href="#ms3.score.MSCX" title="ms3.score.MSCX"><code class="xref py py-class docutils literal notranslate"><span class="pre">MSCX</span></code></a> objects hold the information of a single
parsed MuseScore file;</p></li>
<li><p><a class="reference internal" href="#ms3.annotations.Annotations" title="ms3.annotations.Annotations"><code class="xref py py-class docutils literal notranslate"><span class="pre">Annotations</span></code></a> objects hold a set of annotation labels
which can be either attached to a score (i.e., contained in its XML structure),
or detached.</p></li>
<li><p>Both types of objects are contained within a <a class="reference internal" href="#ms3.score.Score" title="ms3.score.Score"><code class="xref py py-class docutils literal notranslate"><span class="pre">Score</span></code></a> object.
For example, a set of <a class="reference internal" href="#ms3.annotations.Annotations" title="ms3.annotations.Annotations"><code class="xref py py-class docutils literal notranslate"><span class="pre">Annotations</span></code></a> read from a TSV
file can be attached to the XML of an <a class="reference internal" href="#ms3.score.MSCX" title="ms3.score.MSCX"><code class="xref py py-class docutils literal notranslate"><span class="pre">MSCX</span></code></a> object, which
can then be output as a MuseScore file.</p></li>
<li><p>To manipulate many <a class="reference internal" href="#ms3.score.Score" title="ms3.score.Score"><code class="xref py py-class docutils literal notranslate"><span class="pre">Score</span></code></a> objects at once, for example
those of an entire corpus, we use <a class="reference internal" href="#ms3.parse.Parse" title="ms3.parse.Parse"><code class="xref py py-class docutils literal notranslate"><span class="pre">Parse</span></code></a> objects.</p></li>
</ol>
<p>Since <a class="reference internal" href="#ms3.score.MSCX" title="ms3.score.MSCX"><code class="xref py py-class docutils literal notranslate"><span class="pre">MSCX</span></code></a> and <a class="reference internal" href="#ms3.annotations.Annotations" title="ms3.annotations.Annotations"><code class="xref py py-class docutils literal notranslate"><span class="pre">Annotations</span></code></a>
objects are always attached to a <a class="reference internal" href="#ms3.score.Score" title="ms3.score.Score"><code class="xref py py-class docutils literal notranslate"><span class="pre">Score</span></code></a>, the documentation
starts with this central class.</p>
<section id="module-ms3.parse">
<span id="the-parse-class"></span><h2>The Parse class<a class="headerlink" href="#module-ms3.parse" title="Permalink to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="ms3.parse.Parse">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ms3.parse.</span></span><span class="sig-name descname"><span class="pre">Parse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">directory</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Collection" title="(in Python v3.10)"><span class="pre">Collection</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recursive</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">only_metadata_fnames</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_convertible</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_tsv</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude_review</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_re</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Pattern</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">folder_re</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Pattern</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude_re</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Pattern</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">paths</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Collection" title="(in Python v3.10)"><span class="pre">Collection</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels_cfg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#dict" title="(in Python v3.10)"><span class="pre">dict</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ms</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">logger_cfg</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/parse.html#Parse"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.parse.Parse" title="Permalink to this definition">¶</a></dt>
<dd><p>Class for creating one or several <a class="reference internal" href="#ms3.corpus.Corpus" title="ms3.corpus.Corpus"><code class="xref py py-class docutils literal notranslate"><span class="pre">Corpus</span></code></a> objects and performing actions on all of them.</p>
<dl class="py method">
<dt class="sig sig-object py" id="ms3.parse.Parse.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">directory</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Collection" title="(in Python v3.10)"><span class="pre">Collection</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recursive</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">only_metadata_fnames</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_convertible</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_tsv</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude_review</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_re</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Pattern</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">folder_re</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Pattern</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude_re</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Pattern</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">paths</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Collection" title="(in Python v3.10)"><span class="pre">Collection</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels_cfg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#dict" title="(in Python v3.10)"><span class="pre">dict</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ms</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">logger_cfg</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/parse.html#Parse.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.parse.Parse.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize a Parse object and try to create corpora if directories and/or file paths are specified.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>directory</strong> – Path to scan for corpora.</p></li>
<li><p><strong>recursive</strong> – Pass False if you don’t want to scan <code class="docutils literal notranslate"><span class="pre">directory</span></code> for subcorpora, but force making it a corpus instead.</p></li>
<li><p><strong>only_metadata_fnames</strong> – The default view excludes piece names that are not listed in the corpus’ metadata.tsv file (e.g. when none was found).
Pass False to include all pieces regardless. This might be needed when setting <code class="docutils literal notranslate"><span class="pre">recursive</span></code> to False.</p></li>
<li><p><strong>include_convertible</strong> – The default view excludes scores that would need conversion to MuseScore format prior to parsing.
Pass True to include convertible scores in .musicxml, .midi, .cap or any other format that MuseScore 3 can open.
For on-the-fly conversion, however, the parameter <code class="docutils literal notranslate"><span class="pre">ms</span></code> needs to be set.</p></li>
<li><p><strong>include_tsv</strong> – The default view includes TSV files. Pass False to disregard them and parse only scores.</p></li>
<li><p><strong>exclude_review</strong> – The default view excludes files and folders whose name contains ‘review’.
Pass False to include these as well.</p></li>
<li><p><strong>file_re</strong> – Pass a regular expression if you want to create a view filtering out all files that do not contain it.</p></li>
<li><p><strong>folder_re</strong> – Pass a regular expression if you want to create a view filtering out all folders that do not contain it.</p></li>
<li><p><strong>exclude_re</strong> – Pass a regular expression if you want to create a view filtering out all files or folders that contain it.</p></li>
<li><p><strong>paths</strong> – If <code class="docutils literal notranslate"><span class="pre">directory</span></code> is specified, the file names of these paths are used to create a filtering view excluding all other files.
Otherwise, all paths are expected to be part of the same parent corpus which will be inferred from the first path by looking for the first parent directory that
either contains a ‘metadata.tsv’ file or is a git. This parameter is deprecated and <code class="docutils literal notranslate"><span class="pre">file_re</span></code> should be used instead.</p></li>
<li><p><strong>labels_cfg</strong> – Pass a configuration dict to detect only certain labels or change their output format.</p></li>
<li><p><strong>ms</strong> – If you pass the path to your local MuseScore 3 installation, ms3 will attempt to parse musicXML, MuseScore 2,
and other formats by temporarily converting them. If you’re using the standard path, you may try ‘auto’, or ‘win’ for
Windows, ‘mac’ for MacOS, or ‘mscore’ for Linux. In case you do not pass the ‘file_re’ and the MuseScore executable is
detected, all convertible files are automatically selected, otherwise only those that can be parsed without conversion.</p></li>
<li><p><strong>**logger_cfg</strong> – Keyword arguments for changing the logger configuration. E.g. <code class="docutils literal notranslate"><span class="pre">level='d'</span></code> to see all debug messages.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ms3.parse.Parse.corpus_paths">
<span class="sig-name descname"><span class="pre">corpus_paths</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#ms3.parse.Parse.corpus_paths" title="Permalink to this definition">¶</a></dt>
<dd><p>{corpus_name -&gt; path} dictionary with each corpus’s base directory. Generally speaking, each corpus path is expected to contain a <code class="docutils literal notranslate"><span class="pre">metadata.tsv</span></code> and, maybe, to be a git.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ms3.parse.Parse.corpus_objects">
<span class="sig-name descname"><span class="pre">corpus_objects</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#ms3.corpus.Corpus" title="ms3.corpus.Corpus"><span class="pre">Corpus</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#ms3.parse.Parse.corpus_objects" title="Permalink to this definition">¶</a></dt>
<dd><p>{corpus_name -&gt; Corpus} dictionary with one object per <a class="reference internal" href="#ms3.parse.Parse.corpus_paths" title="ms3.parse.Parse.corpus_paths"><code class="xref py py-attr docutils literal notranslate"><span class="pre">corpus_path</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ms3.parse.Parse.labels_cfg">
<span class="sig-name descname"><span class="pre">labels_cfg</span></span><a class="headerlink" href="#ms3.parse.Parse.labels_cfg" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#dict" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>
Configuration dictionary to determine the output format of <code class="xref py py-attr docutils literal notranslate"><span class="pre">labels</span></code> and
<code class="xref py py-attr docutils literal notranslate"><span class="pre">expanded</span></code> tables. The dictonary is passed to <code class="xref py py-attr docutils literal notranslate"><span class="pre">Score</span></code> upon parsing.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ms3.parse.Parse.ms">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ms</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></em><a class="headerlink" href="#ms3.parse.Parse.ms" title="Permalink to this definition">¶</a></dt>
<dd><p>Path or command of the local MuseScore 3 installation if specified by the user and recognized.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ms3.parse.Parse.n_detected">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">n_detected</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></em><a class="headerlink" href="#ms3.parse.Parse.n_detected" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of detected files aggregated from all <a class="reference internal" href="#ms3.corpus.Corpus" title="ms3.corpus.Corpus"><code class="xref py py-class docutils literal notranslate"><span class="pre">Corpus</span></code></a> objects without taking views into account. Excludes metadata files.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ms3.parse.Parse.n_orphans">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">n_orphans</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></em><a class="headerlink" href="#ms3.parse.Parse.n_orphans" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of files that are always disregarded because they could not be attributed to any of the fnames.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ms3.parse.Parse.n_parsed">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">n_parsed</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></em><a class="headerlink" href="#ms3.parse.Parse.n_parsed" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of parsed files aggregated from all <a class="reference internal" href="#ms3.corpus.Corpus" title="ms3.corpus.Corpus"><code class="xref py py-class docutils literal notranslate"><span class="pre">Corpus</span></code></a> objects without taking views into account. Excludes metadata files.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ms3.parse.Parse.n_parsed_scores">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">n_parsed_scores</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></em><a class="headerlink" href="#ms3.parse.Parse.n_parsed_scores" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of parsed scores aggregated from all <a class="reference internal" href="#ms3.corpus.Corpus" title="ms3.corpus.Corpus"><code class="xref py py-class docutils literal notranslate"><span class="pre">Corpus</span></code></a> objects without taking views into account. Excludes metadata files.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ms3.parse.Parse.n_parsed_tsvs">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">n_parsed_tsvs</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></em><a class="headerlink" href="#ms3.parse.Parse.n_parsed_tsvs" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of parsed TSV files aggregated from all <a class="reference internal" href="#ms3.corpus.Corpus" title="ms3.corpus.Corpus"><code class="xref py py-class docutils literal notranslate"><span class="pre">Corpus</span></code></a> objects without taking views into account. Excludes metadata files.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ms3.parse.Parse.n_pieces">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">n_pieces</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></em><a class="headerlink" href="#ms3.parse.Parse.n_pieces" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of all available pieces (‘fnames’), independent of the view.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ms3.parse.Parse.n_unparsed_scores">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">n_unparsed_scores</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></em><a class="headerlink" href="#ms3.parse.Parse.n_unparsed_scores" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of all detected but not yet parsed scores, aggregated from all <a class="reference internal" href="#ms3.corpus.Corpus" title="ms3.corpus.Corpus"><code class="xref py py-class docutils literal notranslate"><span class="pre">Corpus</span></code></a> objects without taking views into account. Excludes metadata files.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ms3.parse.Parse.n_unparsed_tsvs">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">n_unparsed_tsvs</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></em><a class="headerlink" href="#ms3.parse.Parse.n_unparsed_tsvs" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of all detected but not yet parsed TSV files, aggregated from all <a class="reference internal" href="#ms3.corpus.Corpus" title="ms3.corpus.Corpus"><code class="xref py py-class docutils literal notranslate"><span class="pre">Corpus</span></code></a> objects without taking views into account. Excludes metadata files.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ms3.parse.Parse.parsed_mscx">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">parsed_mscx</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><span class="pre">DataFrame</span></a></em><a class="headerlink" href="#ms3.parse.Parse.parsed_mscx" title="Permalink to this definition">¶</a></dt>
<dd><p>Deprecated property. Replaced by <a class="reference internal" href="#ms3.parse.Parse.n_parsed_scores" title="ms3.parse.Parse.n_parsed_scores"><code class="xref py py-attr docutils literal notranslate"><span class="pre">n_parsed_scores</span></code></a></p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ms3.parse.Parse.parsed_tsv">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">parsed_tsv</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><span class="pre">DataFrame</span></a></em><a class="headerlink" href="#ms3.parse.Parse.parsed_tsv" title="Permalink to this definition">¶</a></dt>
<dd><p>Deprecated property. Replaced by <a class="reference internal" href="#ms3.parse.Parse.n_parsed_tsvs" title="ms3.parse.Parse.n_parsed_tsvs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">n_parsed_tsvs</span></code></a></p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ms3.parse.Parse.view">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">view</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#ms3.view.View" title="ms3.view.View"><span class="pre">View</span></a></em><a class="headerlink" href="#ms3.parse.Parse.view" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve the current View object. Shorthand for <a class="reference internal" href="#ms3.parse.Parse.get_view" title="ms3.parse.Parse.get_view"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_view()</span></code></a>.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ms3.parse.Parse.views">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">views</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/constants.html#None" title="(in Python v3.10)"><span class="pre">None</span></a></em><a class="headerlink" href="#ms3.parse.Parse.views" title="Permalink to this definition">¶</a></dt>
<dd><p>Display a short description of the available views.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ms3.parse.Parse.view_name">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">view_name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></em><a class="headerlink" href="#ms3.parse.Parse.view_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the name of the active view.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.parse.Parse.add_corpus">
<span class="sig-name descname"><span class="pre">add_corpus</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">directory</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">corpus_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">logger_cfg</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/constants.html#None" title="(in Python v3.10)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/ms3/parse.html#Parse.add_corpus"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.parse.Parse.add_corpus" title="Permalink to this definition">¶</a></dt>
<dd><p>This method creates a <a class="reference internal" href="#ms3.corpus.Corpus" title="ms3.corpus.Corpus"><code class="xref py py-class docutils literal notranslate"><span class="pre">Corpus</span></code></a> object which scans the directory <code class="docutils literal notranslate"><span class="pre">directory</span></code> for parseable files.
It inherits all <a class="reference internal" href="#ms3.view.View" title="ms3.view.View"><code class="xref py py-class docutils literal notranslate"><span class="pre">Views</span></code></a> from the Parse object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>directory</strong> – Directory to scan for files.</p></li>
<li><p><strong>corpus_name</strong> – By default, the folder name of <code class="docutils literal notranslate"><span class="pre">directory</span></code> is used as name for this corpus. Pass a string to
use a different identifier.</p></li>
<li><p><strong>**logger_cfg</strong> – Keyword arguments for configuring the logger of the new Corpus object. E.g. <code class="docutils literal notranslate"><span class="pre">level='d'</span></code> to see all debug messages.
Note that the logger is a child logger of this Parse object’s logger and propagates, so it might filter debug messages.
You can use _.change_logger_cfg(level=’d’) to change the level post hoc.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.parse.Parse.add_dir">
<span class="sig-name descname"><span class="pre">add_dir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">directory</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">recursive</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">logger_cfg</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/constants.html#None" title="(in Python v3.10)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/ms3/parse.html#Parse.add_dir"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.parse.Parse.add_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>This method decides if the directory <code class="docutils literal notranslate"><span class="pre">directory</span></code> contains several corpora or if it is a corpus
itself, and calls <a class="reference internal" href="#ms3.parse.Parse.add_corpus" title="ms3.parse.Parse.add_corpus"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_corpus()</span></code></a> for each corpus.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>directory</strong> – Directory to scan for corpora.</p></li>
<li><p><strong>recursive</strong> – By default, if any of the first-level subdirectories contains a ‘metadata.tsv’ or is a git, all first-level
subdirectories of <code class="docutils literal notranslate"><span class="pre">directory</span></code> are treated as corpora, i.e. one <a class="reference internal" href="#ms3.corpus.Corpus" title="ms3.corpus.Corpus"><code class="xref py py-class docutils literal notranslate"><span class="pre">Corpus</span></code></a> object per folder is created.
Pass False to prevent this, which is equivalent to calling <a class="reference internal" href="#ms3.parse.Parse.add_corpus" title="ms3.parse.Parse.add_corpus"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_corpus(directory)</span></code></a></p></li>
<li><p><strong>**logger_cfg</strong> – Keyword arguments for configuring the logger of the new Corpus objects. E.g. <code class="docutils literal notranslate"><span class="pre">level='d'</span></code> to see all debug messages.
Note that the loggers are child loggers of this Parse object’s logger and propagate, so it might filter debug messages.
You can use _.change_logger_cfg(level=’d’) to change the level post hoc.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.parse.Parse.add_files">
<span class="sig-name descname"><span class="pre">add_files</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">paths</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Collection" title="(in Python v3.10)"><span class="pre">Collection</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">corpus_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/constants.html#None" title="(in Python v3.10)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/ms3/parse.html#Parse.add_files"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.parse.Parse.add_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Deprecated: To deal with particular files only, use <a class="reference internal" href="#ms3.parse.Parse.add_corpus" title="ms3.parse.Parse.add_corpus"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_corpus()</span></code></a> passing the directory containing them and
configure the :class`~.view.View` accordingly. This method here does it for you but easily leads to unexpected behaviour.
It expects the file paths to point to files located in a shared corpus folder
on some higher level or in folders for which <a class="reference internal" href="#ms3.corpus.Corpus" title="ms3.corpus.Corpus"><code class="xref py py-class docutils literal notranslate"><span class="pre">Corpus</span></code></a> objects have already been created.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>paths</strong> – Collection of file paths. Only existing files can be added.</p></li>
<li><p><strong>corpus_name</strong> – <ul>
<li><p>By default, I will try to attribute the files to existing <a class="reference internal" href="#ms3.corpus.Corpus" title="ms3.corpus.Corpus"><code class="xref py py-class docutils literal notranslate"><span class="pre">Corpus</span></code></a> objects based on their paths. This makes sense only when new files have
been created after the directories were scanned.</p></li>
<li><p>For paths that do no not contain an existing corpus_path, I will try to detect the parent directory that is a corpus (based on it being a git or containing a <code class="docutils literal notranslate"><span class="pre">metadata.tsv</span></code>).
If this is without success for the first path, I will raise an error. Otherwise, all subsequent paths will be considered to be part of that same corpus (watch out
meaningless relative paths!).</p></li>
<li><p>You can pass a folder name contained in the first path to create a new corpus, assuming that all other paths are contained in it (watch out meaningless relative paths!).</p></li>
<li><p>Pass an existing corpus_name to add the files to a particular corpus. Note that all parseable files under the corpus_path are detected anyway, and if you add files
from other directories, it will lead to invalid relative paths that work only on your system. If you’re adding files that have been created after the Corpus object
has, you can leave this parameter empty; paths will be attributed to the existing corpora automatically.</p></li>
</ul>
</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.parse.Parse.change_labels_cfg">
<span class="sig-name descname"><span class="pre">change_labels_cfg</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">labels_cfg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">staff</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">voice</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">harmony_layer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">positioning</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color_format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/parse.html#Parse.change_labels_cfg"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.parse.Parse.change_labels_cfg" title="Permalink to this definition">¶</a></dt>
<dd><p>Update <a class="reference internal" href="#ms3.parse.Parse.labels_cfg" title="ms3.parse.Parse.labels_cfg"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Parse.labels_cfg</span></code></a> and retrieve new ‘labels’ tables accordingly.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>labels_cfg</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#dict" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>) – Using an entire dictionary or, to change only particular options, choose from:</p></li>
<li><p><strong>staff</strong> – Arguments as they will be passed to <a class="reference internal" href="#ms3.annotations.Annotations.get_labels" title="ms3.annotations.Annotations.get_labels"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_labels()</span></code></a></p></li>
<li><p><strong>voice</strong> – Arguments as they will be passed to <a class="reference internal" href="#ms3.annotations.Annotations.get_labels" title="ms3.annotations.Annotations.get_labels"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_labels()</span></code></a></p></li>
<li><p><strong>harmony_layer</strong> – Arguments as they will be passed to <a class="reference internal" href="#ms3.annotations.Annotations.get_labels" title="ms3.annotations.Annotations.get_labels"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_labels()</span></code></a></p></li>
<li><p><strong>positioning</strong> – Arguments as they will be passed to <a class="reference internal" href="#ms3.annotations.Annotations.get_labels" title="ms3.annotations.Annotations.get_labels"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_labels()</span></code></a></p></li>
<li><p><strong>decode</strong> – Arguments as they will be passed to <a class="reference internal" href="#ms3.annotations.Annotations.get_labels" title="ms3.annotations.Annotations.get_labels"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_labels()</span></code></a></p></li>
<li><p><strong>column_name</strong> – Arguments as they will be passed to <a class="reference internal" href="#ms3.annotations.Annotations.get_labels" title="ms3.annotations.Annotations.get_labels"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_labels()</span></code></a></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.parse.Parse.compare_labels">
<span class="sig-name descname"><span class="pre">compare_labels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'detached'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_color</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'ms3_darkgreen'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">old_color</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'ms3_darkred'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">detached_is_newer</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">add_to_rna</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">view_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Tuple" title="(in Python v3.10)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/ms3/parse.html#Parse.compare_labels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.parse.Parse.compare_labels" title="Permalink to this definition">¶</a></dt>
<dd><p>Compare detached labels <code class="docutils literal notranslate"><span class="pre">key</span></code> to the ones attached to the Score to create a diff.
By default, the attached labels are considered as the reviewed version and labels that have changed or been added
in comparison to the detached labels are colored in green; whereas the previous versions of changed labels are
attached to the Score in red, just like any deleted label.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> – Key of the detached labels you want to compare to the ones in the score.</p></li>
<li><p><strong>new_color</strong> – The colors by which new and old labels are differentiated. Identical labels remain unchanged. Colors can be
CSS colors or MuseScore colors (see <code class="xref py py-attr docutils literal notranslate"><span class="pre">utils.MS3_COLORS</span></code>).</p></li>
<li><p><strong>old_color</strong> – The colors by which new and old labels are differentiated. Identical labels remain unchanged. Colors can be
CSS colors or MuseScore colors (see <code class="xref py py-attr docutils literal notranslate"><span class="pre">utils.MS3_COLORS</span></code>).</p></li>
<li><p><strong>detached_is_newer</strong> – Pass True if the detached labels are to be added with <code class="docutils literal notranslate"><span class="pre">new_color</span></code> whereas the attached changed labels
will turn <code class="docutils literal notranslate"><span class="pre">old_color</span></code>, as opposed to the default.</p></li>
<li><p><strong>add_to_rna</strong> – By default, new labels are attached to the Roman Numeral layer.
Pass False to attach them to the chord layer instead.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Number of scores in which labels have changed.
Number of scores in which no label has chnged.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.parse.Parse.count_extensions">
<span class="sig-name descname"><span class="pre">count_extensions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">view_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">per_piece</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_metadata</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/parse.html#Parse.count_extensions"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.parse.Parse.count_extensions" title="Permalink to this definition">¶</a></dt>
<dd><p>Count file extensions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>keys</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a> or <a class="reference external" href="https://docs.python.org/3.10/library/collections.abc.html#collections.abc.Collection" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Collection</span></code></a>, optional) – Key(s) for which to count file extensions.  By default, all keys are selected.</p></li>
<li><p><strong>ids</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/collections.abc.html#collections.abc.Collection" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Collection</span></code></a>) – If you pass a collection of IDs, <code class="docutils literal notranslate"><span class="pre">keys</span></code> is ignored and only the selected extensions are counted.</p></li>
<li><p><strong>per_key</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – If set to True, the results are returned as a dict {key: Counter},
otherwise the counts are summed up in one Counter.</p></li>
<li><p><strong>per_subdir</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – If set to True, the results are returned as {key: {subdir: Counter} }. <code class="docutils literal notranslate"><span class="pre">per_key=True</span></code> is therefore implied.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#dict" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a> – By default, the function returns a Counter of file extensions (Counters are converted to dicts).
If <code class="docutils literal notranslate"><span class="pre">per_key</span></code> is set to True, a dictionary {key: Counter} is returned, separating the counts.
If <code class="docutils literal notranslate"><span class="pre">per_subdir</span></code> is set to True, a dictionary {key: {subdir: Counter} } is returned.</p></li>
<li><p><em>Args</em> – view_name:</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.parse.Parse.disambiguate_facet">
<span class="sig-name descname"><span class="pre">disambiguate_facet</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">facet</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Literal" title="(in Python v3.10)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'scores'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'measures'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'notes'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'rests'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'notes_and_rests'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'labels'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'expanded'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'form_labels'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'cadences'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'events'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'chords'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'unknown'</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">view_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ask_for_input</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/constants.html#None" title="(in Python v3.10)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/ms3/parse.html#Parse.disambiguate_facet"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.parse.Parse.disambiguate_facet" title="Permalink to this definition">¶</a></dt>
<dd><p>Calls the method on every selected corpus.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.parse.Parse.get_dataframes">
<span class="sig-name descname"><span class="pre">get_dataframes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">notes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rests</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">notes_and_rests</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">measures</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">events</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chords</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expanded</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">form_labels</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cadences</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">view_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">choose</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Literal" title="(in Python v3.10)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'all'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'auto'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'ask'</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'all'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unfold</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interval_index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_empty</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><span class="pre">DataFrame</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Dict" title="(in Python v3.10)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Tuple" title="(in Python v3.10)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Dict" title="(in Python v3.10)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Tuple" title="(in Python v3.10)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#ms3.utils.File" title="ms3.utils.File"><span class="pre">File</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><span class="pre">DataFrame</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Tuple" title="(in Python v3.10)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#ms3.utils.File" title="ms3.utils.File"><span class="pre">File</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><span class="pre">DataFrame</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/ms3/parse.html#Parse.get_dataframes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.parse.Parse.get_dataframes" title="Permalink to this definition">¶</a></dt>
<dd><p>Renamed to <code class="xref py py-meth docutils literal notranslate"><span class="pre">get_facets()</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.parse.Parse.get_piece">
<span class="sig-name descname"><span class="pre">get_piece</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">corpus_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">fname</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#ms3.piece.Piece" title="ms3.piece.Piece"><span class="pre">Piece</span></a></span></span><a class="reference internal" href="_modules/ms3/parse.html#Parse.get_piece"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.parse.Parse.get_piece" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an existing Piece object.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.parse.Parse.get_view">
<span class="sig-name descname"><span class="pre">get_view</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">view_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">config</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#ms3.view.View" title="ms3.view.View"><span class="pre">View</span></a></span></span><a class="reference internal" href="_modules/ms3/parse.html#Parse.get_view"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.parse.Parse.get_view" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve an existing or create a new View object, potentially while updating the config.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.parse.Parse.insert_detached_labels">
<span class="sig-name descname"><span class="pre">insert_detached_labels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">view_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'detached'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">staff</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">voice</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Literal" title="(in Python v3.10)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="m"><span class="pre">1</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="m"><span class="pre">2</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="m"><span class="pre">3</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="m"><span class="pre">4</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">harmony_layer</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Literal" title="(in Python v3.10)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="m"><span class="pre">0</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="m"><span class="pre">1</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="m"><span class="pre">2</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">check_for_clashes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/parse.html#Parse.insert_detached_labels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.parse.Parse.insert_detached_labels" title="Permalink to this definition">¶</a></dt>
<dd><p>Attach all <code class="xref py py-attr docutils literal notranslate"><span class="pre">Annotations</span></code> objects that are reachable via <code class="docutils literal notranslate"><span class="pre">Score.key</span></code> to their
respective <code class="xref py py-attr docutils literal notranslate"><span class="pre">Score</span></code>, altering the XML in memory. Calling <code class="xref py py-meth docutils literal notranslate"><span class="pre">store_scores()</span></code> will output
MuseScore files where the annotations show in the score.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> – Key under which the <code class="xref py py-attr docutils literal notranslate"><span class="pre">Annotations</span></code> objects to be attached are stored in the
<code class="xref py py-attr docutils literal notranslate"><span class="pre">Score</span></code> objects. Defaults to ‘detached’.</p></li>
<li><p><strong>staff</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>, optional) – If you pass a staff ID, the labels will be attached to that staff where 1 is the upper stuff.
By default, the staves indicated in the ‘staff’ column of <code class="xref py py-obj docutils literal notranslate"><span class="pre">ms3.annotations.Annotations.df</span></code>
will be used.</p></li>
<li><p><strong>voice</strong> (<em>{1</em><em>, </em><em>2</em><em>, </em><em>3</em><em>, </em><em>4}</em><em>, </em><em>optional</em>) – If you pass the ID of a notational layer (where 1 is the upper voice, blue in MuseScore),
the labels will be attached to that one.
By default, the notational layers indicated in the ‘voice’ column of
<code class="xref py py-obj docutils literal notranslate"><span class="pre">ms3.annotations.Annotations.df</span></code> will be used.</p></li>
<li><p><strong>harmony_layer</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>, optional) – <div class="line-block">
<div class="line">By default, the labels are written to the layer specified as an integer in the column <code class="docutils literal notranslate"><span class="pre">harmony_layer</span></code>.</div>
<div class="line">Pass an integer to select a particular layer:</div>
<div class="line">* 0 to attach them as absolute (‘guitar’) chords, meaning that when opened next time,</div>
<div class="line-block">
<div class="line">MuseScore will split and encode those beginning with a note name ( resulting in ms3-internal harmony_layer 3).</div>
</div>
<div class="line">* 1 the labels are written into the staff’s layer for Roman Numeral Analysis.</div>
<div class="line">* 2 to have MuseScore interpret them as Nashville Numbers</div>
</div>
</p></li>
<li><p><strong>check_for_clashes</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – By default, warnings are thrown when there already exists a label at a position (and in a notational
layer) where a new one is attached. Pass False to deactivate these warnings.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.parse.Parse.iter_corpora">
<span class="sig-name descname"><span class="pre">iter_corpora</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">view_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Generator" title="(in Python v3.10)"><span class="pre">Generator</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Tuple" title="(in Python v3.10)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#ms3.corpus.Corpus" title="ms3.corpus.Corpus"><span class="pre">Corpus</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/constants.html#None" title="(in Python v3.10)"><span class="pre">None</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/constants.html#None" title="(in Python v3.10)"><span class="pre">None</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/ms3/parse.html#Parse.iter_corpora"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.parse.Parse.iter_corpora" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate through corpora under the current or specified view.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.parse.Parse.load_ignored_warnings">
<span class="sig-name descname"><span class="pre">load_ignored_warnings</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/constants.html#None" title="(in Python v3.10)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/ms3/parse.html#Parse.load_ignored_warnings"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.parse.Parse.load_ignored_warnings" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a filters to all loggers included in a IGNORED_WARNINGS file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>path</strong> – Path of the IGNORED_WARNINGS file.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.parse.Parse.set_view">
<span class="sig-name descname"><span class="pre">set_view</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">active</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#ms3.view.View" title="ms3.view.View"><span class="pre">View</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">views</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#ms3.view.View" title="ms3.view.View"><span class="pre">View</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/parse.html#Parse.set_view"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.parse.Parse.set_view" title="Permalink to this definition">¶</a></dt>
<dd><p>Register one or several view_name=View pairs.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.parse.Parse.update_tsvs_on_disk">
<span class="sig-name descname"><span class="pre">update_tsvs_on_disk</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">facets</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Literal" title="(in Python v3.10)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'measures'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'notes'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'rests'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'notes_and_rests'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'labels'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'expanded'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'form_labels'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'cadences'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'events'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'chords'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Collection" title="(in Python v3.10)"><span class="pre">Collection</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Literal" title="(in Python v3.10)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'measures'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'notes'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'rests'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'notes_and_rests'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'labels'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'expanded'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'form_labels'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'cadences'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'events'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'chords'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'tsv'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">view_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">choose</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Literal" title="(in Python v3.10)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'auto'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'ask'</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'auto'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/ms3/parse.html#Parse.update_tsvs_on_disk"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.parse.Parse.update_tsvs_on_disk" title="Permalink to this definition">¶</a></dt>
<dd><p>Update existing TSV files corresponding to one or several facets with information freshly extracted from a parsed
score, but only if the contents are identical. Otherwise, the existing TSV file is not overwritten and the
differences are displayed in a log warning. The purpose is to safely update the format of existing TSV files,
(for instance with respect to column order) making sure that the content doesn’t change.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>facets</strong> – </p></li>
<li><p><strong>view_name</strong> – </p></li>
<li><p><strong>force</strong> – By default, only TSV files that have already been parsed are updated. Set to True in order to
force-parse for each facet one of the TSV files included in the given view, if necessary.</p></li>
<li><p><strong>choose</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of paths that have been overwritten.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.parse.Parse.metadata_tsv">
<span class="sig-name descname"><span class="pre">metadata_tsv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">view_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><span class="pre">DataFrame</span></a></span></span><a class="reference internal" href="_modules/ms3/parse.html#Parse.metadata_tsv"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.parse.Parse.metadata_tsv" title="Permalink to this definition">¶</a></dt>
<dd><p>Concatenates the ‘metadata.tsv’ (as they come) files for all corpora with a [corpus, fname] MultiIndex. If
you need metadata that filters out fnames according to the current view, use <code class="xref py py-meth docutils literal notranslate"><span class="pre">metadata()</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.parse.Parse.store_extracted_facets">
<span class="sig-name descname"><span class="pre">store_extracted_facets</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">view_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">root_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">measures_folder</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">measures_suffix</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">notes_folder</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">notes_suffix</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rests_folder</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rests_suffix</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">notes_and_rests_folder</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">notes_and_rests_suffix</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels_folder</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels_suffix</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expanded_folder</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expanded_suffix</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">form_labels_folder</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">form_labels_suffix</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cadences_folder</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cadences_suffix</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">events_folder</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">events_suffix</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chords_folder</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chords_suffix</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metadata_suffix</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">markdown</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">simulate</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unfold</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interval_index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">silence_label_warnings</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/parse.html#Parse.store_extracted_facets"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.parse.Parse.store_extracted_facets" title="Permalink to this definition">¶</a></dt>
<dd><p>Store facets extracted from parsed scores as TSV files.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>view_name</strong> – </p></li>
<li><p><strong>root_dir</strong> – (‘measures’, ‘notes’, ‘rests’, ‘notes_and_rests’, ‘labels’, ‘expanded’, ‘form_labels’, ‘cadences’, ‘events’, ‘chords’)</p></li>
<li><p><strong>measures_folder</strong> – Specify directory where to store the corresponding TSV files.</p></li>
<li><p><strong>notes_folder</strong> – Specify directory where to store the corresponding TSV files.</p></li>
<li><p><strong>rests_folder</strong> – Specify directory where to store the corresponding TSV files.</p></li>
<li><p><strong>notes_and_rests_folder</strong> – Specify directory where to store the corresponding TSV files.</p></li>
<li><p><strong>labels_folder</strong> – Specify directory where to store the corresponding TSV files.</p></li>
<li><p><strong>expanded_folder</strong> – Specify directory where to store the corresponding TSV files.</p></li>
<li><p><strong>form_labels_folder</strong> – Specify directory where to store the corresponding TSV files.</p></li>
<li><p><strong>cadences_folder</strong> – Specify directory where to store the corresponding TSV files.</p></li>
<li><p><strong>events_folder</strong> – Specify directory where to store the corresponding TSV files.</p></li>
<li><p><strong>chords_folder</strong> – Specify directory where to store the corresponding TSV files.</p></li>
<li><p><strong>measures_suffix</strong> – Optionally specify suffixes appended to the TSVs’ file names. If <code class="docutils literal notranslate"><span class="pre">unfold=True</span></code> the suffixes default to <code class="docutils literal notranslate"><span class="pre">_unfolded</span></code>.</p></li>
<li><p><strong>notes_suffix</strong> – Optionally specify suffixes appended to the TSVs’ file names. If <code class="docutils literal notranslate"><span class="pre">unfold=True</span></code> the suffixes default to <code class="docutils literal notranslate"><span class="pre">_unfolded</span></code>.</p></li>
<li><p><strong>rests_suffix</strong> – Optionally specify suffixes appended to the TSVs’ file names. If <code class="docutils literal notranslate"><span class="pre">unfold=True</span></code> the suffixes default to <code class="docutils literal notranslate"><span class="pre">_unfolded</span></code>.</p></li>
<li><p><strong>notes_and_rests_suffix</strong> – Optionally specify suffixes appended to the TSVs’ file names. If <code class="docutils literal notranslate"><span class="pre">unfold=True</span></code> the suffixes default to <code class="docutils literal notranslate"><span class="pre">_unfolded</span></code>.</p></li>
<li><p><strong>labels_suffix</strong> – Optionally specify suffixes appended to the TSVs’ file names. If <code class="docutils literal notranslate"><span class="pre">unfold=True</span></code> the suffixes default to <code class="docutils literal notranslate"><span class="pre">_unfolded</span></code>.</p></li>
<li><p><strong>expanded_suffix</strong> – Optionally specify suffixes appended to the TSVs’ file names. If <code class="docutils literal notranslate"><span class="pre">unfold=True</span></code> the suffixes default to <code class="docutils literal notranslate"><span class="pre">_unfolded</span></code>.</p></li>
<li><p><strong>form_labels_suffix</strong> – Optionally specify suffixes appended to the TSVs’ file names. If <code class="docutils literal notranslate"><span class="pre">unfold=True</span></code> the suffixes default to <code class="docutils literal notranslate"><span class="pre">_unfolded</span></code>.</p></li>
<li><p><strong>cadences_suffix</strong> – Optionally specify suffixes appended to the TSVs’ file names. If <code class="docutils literal notranslate"><span class="pre">unfold=True</span></code> the suffixes default to <code class="docutils literal notranslate"><span class="pre">_unfolded</span></code>.</p></li>
<li><p><strong>events_suffix</strong> – Optionally specify suffixes appended to the TSVs’ file names. If <code class="docutils literal notranslate"><span class="pre">unfold=True</span></code> the suffixes default to <code class="docutils literal notranslate"><span class="pre">_unfolded</span></code>.</p></li>
<li><p><strong>chords_suffix</strong> – Optionally specify suffixes appended to the TSVs’ file names. If <code class="docutils literal notranslate"><span class="pre">unfold=True</span></code> the suffixes default to <code class="docutils literal notranslate"><span class="pre">_unfolded</span></code>.</p></li>
<li><p><strong>metadata_suffix</strong> – Specify a suffix to update the ‘metadata{suffix}.tsv’ file for each corpus. For the main file, pass ‘’</p></li>
<li><p><strong>markdown</strong> – By default, when <code class="docutils literal notranslate"><span class="pre">metadata_path</span></code> is specified, a markdown file called <code class="docutils literal notranslate"><span class="pre">README.md</span></code> containing
the columns [file_name, measures, labels, standard, annotators, reviewers] is created. If it exists already,
this table will be appended or overwritten after the heading <code class="docutils literal notranslate"><span class="pre">#</span> <span class="pre">Overview</span></code>.</p></li>
<li><p><strong>simulate</strong> – </p></li>
<li><p><strong>unfold</strong> – By default, repetitions are not unfolded. Pass True to duplicate values so that they correspond to a full
playthrough, including correct positioning of first and second endings.</p></li>
<li><p><strong>interval_index</strong> – </p></li>
<li><p><strong>silence_label_warnings</strong> – </p></li>
</ul>
</dd>
</dl>
<p>Returns:</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.parse.Parse.store_parsed_scores">
<span class="sig-name descname"><span class="pre">store_parsed_scores</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">view_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">only_changed</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">root_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">folder</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'.'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">suffix</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">simulate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Dict" title="(in Python v3.10)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/ms3/parse.html#Parse.store_parsed_scores"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.parse.Parse.store_parsed_scores" title="Permalink to this definition">¶</a></dt>
<dd><p>Stores all parsed scores under this view as MuseScore 3 files.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>view_name</strong> – </p></li>
<li><p><strong>only_changed</strong> – By default, only scores that have been modified since parsing are written. Set to False to store
all scores regardless.</p></li>
<li><p><strong>root_dir</strong> – </p></li>
<li><p><strong>folder</strong> – </p></li>
<li><p><strong>suffix</strong> – Suffix to append to the original file name.</p></li>
<li><p><strong>overwrite</strong> – Pass True to overwrite existing files.</p></li>
<li><p><strong>simulate</strong> – Set to True if no files are to be written.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Paths of the stored files.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.parse.Parse.parse">
<span class="sig-name descname"><span class="pre">parse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">view_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">level</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parallel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">only_new</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels_cfg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">infer_types</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/parse.html#Parse.parse"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.parse.Parse.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>Shorthand for executing parse_scores and parse_tsv at a time.
:param view_name:</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.parse.Parse.parse_mscx">
<span class="sig-name descname"><span class="pre">parse_mscx</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/parse.html#Parse.parse_mscx"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.parse.Parse.parse_mscx" title="Permalink to this definition">¶</a></dt>
<dd><p>Deprecated method. Replaced by <a class="reference internal" href="#ms3.parse.Parse.parse_scores" title="ms3.parse.Parse.parse_scores"><code class="xref py py-meth docutils literal notranslate"><span class="pre">parse_scores()</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.parse.Parse.parse_scores">
<span class="sig-name descname"><span class="pre">parse_scores</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">level</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parallel</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">only_new</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels_cfg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#dict" title="(in Python v3.10)"><span class="pre">dict</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">view_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">choose</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Literal" title="(in Python v3.10)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'all'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'auto'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'ask'</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'all'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/parse.html#Parse.parse_scores"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.parse.Parse.parse_scores" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse MuseScore 3 files (MSCX or MSCZ) and store the resulting read-only Score objects. If they need
to be writeable, e.g. for removing or adding labels, pass <code class="docutils literal notranslate"><span class="pre">parallel=False</span></code> which takes longer but prevents
having to re-parse at a later point.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>keys</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a> or <a class="reference external" href="https://docs.python.org/3.10/library/collections.abc.html#collections.abc.Collection" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Collection</span></code></a>, optional) – For which key(s) to parse all MSCX files.</p></li>
<li><p><strong>ids</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/collections.abc.html#collections.abc.Collection" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Collection</span></code></a>) – To parse only particular files, pass their IDs. <code class="docutils literal notranslate"><span class="pre">keys</span></code> and <code class="docutils literal notranslate"><span class="pre">fexts</span></code> are ignored in this case.</p></li>
<li><p><strong>level</strong> (<em>{'W'</em><em>, </em><em>'D'</em><em>, </em><em>'I'</em><em>, </em><em>'E'</em><em>, </em><em>'C'</em><em>, </em><em>'WARNING'</em><em>, </em><em>'DEBUG'</em><em>, </em><em>'INFO'</em><em>, </em><em>'ERROR'</em><em>, </em><em>'CRITICAL'}</em><em>, </em><em>optional</em>) – Pass a level name for which (and above which) you want to see log records.</p></li>
<li><p><strong>parallel</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Defaults to True, meaning that all CPU cores are used simultaneously to speed up the parsing. It implies
that the resulting Score objects are in read-only mode and that you might not be able to use the computer
during parsing. Pass False to parse one score after the other, which uses more memory but will allow
making changes to the scores.</p></li>
<li><p><strong>only_new</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – By default, score which already have been parsed, are not parsed again. Pass False to parse them, too.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.parse.Parse.parse_tsv">
<span class="sig-name descname"><span class="pre">parse_tsv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">view_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">level</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">infer_types</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">only_new</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">choose</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Literal" title="(in Python v3.10)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'all'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'auto'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'ask'</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'all'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/parse.html#Parse.parse_tsv"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.parse.Parse.parse_tsv" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse TSV files (or other value-separated files such as CSV) to be able to do something with them.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>keys</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a> or <a class="reference external" href="https://docs.python.org/3.10/library/collections.abc.html#collections.abc.Collection" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Collection</span></code></a>, optional) – Key(s) for which to parse all non-MSCX files.  By default, all keys are selected.</p></li>
<li><p><strong>ids</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/collections.abc.html#collections.abc.Collection" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Collection</span></code></a>) – To parse only particular files, pass there IDs. <code class="docutils literal notranslate"><span class="pre">keys</span></code> and <code class="docutils literal notranslate"><span class="pre">fexts</span></code> are ignored in this case.</p></li>
<li><p><strong>fexts</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a> or <a class="reference external" href="https://docs.python.org/3.10/library/collections.abc.html#collections.abc.Collection" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Collection</span></code></a>, optional) – If you want to parse only files with one or several particular file extension(s), pass the extension(s)</p></li>
<li><p><strong>cols</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#dict" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>, optional) – By default, if a column called <code class="docutils literal notranslate"><span class="pre">'label'</span></code> is found, the TSV is treated as an annotation table and turned into
an Annotations object. Pass one or several column name(s) to treat <em>them</em> as label columns instead. If you
pass <code class="docutils literal notranslate"><span class="pre">{}</span></code> or no label column is found, the TSV is parsed as a “normal” table, i.e. a DataFrame.</p></li>
<li><p><strong>infer_types</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#dict" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>, optional) – To recognize one or several custom label type(s), pass <code class="docutils literal notranslate"><span class="pre">{name:</span> <span class="pre">regEx}</span></code>.</p></li>
<li><p><strong>level</strong> (<em>{'W'</em><em>, </em><em>'D'</em><em>, </em><em>'I'</em><em>, </em><em>'E'</em><em>, </em><em>'C'</em><em>, </em><em>'WARNING'</em><em>, </em><em>'DEBUG'</em><em>, </em><em>'INFO'</em><em>, </em><em>'ERROR'</em><em>, </em><em>'CRITICAL'}</em><em>, </em><em>optional</em>) – Pass a level name for which (and above which) you want to see log records.</p></li>
<li><p><strong>**kwargs</strong> – Arguments for <a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.to_csv.html#pandas.DataFrame.to_csv" title="(in pandas v1.5.2)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pandas.DataFrame.to_csv()</span></code></a>. Defaults to <code class="docutils literal notranslate"><span class="pre">{'sep':</span> <span class="pre">'</span>&#160;&#160; <span class="pre">',</span> <span class="pre">'index':</span> <span class="pre">False}</span></code>. In particular,
you might want to update the default dictionaries for <code class="docutils literal notranslate"><span class="pre">dtypes</span></code> and <code class="docutils literal notranslate"><span class="pre">converters</span></code> used in <code class="xref py py-func docutils literal notranslate"><span class="pre">load_tsv()</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>None</em></p></li>
<li><p><em>Args</em> – only_new:
view_name:</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.parse.Parse.__iter__">
<span class="sig-name descname"><span class="pre">__iter__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Iterator" title="(in Python v3.10)"><span class="pre">Iterator</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Tuple" title="(in Python v3.10)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#ms3.corpus.Corpus" title="ms3.corpus.Corpus"><span class="pre">Corpus</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/ms3/parse.html#Parse.__iter__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.parse.Parse.__iter__" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate through all (corpus_name, Corpus) tuples, regardless of any Views.</p>
<p>Yields: (corpus_name, Corpus) tuples</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.parse.Parse.__repr__">
<span class="sig-name descname"><span class="pre">__repr__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/parse.html#Parse.__repr__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.parse.Parse.__repr__" title="Permalink to this definition">¶</a></dt>
<dd><p>Show the <code class="xref py py-meth docutils literal notranslate"><span class="pre">info()</span></code> under the active view.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-ms3.corpus">
<span id="the-corpus-class"></span><h2>The Corpus class<a class="headerlink" href="#module-ms3.corpus" title="Permalink to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="ms3.corpus.Corpus">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ms3.corpus.</span></span><span class="sig-name descname"><span class="pre">Corpus</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">directory</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">view</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#ms3.view.View" title="ms3.view.View"><span class="pre">View</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">only_metadata_fnames</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_convertible</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_tsv</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude_review</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_re</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Pattern</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">folder_re</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Pattern</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude_re</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Pattern</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">paths</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Collection" title="(in Python v3.10)"><span class="pre">Collection</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels_cfg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ms</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">logger_cfg</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/corpus.html#Corpus"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.corpus.Corpus" title="Permalink to this definition">¶</a></dt>
<dd><p>Collection of scores and TSV files that can be matched to each other based on their file names.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="ms3.corpus.Corpus.corpus_path">
<span class="sig-name descname"><span class="pre">corpus_path</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></em><a class="headerlink" href="#ms3.corpus.Corpus.corpus_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Path where the corpus is located.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ms3.corpus.Corpus.name">
<span class="sig-name descname"><span class="pre">name</span></span><a class="headerlink" href="#ms3.corpus.Corpus.name" title="Permalink to this definition">¶</a></dt>
<dd><p>Folder name of the corpus.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ms3.corpus.Corpus.files">
<span class="sig-name descname"><span class="pre">files</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#list" title="(in Python v3.10)"><span class="pre">list</span></a></em><a class="headerlink" href="#ms3.corpus.Corpus.files" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">[File]</span></code> list of <code class="xref py py-obj docutils literal notranslate"><span class="pre">File</span></code> data objects containing information on the file location
etc. for all detected files.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ms3.corpus.Corpus.labels_cfg">
<span class="sig-name descname"><span class="pre">labels_cfg</span></span><a class="headerlink" href="#ms3.corpus.Corpus.labels_cfg" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#dict" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>
Configuration dictionary to determine the output format of <code class="xref py py-attr docutils literal notranslate"><span class="pre">labels</span></code> and
<code class="xref py py-attr docutils literal notranslate"><span class="pre">expanded</span></code> tables. The dictonary is passed to <code class="xref py py-attr docutils literal notranslate"><span class="pre">Score</span></code> upon parsing.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ms3.corpus.Corpus.metadata_tsv">
<span class="sig-name descname"><span class="pre">metadata_tsv</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">pd.DataFrame</span></em><a class="headerlink" href="#ms3.corpus.Corpus.metadata_tsv" title="Permalink to this definition">¶</a></dt>
<dd><p>The parsed ‘metadata.tsv’ file for the corpus.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ms3.corpus.Corpus.metadata_ix">
<span class="sig-name descname"><span class="pre">metadata_ix</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></em><a class="headerlink" href="#ms3.corpus.Corpus.metadata_ix" title="Permalink to this definition">¶</a></dt>
<dd><p>The index of the ‘metadata.tsv’ file for the corpus.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ms3.corpus.Corpus.ix2fname">
<span class="sig-name descname"><span class="pre">ix2fname</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#ms3.corpus.Corpus.ix2fname" title="Permalink to this definition">¶</a></dt>
<dd><p>{ix -&gt; fname} dict for associating files with the piece they have been matched to.
None for indices that could not be matched, e.g. metadata.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ms3.corpus.Corpus.ix2metadata_file">
<span class="sig-name descname"><span class="pre">ix2metadata_file</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#ms3.utils.File" title="ms3.utils.File"><span class="pre">File</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#ms3.corpus.Corpus.ix2metadata_file" title="Permalink to this definition">¶</a></dt>
<dd><p>{ix -&gt; File} dict for collecting all metadata files.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ms3.corpus.Corpus.ix2orphan_file">
<span class="sig-name descname"><span class="pre">ix2orphan_file</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#ms3.utils.File" title="ms3.utils.File"><span class="pre">File</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#ms3.corpus.Corpus.ix2orphan_file" title="Permalink to this definition">¶</a></dt>
<dd><p>{ix -&gt; File} dict for collecting all metadata files.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ms3.corpus.Corpus.score_fnames">
<span class="sig-name descname"><span class="pre">score_fnames</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#ms3.corpus.Corpus.score_fnames" title="Permalink to this definition">¶</a></dt>
<dd><p>Sorted list of unique file names of all detected scores</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ms3.corpus.Corpus.n_pieces">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">n_pieces</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></em><a class="headerlink" href="#ms3.corpus.Corpus.n_pieces" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of all available pieces (‘fnames’), independent of the view.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.corpus.Corpus.collect_fnames_from_scores">
<span class="sig-name descname"><span class="pre">collect_fnames_from_scores</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/constants.html#None" title="(in Python v3.10)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/ms3/corpus.html#Corpus.collect_fnames_from_scores"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.corpus.Corpus.collect_fnames_from_scores" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct sorted list of fnames from all detected scores.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.corpus.Corpus.create_metadata_tsv">
<span class="sig-name descname"><span class="pre">create_metadata_tsv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">suffix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">view_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/ms3/corpus.html#Corpus.create_metadata_tsv"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.corpus.Corpus.create_metadata_tsv" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a ‘metadata.tsv’ file for the current view.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.corpus.Corpus.create_pieces">
<span class="sig-name descname"><span class="pre">create_pieces</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fnames</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Collection" title="(in Python v3.10)"><span class="pre">Collection</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/constants.html#None" title="(in Python v3.10)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/ms3/corpus.html#Corpus.create_pieces"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.corpus.Corpus.create_pieces" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates and stores one <code class="xref py py-obj docutils literal notranslate"><span class="pre">Piece</span></code> object per fname.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.corpus.Corpus.detect_parseable_files">
<span class="sig-name descname"><span class="pre">detect_parseable_files</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/constants.html#None" title="(in Python v3.10)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/ms3/corpus.html#Corpus.detect_parseable_files"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.corpus.Corpus.detect_parseable_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Walks through the corpus_path and collects information on all parseable files.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.corpus.Corpus.disambiguate_facet">
<span class="sig-name descname"><span class="pre">disambiguate_facet</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">facet</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Literal" title="(in Python v3.10)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'scores'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'measures'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'notes'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'rests'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'notes_and_rests'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'labels'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'expanded'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'form_labels'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'cadences'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'events'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'chords'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'unknown'</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">view_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ask_for_input</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/constants.html#None" title="(in Python v3.10)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/ms3/corpus.html#Corpus.disambiguate_facet"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.corpus.Corpus.disambiguate_facet" title="Permalink to this definition">¶</a></dt>
<dd><p>Make sure that, for a given facet, the current view includes only one or zero files. If at least one piece
has more than one file, the user will be asked which ones to use. The others will be excluded from the view.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>facet</strong> – Which facet to disambiguate.</p></li>
<li><p><strong>ask_for_input</strong> – By default, if there is anything to disambiguate, the user is asked to select a group of files.
Pass False to see only the questions and choices without actually disambiguating.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.corpus.Corpus.extract_facets">
<span class="sig-name descname"><span class="pre">extract_facets</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">facets</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Literal" title="(in Python v3.10)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'measures'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'notes'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'rests'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'notes_and_rests'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'labels'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'expanded'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'form_labels'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'cadences'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'events'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'chords'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Collection" title="(in Python v3.10)"><span class="pre">Collection</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Literal" title="(in Python v3.10)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'measures'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'notes'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'rests'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'notes_and_rests'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'labels'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'expanded'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'form_labels'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'cadences'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'events'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'chords'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">view_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">choose</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Literal" title="(in Python v3.10)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'auto'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'ask'</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'auto'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unfold</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interval_index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Dict" title="(in Python v3.10)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Dict" title="(in Python v3.10)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Tuple" title="(in Python v3.10)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#ms3.utils.File" title="ms3.utils.File"><span class="pre">File</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><span class="pre">DataFrame</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Tuple" title="(in Python v3.10)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#ms3.utils.File" title="ms3.utils.File"><span class="pre">File</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><span class="pre">DataFrame</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/ms3/corpus.html#Corpus.extract_facets"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.corpus.Corpus.extract_facets" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve a dictionary with the selected feature matrices extracted from the parsed scores.
If you want to retrieve parsed TSV files, use <code class="xref py py-meth docutils literal notranslate"><span class="pre">get_all_parsed()</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.corpus.Corpus.find_and_load_metadata">
<span class="sig-name descname"><span class="pre">find_and_load_metadata</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/constants.html#None" title="(in Python v3.10)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/ms3/corpus.html#Corpus.find_and_load_metadata"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.corpus.Corpus.find_and_load_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if a ‘metadata.tsv’ is present at the default path and parses it.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.corpus.Corpus.fnames_in_metadata">
<span class="sig-name descname"><span class="pre">fnames_in_metadata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">metadata_ix</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/ms3/corpus.html#Corpus.fnames_in_metadata"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.corpus.Corpus.fnames_in_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>fnames (file names without extension and suffix) serve as IDs for pieces. Retrieve
those that are listed in the ‘metadata.tsv’ file for this corpus. The argument is simply
self.metadata_ix and serves caching of the results for multiple metadata.tsv files.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.corpus.Corpus.fnames_not_in_metadata">
<span class="sig-name descname"><span class="pre">fnames_not_in_metadata</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/ms3/corpus.html#Corpus.fnames_not_in_metadata"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.corpus.Corpus.fnames_not_in_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>fnames (file names without extension and suffix) serve as IDs for pieces. Retrieve
those that are not listed in the ‘metadata.tsv’ file for this corpus.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.corpus.Corpus.get_dataframes">
<span class="sig-name descname"><span class="pre">get_dataframes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">notes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rests</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">notes_and_rests</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">measures</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">events</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chords</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expanded</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">form_labels</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cadences</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">view_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">choose</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Literal" title="(in Python v3.10)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'all'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'auto'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'ask'</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'all'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unfold</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interval_index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_empty</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Dict" title="(in Python v3.10)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Dict" title="(in Python v3.10)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Tuple" title="(in Python v3.10)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#ms3.utils.File" title="ms3.utils.File"><span class="pre">File</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><span class="pre">DataFrame</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Tuple" title="(in Python v3.10)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#ms3.utils.File" title="ms3.utils.File"><span class="pre">File</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><span class="pre">DataFrame</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/ms3/corpus.html#Corpus.get_dataframes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.corpus.Corpus.get_dataframes" title="Permalink to this definition">¶</a></dt>
<dd><p>Renamed to <a class="reference internal" href="#ms3.corpus.Corpus.get_facets" title="ms3.corpus.Corpus.get_facets"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_facets()</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.corpus.Corpus.get_facet">
<span class="sig-name descname"><span class="pre">get_facet</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">facet</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Literal" title="(in Python v3.10)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'measures'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'notes'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'rests'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'notes_and_rests'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'labels'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'expanded'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'form_labels'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'cadences'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'events'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'chords'</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">view_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">choose</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Literal" title="(in Python v3.10)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'auto'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'ask'</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'auto'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unfold</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interval_index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">concatenate</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Dict" title="(in Python v3.10)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Tuple" title="(in Python v3.10)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#ms3.utils.File" title="ms3.utils.File"><span class="pre">File</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><span class="pre">DataFrame</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><span class="pre">DataFrame</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/ms3/corpus.html#Corpus.get_facet"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.corpus.Corpus.get_facet" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves exactly one DataFrame per piece, if available.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.corpus.Corpus.get_facets">
<span class="sig-name descname"><span class="pre">get_facets</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">facets</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Literal" title="(in Python v3.10)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'measures'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'notes'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'rests'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'notes_and_rests'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'labels'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'expanded'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'form_labels'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'cadences'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'events'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'chords'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Collection" title="(in Python v3.10)"><span class="pre">Collection</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Literal" title="(in Python v3.10)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'measures'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'notes'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'rests'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'notes_and_rests'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'labels'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'expanded'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'form_labels'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'cadences'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'events'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'chords'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">view_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">choose</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Literal" title="(in Python v3.10)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'all'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'auto'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'ask'</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'all'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unfold</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interval_index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_empty</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Dict" title="(in Python v3.10)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Dict" title="(in Python v3.10)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Tuple" title="(in Python v3.10)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#ms3.utils.File" title="ms3.utils.File"><span class="pre">File</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><span class="pre">DataFrame</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Tuple" title="(in Python v3.10)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#ms3.utils.File" title="ms3.utils.File"><span class="pre">File</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><span class="pre">DataFrame</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/ms3/corpus.html#Corpus.get_facets"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.corpus.Corpus.get_facets" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>facets</strong> – </p></li>
<li><p><strong>view_name</strong> – </p></li>
<li><p><strong>force</strong> – Only relevant when <code class="docutils literal notranslate"><span class="pre">choose='all'</span></code>. By default, only scores and TSV files that have already been
parsed are taken into account. Set <code class="docutils literal notranslate"><span class="pre">force=True</span></code> to force-parse all scores and TSV files selected
under the given view.</p></li>
<li><p><strong>choose</strong> – </p></li>
<li><p><strong>unfold</strong> – </p></li>
<li><p><strong>interval_index</strong> – </p></li>
<li><p><strong>flat</strong> – </p></li>
<li><p><strong>include_empty</strong> – </p></li>
</ul>
</dd>
</dl>
<p>Returns:</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.corpus.Corpus.get_all_fnames">
<span class="sig-name descname"><span class="pre">get_all_fnames</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fnames_in_metadata</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fnames_not_in_metadata</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/ms3/corpus.html#Corpus.get_all_fnames"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.corpus.Corpus.get_all_fnames" title="Permalink to this definition">¶</a></dt>
<dd><p>fnames (file names without extension and suffix) serve as IDs for pieces. Use
this function to retrieve the comprehensive list, ignoring views.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fnames_in_metadata</strong> – fnames that are listed in the ‘metadata.tsv’ file for this corpus, if present</p></li>
<li><p><strong>fnames_not_in_metadata</strong> – fnames that are not listed in the ‘metadata.tsv’ file for this corpus</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The file names included in ‘metadata.tsv’ and/or those of all other scores.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.corpus.Corpus.get_fnames">
<span class="sig-name descname"><span class="pre">get_fnames</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">view_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/ms3/corpus.html#Corpus.get_fnames"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.corpus.Corpus.get_fnames" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve fnames included in the current or selected view.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.corpus.Corpus.get_piece">
<span class="sig-name descname"><span class="pre">get_piece</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fname</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#ms3.piece.Piece" title="ms3.piece.Piece"><span class="pre">Piece</span></a></span></span><a class="reference internal" href="_modules/ms3/corpus.html#Corpus.get_piece"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.corpus.Corpus.get_piece" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the <code class="xref py py-obj docutils literal notranslate"><span class="pre">Piece</span></code> object for fname.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.corpus.Corpus.get_view">
<span class="sig-name descname"><span class="pre">get_view</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">view_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">config</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#ms3.view.View" title="ms3.view.View"><span class="pre">View</span></a></span></span><a class="reference internal" href="_modules/ms3/corpus.html#Corpus.get_view"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.corpus.Corpus.get_view" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve an existing or create a new View object, potentially while updating the config.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.corpus.Corpus.iter_facets">
<span class="sig-name descname"><span class="pre">iter_facets</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">facets</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Literal" title="(in Python v3.10)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'measures'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'notes'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'rests'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'notes_and_rests'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'labels'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'expanded'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'form_labels'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'cadences'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'events'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'chords'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Collection" title="(in Python v3.10)"><span class="pre">Collection</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Literal" title="(in Python v3.10)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'measures'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'notes'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'rests'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'notes_and_rests'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'labels'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'expanded'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'form_labels'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'cadences'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'events'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'chords'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">view_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">choose</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Literal" title="(in Python v3.10)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'auto'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'ask'</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'auto'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unfold</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interval_index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_files</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Iterator" title="(in Python v3.10)"><span class="pre">Iterator</span></a></span></span><a class="reference internal" href="_modules/ms3/corpus.html#Corpus.iter_facets"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.corpus.Corpus.iter_facets" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate through (fname, <a href="#id1"><span class="problematic" id="id2">*</span></a>DataFrame) tuples containing exactly one or zero DataFrames per requested facet.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>facets</strong> – </p></li>
<li><p><strong>view_name</strong> – </p></li>
<li><p><strong>choose</strong> – </p></li>
<li><p><strong>unfold</strong> – </p></li>
<li><p><strong>interval_index</strong> – </p></li>
<li><p><strong>include_files</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>(fname, <a href="#id3"><span class="problematic" id="id4">*</span></a>DataFrame) tuples containing exactly one or zero DataFrames per requested facet per piece (fname).</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.corpus.Corpus.iter_pieces">
<span class="sig-name descname"><span class="pre">iter_pieces</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">view_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Iterator" title="(in Python v3.10)"><span class="pre">Iterator</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Tuple" title="(in Python v3.10)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#ms3.piece.Piece" title="ms3.piece.Piece"><span class="pre">Piece</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/ms3/corpus.html#Corpus.iter_pieces"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.corpus.Corpus.iter_pieces" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate through (name, corpus) tuples under the current or specified view.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.corpus.Corpus.load_facet_into_scores">
<span class="sig-name descname"><span class="pre">load_facet_into_scores</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">facet</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Literal" title="(in Python v3.10)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'expanded'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'labels'</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">view_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">choose</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Literal" title="(in Python v3.10)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'auto'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'ask'</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'auto'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">git_revision</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'detached'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">infer</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">cols</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span></span><a class="reference internal" href="_modules/ms3/corpus.html#Corpus.load_facet_into_scores"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.corpus.Corpus.load_facet_into_scores" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads annotations from maximum one TSV file to maximum one score per piece. Each score will contain the
annotations as a ‘detached’ annotation object accessible via the indicated <code class="docutils literal notranslate"><span class="pre">key</span></code> (defaults to ‘detached’).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.corpus.Corpus.look_for_ignored_warnings">
<span class="sig-name descname"><span class="pre">look_for_ignored_warnings</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">directory</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/corpus.html#Corpus.look_for_ignored_warnings"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.corpus.Corpus.look_for_ignored_warnings" title="Permalink to this definition">¶</a></dt>
<dd><p>Looks for a text file called IGNORED_WARNINGS and, if it exists, loads it, configuring loggers as indicated.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.corpus.Corpus.load_ignored_warnings">
<span class="sig-name descname"><span class="pre">load_ignored_warnings</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Tuple" title="(in Python v3.10)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/logging.html#logging.Logger" title="(in Python v3.10)"><span class="pre">Logger</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/ms3/corpus.html#Corpus.load_ignored_warnings"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.corpus.Corpus.load_ignored_warnings" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads in a text file containing warnings that are to be ignored, i.e., wrapped in DEBUG messages. The purpose
is to mark certain warnings as OK, warranted by a human, to allow checks to pass regardless.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.corpus.Corpus.load_metadata_file">
<span class="sig-name descname"><span class="pre">load_metadata_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#ms3.utils.File" title="ms3.utils.File"><span class="pre">File</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">allow_prefixed</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/constants.html#None" title="(in Python v3.10)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/ms3/corpus.html#Corpus.load_metadata_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.corpus.Corpus.load_metadata_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads the TSV file at the given path and stores it as metadata. If the file is called ‘metadata.tsv’ it will
be treated as the corpus’ main file for determining fnames. Otherwise it is expected to be named ‘metadata{suffix}.tsv’
and the suffix will be used as name for an additionally created view.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.corpus.Corpus.parse">
<span class="sig-name descname"><span class="pre">parse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">view_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">level</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parallel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">only_new</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels_cfg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">infer_types</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/corpus.html#Corpus.parse"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.corpus.Corpus.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>Shorthand for executing parse_scores and parse_tsv at a time.
:param view_name:</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.corpus.Corpus.parse_mscx">
<span class="sig-name descname"><span class="pre">parse_mscx</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/corpus.html#Corpus.parse_mscx"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.corpus.Corpus.parse_mscx" title="Permalink to this definition">¶</a></dt>
<dd><p>Renamed to <a class="reference internal" href="#ms3.corpus.Corpus.parse_scores" title="ms3.corpus.Corpus.parse_scores"><code class="xref py py-meth docutils literal notranslate"><span class="pre">parse_scores()</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.corpus.Corpus.parse_scores">
<span class="sig-name descname"><span class="pre">parse_scores</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">level</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parallel</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">only_new</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels_cfg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#dict" title="(in Python v3.10)"><span class="pre">dict</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">view_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">choose</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Literal" title="(in Python v3.10)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'all'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'auto'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'ask'</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'all'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/corpus.html#Corpus.parse_scores"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.corpus.Corpus.parse_scores" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse MuseScore 3 files (MSCX or MSCZ) and store the resulting read-only Score objects. If they need
to be writeable, e.g. for removing or adding labels, pass <code class="docutils literal notranslate"><span class="pre">parallel=False</span></code> which takes longer but prevents
having to re-parse at a later point.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>level</strong> (<em>{'W'</em><em>, </em><em>'D'</em><em>, </em><em>'I'</em><em>, </em><em>'E'</em><em>, </em><em>'C'</em><em>, </em><em>'WARNING'</em><em>, </em><em>'DEBUG'</em><em>, </em><em>'INFO'</em><em>, </em><em>'ERROR'</em><em>, </em><em>'CRITICAL'}</em><em>, </em><em>optional</em>) – Pass a level name for which (and above which) you want to see log records.</p></li>
<li><p><strong>parallel</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Defaults to True, meaning that all CPU cores are used simultaneously to speed up the parsing. It implies
that the resulting Score objects are in read-only mode and that you might not be able to use the computer
during parsing. Set to False to parse one score after the other, which uses more memory but will allow
making changes to the scores.</p></li>
<li><p><strong>only_new</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – By default, score which already have been parsed, are not parsed again. Pass False to parse them, too.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.corpus.Corpus.parse_tsv">
<span class="sig-name descname"><span class="pre">parse_tsv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">view_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">infer_types</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">level</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">only_new</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">choose</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Literal" title="(in Python v3.10)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'all'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'auto'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'ask'</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'all'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/corpus.html#Corpus.parse_tsv"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.corpus.Corpus.parse_tsv" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse TSV files to be able to do something with them.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>keys</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a> or <a class="reference external" href="https://docs.python.org/3.10/library/collections.abc.html#collections.abc.Collection" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Collection</span></code></a>, optional) – Key(s) for which to parse all non-MSCX files.  By default, all keys are selected.</p></li>
<li><p><strong>ids</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/collections.abc.html#collections.abc.Collection" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Collection</span></code></a>) – To parse only particular files, pass there IDs. <code class="docutils literal notranslate"><span class="pre">keys</span></code> and <code class="docutils literal notranslate"><span class="pre">fexts</span></code> are ignored in this case.</p></li>
<li><p><strong>fexts</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a> or <a class="reference external" href="https://docs.python.org/3.10/library/collections.abc.html#collections.abc.Collection" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Collection</span></code></a>, optional) – If you want to parse only files with one or several particular file extension(s), pass the extension(s)</p></li>
<li><p><strong>cols</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#dict" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>, optional) – By default, if a column called <code class="docutils literal notranslate"><span class="pre">'label'</span></code> is found, the TSV is treated as an annotation table and turned into
an Annotations object. Pass one or several column name(s) to treat <em>them</em> as label columns instead. If you
pass <code class="docutils literal notranslate"><span class="pre">{}</span></code> or no label column is found, the TSV is parsed as a “normal” table, i.e. a DataFrame.</p></li>
<li><p><strong>infer_types</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#dict" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>, optional) – To recognize one or several custom label type(s), pass <code class="docutils literal notranslate"><span class="pre">{name:</span> <span class="pre">regEx}</span></code>.</p></li>
<li><p><strong>level</strong> (<em>{'W'</em><em>, </em><em>'D'</em><em>, </em><em>'I'</em><em>, </em><em>'E'</em><em>, </em><em>'C'</em><em>, </em><em>'WARNING'</em><em>, </em><em>'DEBUG'</em><em>, </em><em>'INFO'</em><em>, </em><em>'ERROR'</em><em>, </em><em>'CRITICAL'}</em><em>, </em><em>optional</em>) – Pass a level name for which (and above which) you want to see log records.</p></li>
<li><p><strong>**kwargs</strong> – Arguments for <a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.to_csv.html#pandas.DataFrame.to_csv" title="(in pandas v1.5.2)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pandas.DataFrame.to_csv()</span></code></a>. Defaults to <code class="docutils literal notranslate"><span class="pre">{'sep':</span> <span class="pre">'</span>&#160;&#160; <span class="pre">',</span> <span class="pre">'index':</span> <span class="pre">False}</span></code>. In particular,
you might want to update the default dictionaries for <code class="docutils literal notranslate"><span class="pre">dtypes</span></code> and <code class="docutils literal notranslate"><span class="pre">converters</span></code> used in <code class="xref py py-func docutils literal notranslate"><span class="pre">load_tsv()</span></code>.
Passing kwargs prevents ms3 from parsing TSVs in parallel, so it will be a bit slower.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.corpus.Corpus.metadata">
<span class="sig-name descname"><span class="pre">metadata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">view_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">choose</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Literal" title="(in Python v3.10)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'auto'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'ask'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><span class="pre">DataFrame</span></a></span></span><a class="reference internal" href="_modules/ms3/corpus.html#Corpus.metadata"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.corpus.Corpus.metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns metadata.tsv but only for fnames included in the current or indicated view. If no TSV file is present,
get metadata from the current scores.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.corpus.Corpus.set_view">
<span class="sig-name descname"><span class="pre">set_view</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">active</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#ms3.view.View" title="ms3.view.View"><span class="pre">View</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">views</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#ms3.view.View" title="ms3.view.View"><span class="pre">View</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/corpus.html#Corpus.set_view"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.corpus.Corpus.set_view" title="Permalink to this definition">¶</a></dt>
<dd><p>Register one or several view_name=View pairs.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.corpus.Corpus.update_scores">
<span class="sig-name descname"><span class="pre">update_scores</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">root_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">folder</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'.'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">suffix</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/ms3/corpus.html#Corpus.update_scores"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.corpus.Corpus.update_scores" title="Permalink to this definition">¶</a></dt>
<dd><p>Update scores created with an older MuseScore version to the latest MuseScore 3 version.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>root_dir</strong> – In case you want to create output paths for the updated MuseScore files based on a folder different
from <a class="reference internal" href="#ms3.corpus.Corpus.corpus_path" title="ms3.corpus.Corpus.corpus_path"><code class="xref py py-attr docutils literal notranslate"><span class="pre">corpus_path</span></code></a>.</p></li>
<li><p><strong>folder</strong> – <ul>
<li><p>The default ‘.’ has the updated scores written to the same directory as the old ones, effectively
overwriting them if <code class="docutils literal notranslate"><span class="pre">root_dir</span></code> is None.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">folder</span></code> is None, the files will be written to <code class="docutils literal notranslate"><span class="pre">{root_dir}/scores/</span></code>.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">folder</span></code> is an absolute path, <code class="docutils literal notranslate"><span class="pre">root_dir</span></code> will be ignored.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">folder</span></code> is a relative path starting with a dot <code class="docutils literal notranslate"><span class="pre">.</span></code> the relative path is appended to the file’s subdir.
For example, <code class="docutils literal notranslate"><span class="pre">..\scores</span></code> will resolve to a sibling directory of the one where the <code class="docutils literal notranslate"><span class="pre">file</span></code> is located.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">folder</span></code> is a relative path that does not begin with a dot <code class="docutils literal notranslate"><span class="pre">.</span></code>, it will be appended to the
<code class="docutils literal notranslate"><span class="pre">root_dir</span></code>.</p></li>
</ul>
</p></li>
<li><p><strong>suffix</strong> – String to append to the file names of the updated files, e.g. ‘_updated’.</p></li>
<li><p><strong>overwrite</strong> – By default, existing files are not overwritten. Pass True to allow this.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A list of all up-to-date paths, whether they had to be converted or were already in the latest version.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.corpus.Corpus.update_tsvs_on_disk">
<span class="sig-name descname"><span class="pre">update_tsvs_on_disk</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">facets</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Literal" title="(in Python v3.10)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'measures'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'notes'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'rests'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'notes_and_rests'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'labels'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'expanded'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'form_labels'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'cadences'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'events'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'chords'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Collection" title="(in Python v3.10)"><span class="pre">Collection</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Literal" title="(in Python v3.10)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'measures'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'notes'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'rests'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'notes_and_rests'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'labels'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'expanded'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'form_labels'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'cadences'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'events'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'chords'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'tsv'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">view_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">choose</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Literal" title="(in Python v3.10)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'auto'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'ask'</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'auto'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/ms3/corpus.html#Corpus.update_tsvs_on_disk"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.corpus.Corpus.update_tsvs_on_disk" title="Permalink to this definition">¶</a></dt>
<dd><p>Update existing TSV files corresponding to one or several facets with information freshly extracted from a parsed
score, but only if the contents are identical. Otherwise, the existing TSV file is not overwritten and the
differences are displayed in a log warning. The purpose is to safely update the format of existing TSV files,
(for instance with respect to column order) making sure that the content doesn’t change.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>facets</strong> – </p></li>
<li><p><strong>view_name</strong> – </p></li>
<li><p><strong>force</strong> – By default, only TSV files that have already been parsed are updated. Set to True in order to
force-parse for each facet one of the TSV files included in the given view, if necessary.</p></li>
<li><p><strong>choose</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of paths that have been overwritten.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.corpus.Corpus.insert_detached_labels">
<span class="sig-name descname"><span class="pre">insert_detached_labels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">view_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'detached'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">staff</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">voice</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Literal" title="(in Python v3.10)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="m"><span class="pre">1</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="m"><span class="pre">2</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="m"><span class="pre">3</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="m"><span class="pre">4</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">harmony_layer</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Literal" title="(in Python v3.10)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="m"><span class="pre">0</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="m"><span class="pre">1</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="m"><span class="pre">2</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">check_for_clashes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Tuple" title="(in Python v3.10)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/ms3/corpus.html#Corpus.insert_detached_labels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.corpus.Corpus.insert_detached_labels" title="Permalink to this definition">¶</a></dt>
<dd><p>Attach all <code class="xref py py-attr docutils literal notranslate"><span class="pre">Annotations</span></code> objects that are reachable via <code class="docutils literal notranslate"><span class="pre">Score.key</span></code> to their
respective <code class="xref py py-attr docutils literal notranslate"><span class="pre">Score</span></code>, altering the XML in memory. Calling <code class="xref py py-meth docutils literal notranslate"><span class="pre">store_scores()</span></code> will output
MuseScore files where the annotations show in the score.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> – Key under which the <code class="xref py py-attr docutils literal notranslate"><span class="pre">Annotations</span></code> objects to be attached are stored in the
<code class="xref py py-attr docutils literal notranslate"><span class="pre">Score</span></code> objects. Defaults to ‘detached’.</p></li>
<li><p><strong>staff</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>, optional) – If you pass a staff ID, the labels will be attached to that staff where 1 is the upper stuff.
By default, the staves indicated in the ‘staff’ column of <code class="xref py py-obj docutils literal notranslate"><span class="pre">ms3.annotations.Annotations.df</span></code>
will be used.</p></li>
<li><p><strong>voice</strong> (<em>{1</em><em>, </em><em>2</em><em>, </em><em>3</em><em>, </em><em>4}</em><em>, </em><em>optional</em>) – If you pass the ID of a notational layer (where 1 is the upper voice, blue in MuseScore),
the labels will be attached to that one.
By default, the notational layers indicated in the ‘voice’ column of
<code class="xref py py-obj docutils literal notranslate"><span class="pre">ms3.annotations.Annotations.df</span></code> will be used.</p></li>
<li><p><strong>harmony_layer</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>, optional) – <div class="line-block">
<div class="line">By default, the labels are written to the layer specified as an integer in the column <code class="docutils literal notranslate"><span class="pre">harmony_layer</span></code>.</div>
<div class="line">Pass an integer to select a particular layer:</div>
<div class="line">* 0 to attach them as absolute (‘guitar’) chords, meaning that when opened next time,</div>
<div class="line-block">
<div class="line">MuseScore will split and encode those beginning with a note name ( resulting in ms3-internal harmony_layer 3).</div>
</div>
<div class="line">* 1 the labels are written into the staff’s layer for Roman Numeral Analysis.</div>
<div class="line">* 2 to have MuseScore interpret them as Nashville Numbers</div>
</div>
</p></li>
<li><p><strong>check_for_clashes</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – By default, warnings are thrown when there already exists a label at a position (and in a notational
layer) where a new one is attached. Pass False to deactivate these warnings.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.corpus.Corpus.change_labels_cfg">
<span class="sig-name descname"><span class="pre">change_labels_cfg</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">labels_cfg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">staff</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">voice</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">harmony_layer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">positioning</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color_format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/corpus.html#Corpus.change_labels_cfg"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.corpus.Corpus.change_labels_cfg" title="Permalink to this definition">¶</a></dt>
<dd><p>Update <a class="reference internal" href="#ms3.corpus.Corpus.labels_cfg" title="ms3.corpus.Corpus.labels_cfg"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Corpus.labels_cfg</span></code></a> and retrieve new ‘labels’ tables accordingly.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>labels_cfg</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#dict" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>) – Using an entire dictionary or, to change only particular options, choose from:</p></li>
<li><p><strong>staff</strong> – Arguments as they will be passed to <a class="reference internal" href="#ms3.annotations.Annotations.get_labels" title="ms3.annotations.Annotations.get_labels"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_labels()</span></code></a></p></li>
<li><p><strong>voice</strong> – Arguments as they will be passed to <a class="reference internal" href="#ms3.annotations.Annotations.get_labels" title="ms3.annotations.Annotations.get_labels"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_labels()</span></code></a></p></li>
<li><p><strong>harmony_layer</strong> – Arguments as they will be passed to <a class="reference internal" href="#ms3.annotations.Annotations.get_labels" title="ms3.annotations.Annotations.get_labels"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_labels()</span></code></a></p></li>
<li><p><strong>positioning</strong> – Arguments as they will be passed to <a class="reference internal" href="#ms3.annotations.Annotations.get_labels" title="ms3.annotations.Annotations.get_labels"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_labels()</span></code></a></p></li>
<li><p><strong>decode</strong> – Arguments as they will be passed to <a class="reference internal" href="#ms3.annotations.Annotations.get_labels" title="ms3.annotations.Annotations.get_labels"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_labels()</span></code></a></p></li>
<li><p><strong>column_name</strong> – Arguments as they will be passed to <a class="reference internal" href="#ms3.annotations.Annotations.get_labels" title="ms3.annotations.Annotations.get_labels"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_labels()</span></code></a></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.corpus.Corpus.compare_labels">
<span class="sig-name descname"><span class="pre">compare_labels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'detached'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_color</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'ms3_darkgreen'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">old_color</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'ms3_darkred'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">detached_is_newer</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">add_to_rna</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">view_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Tuple" title="(in Python v3.10)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/ms3/corpus.html#Corpus.compare_labels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.corpus.Corpus.compare_labels" title="Permalink to this definition">¶</a></dt>
<dd><p>Compare detached labels <code class="docutils literal notranslate"><span class="pre">key</span></code> to the ones attached to the Score to create a diff.
By default, the attached labels are considered as the reviewed version and labels that have changed or been added
in comparison to the detached labels are colored in green; whereas the previous versions of changed labels are
attached to the Score in red, just like any deleted label.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> – Key of the detached labels you want to compare to the ones in the score.</p></li>
<li><p><strong>new_color</strong> – The colors by which new and old labels are differentiated. Identical labels remain unchanged. Colors can be
CSS colors or MuseScore colors (see <code class="xref py py-attr docutils literal notranslate"><span class="pre">utils.MS3_COLORS</span></code>).</p></li>
<li><p><strong>old_color</strong> – The colors by which new and old labels are differentiated. Identical labels remain unchanged. Colors can be
CSS colors or MuseScore colors (see <code class="xref py py-attr docutils literal notranslate"><span class="pre">utils.MS3_COLORS</span></code>).</p></li>
<li><p><strong>detached_is_newer</strong> – Pass True if the detached labels are to be added with <code class="docutils literal notranslate"><span class="pre">new_color</span></code> whereas the attached changed labels
will turn <code class="docutils literal notranslate"><span class="pre">old_color</span></code>, as opposed to the default.</p></li>
<li><p><strong>add_to_rna</strong> – By default, new labels are attached to the Roman Numeral layer.
Pass False to attach them to the chord layer instead.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Number of scores in which labels have changed.
Number of scores in which no label has chnged.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.corpus.Corpus.count_annotation_layers">
<span class="sig-name descname"><span class="pre">count_annotation_layers</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">which</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'attached'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">per_key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/corpus.html#Corpus.count_annotation_layers"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.corpus.Corpus.count_annotation_layers" title="Permalink to this definition">¶</a></dt>
<dd><p>Counts the labels for each annotation layer defined as (staff, voice, harmony_layer).
By default, only labels attached to a score are counted.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>keys</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a> or <a class="reference external" href="https://docs.python.org/3.10/library/collections.abc.html#collections.abc.Collection" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Collection</span></code></a>, optional) – Key(s) for which to count annotation layers.  By default, all keys are selected.</p></li>
<li><p><strong>which</strong> (<em>{'attached'</em><em>, </em><em>'detached'</em><em>, </em><em>'tsv'}</em><em>, </em><em>optional</em>) – ‘attached’: Counts layers from annotations attached to a score.
‘detached’: Counts layers from annotations that are in a Score object, but detached from the score.
‘tsv’: Counts layers from Annotation objects that have been loaded from or into annotation tables.</p></li>
<li><p><strong>per_key</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – If set to True, the results are returned as a dict {key: Counter}, otherwise the counts are summed up in one Counter.
If <code class="docutils literal notranslate"><span class="pre">which='detached'</span></code>, the keys are keys from Score objects, otherwise they are keys from this Corpus object.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>By default, the function returns a Counter of labels for every annotation layer (staff, voice, harmony_layer)
If <code class="docutils literal notranslate"><span class="pre">per_key</span></code> is set to True, a dictionary {key: Counter} is returned, separating the counts.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#dict" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a> or <a class="reference external" href="https://docs.python.org/3.10/library/collections.html#collections.Counter" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">collections.Counter</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.corpus.Corpus.count_labels">
<span class="sig-name descname"><span class="pre">count_labels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">per_key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/corpus.html#Corpus.count_labels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.corpus.Corpus.count_labels" title="Permalink to this definition">¶</a></dt>
<dd><p>Count label types.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>keys</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a> or <a class="reference external" href="https://docs.python.org/3.10/library/collections.abc.html#collections.abc.Collection" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Collection</span></code></a>, optional) – Key(s) for which to count label types.  By default, all keys are selected.</p></li>
<li><p><strong>per_key</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – If set to True, the results are returned as a dict {key: Counter},
otherwise the counts are summed up in one Counter.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>By default, the function returns a Counter of label types.
If <code class="docutils literal notranslate"><span class="pre">per_key</span></code> is set to True, a dictionary {key: Counter} is returned, separating the counts.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#dict" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a> or <a class="reference external" href="https://docs.python.org/3.10/library/collections.html#collections.Counter" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">collections.Counter</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.corpus.Corpus.count_tsv_types">
<span class="sig-name descname"><span class="pre">count_tsv_types</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">per_key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/corpus.html#Corpus.count_tsv_types"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.corpus.Corpus.count_tsv_types" title="Permalink to this definition">¶</a></dt>
<dd><p>Count inferred TSV types.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>keys</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a> or <a class="reference external" href="https://docs.python.org/3.10/library/collections.abc.html#collections.abc.Collection" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Collection</span></code></a>, optional) – Key(s) for which to count inferred TSV types.  By default, all keys are selected.</p></li>
<li><p><strong>per_key</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – If set to True, the results are returned as a dict {key: Counter},
otherwise the counts are summed up in one Counter.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>By default, the function returns a Counter of inferred TSV types.
If <code class="docutils literal notranslate"><span class="pre">per_key</span></code> is set to True, a dictionary {key: Counter} is returned, separating the counts.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#dict" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a> or <a class="reference external" href="https://docs.python.org/3.10/library/collections.html#collections.Counter" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">collections.Counter</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.corpus.Corpus.detach_labels">
<span class="sig-name descname"><span class="pre">detach_labels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">view_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">choose</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Literal" title="(in Python v3.10)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'auto'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'ask'</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'auto'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'removed'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">staff</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">voice</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Literal" title="(in Python v3.10)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="m"><span class="pre">1</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="m"><span class="pre">2</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="m"><span class="pre">3</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="m"><span class="pre">4</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">harmony_layer</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Literal" title="(in Python v3.10)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="m"><span class="pre">0</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="m"><span class="pre">1</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="m"><span class="pre">2</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="m"><span class="pre">3</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delete</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/corpus.html#Corpus.detach_labels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.corpus.Corpus.detach_labels" title="Permalink to this definition">¶</a></dt>
<dd><p>Calls <code class="xref py py-meth docutils literal notranslate"><span class="pre">Score.detach_labels</span> <span class="pre">&lt;ms3.score.Score.detach_labels()</span></code> on every parsed score under the
current or selected view.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.corpus.Corpus.store_extracted_facets">
<span class="sig-name descname"><span class="pre">store_extracted_facets</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">view_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">root_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">measures_folder</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">measures_suffix</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">notes_folder</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">notes_suffix</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rests_folder</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rests_suffix</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">notes_and_rests_folder</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">notes_and_rests_suffix</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels_folder</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels_suffix</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expanded_folder</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expanded_suffix</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">form_labels_folder</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">form_labels_suffix</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cadences_folder</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cadences_suffix</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">events_folder</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">events_suffix</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chords_folder</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chords_suffix</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metadata_suffix</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">markdown</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">simulate</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unfold</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interval_index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">silence_label_warnings</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/ms3/corpus.html#Corpus.store_extracted_facets"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.corpus.Corpus.store_extracted_facets" title="Permalink to this definition">¶</a></dt>
<dd><p>Store facets extracted from parsed scores as TSV files.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>view_name</strong> – </p></li>
<li><p><strong>root_dir</strong> – (‘measures’, ‘notes’, ‘rests’, ‘notes_and_rests’, ‘labels’, ‘expanded’, ‘form_labels’, ‘cadences’, ‘events’, ‘chords’)</p></li>
<li><p><strong>measures_folder</strong> – Specify directory where to store the corresponding TSV files.</p></li>
<li><p><strong>notes_folder</strong> – Specify directory where to store the corresponding TSV files.</p></li>
<li><p><strong>rests_folder</strong> – Specify directory where to store the corresponding TSV files.</p></li>
<li><p><strong>notes_and_rests_folder</strong> – Specify directory where to store the corresponding TSV files.</p></li>
<li><p><strong>labels_folder</strong> – Specify directory where to store the corresponding TSV files.</p></li>
<li><p><strong>expanded_folder</strong> – Specify directory where to store the corresponding TSV files.</p></li>
<li><p><strong>form_labels_folder</strong> – Specify directory where to store the corresponding TSV files.</p></li>
<li><p><strong>cadences_folder</strong> – Specify directory where to store the corresponding TSV files.</p></li>
<li><p><strong>events_folder</strong> – Specify directory where to store the corresponding TSV files.</p></li>
<li><p><strong>chords_folder</strong> – Specify directory where to store the corresponding TSV files.</p></li>
<li><p><strong>measures_suffix</strong> – Optionally specify suffixes appended to the TSVs’ file names. If <code class="docutils literal notranslate"><span class="pre">unfold=True</span></code> the suffixes default to <code class="docutils literal notranslate"><span class="pre">_unfolded</span></code>.</p></li>
<li><p><strong>notes_suffix</strong> – Optionally specify suffixes appended to the TSVs’ file names. If <code class="docutils literal notranslate"><span class="pre">unfold=True</span></code> the suffixes default to <code class="docutils literal notranslate"><span class="pre">_unfolded</span></code>.</p></li>
<li><p><strong>rests_suffix</strong> – Optionally specify suffixes appended to the TSVs’ file names. If <code class="docutils literal notranslate"><span class="pre">unfold=True</span></code> the suffixes default to <code class="docutils literal notranslate"><span class="pre">_unfolded</span></code>.</p></li>
<li><p><strong>notes_and_rests_suffix</strong> – Optionally specify suffixes appended to the TSVs’ file names. If <code class="docutils literal notranslate"><span class="pre">unfold=True</span></code> the suffixes default to <code class="docutils literal notranslate"><span class="pre">_unfolded</span></code>.</p></li>
<li><p><strong>labels_suffix</strong> – Optionally specify suffixes appended to the TSVs’ file names. If <code class="docutils literal notranslate"><span class="pre">unfold=True</span></code> the suffixes default to <code class="docutils literal notranslate"><span class="pre">_unfolded</span></code>.</p></li>
<li><p><strong>expanded_suffix</strong> – Optionally specify suffixes appended to the TSVs’ file names. If <code class="docutils literal notranslate"><span class="pre">unfold=True</span></code> the suffixes default to <code class="docutils literal notranslate"><span class="pre">_unfolded</span></code>.</p></li>
<li><p><strong>form_labels_suffix</strong> – Optionally specify suffixes appended to the TSVs’ file names. If <code class="docutils literal notranslate"><span class="pre">unfold=True</span></code> the suffixes default to <code class="docutils literal notranslate"><span class="pre">_unfolded</span></code>.</p></li>
<li><p><strong>cadences_suffix</strong> – Optionally specify suffixes appended to the TSVs’ file names. If <code class="docutils literal notranslate"><span class="pre">unfold=True</span></code> the suffixes default to <code class="docutils literal notranslate"><span class="pre">_unfolded</span></code>.</p></li>
<li><p><strong>events_suffix</strong> – Optionally specify suffixes appended to the TSVs’ file names. If <code class="docutils literal notranslate"><span class="pre">unfold=True</span></code> the suffixes default to <code class="docutils literal notranslate"><span class="pre">_unfolded</span></code>.</p></li>
<li><p><strong>chords_suffix</strong> – Optionally specify suffixes appended to the TSVs’ file names. If <code class="docutils literal notranslate"><span class="pre">unfold=True</span></code> the suffixes default to <code class="docutils literal notranslate"><span class="pre">_unfolded</span></code>.</p></li>
<li><p><strong>metadata_suffix</strong> – Specify a suffix to update the ‘metadata{suffix}.tsv’ file for this corpus. For the main file, pass ‘’</p></li>
<li><p><strong>markdown</strong> – By default, when <code class="docutils literal notranslate"><span class="pre">metadata_path</span></code> is specified, a markdown file called <code class="docutils literal notranslate"><span class="pre">README.md</span></code> containing
the columns [file_name, measures, labels, standard, annotators, reviewers] is created. If it exists already,
this table will be appended or overwritten after the heading <code class="docutils literal notranslate"><span class="pre">#</span> <span class="pre">Overview</span></code>.</p></li>
<li><p><strong>simulate</strong> – </p></li>
<li><p><strong>unfold</strong> – By default, repetitions are not unfolded. Pass True to duplicate values so that they correspond to a full
playthrough, including correct positioning of first and second endings.</p></li>
<li><p><strong>interval_index</strong> – </p></li>
<li><p><strong>silence_label_warnings</strong> – </p></li>
</ul>
</dd>
</dl>
<p>Returns:</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.corpus.Corpus.update_metadata_from_parsed">
<span class="sig-name descname"><span class="pre">update_metadata_from_parsed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">root_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">suffix</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">markdown_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'README.md'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">view_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/ms3/corpus.html#Corpus.update_metadata_from_parsed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.corpus.Corpus.update_metadata_from_parsed" title="Permalink to this definition">¶</a></dt>
<dd><p>Gathers the metadata from parsed and currently selected scores and updates ‘metadata.tsv’ with the information.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>root_dir</strong> – In case you want to output the metadata to folder different from <a class="reference internal" href="#ms3.corpus.Corpus.corpus_path" title="ms3.corpus.Corpus.corpus_path"><code class="xref py py-attr docutils literal notranslate"><span class="pre">corpus_path</span></code></a>.</p></li>
<li><p><strong>suffix</strong> – Added to the filename: ‘metadata{suffix}.tsv’. Defaults to ‘’. Metadata files with suffix may be
used to store views with particular subselections of pieces.</p></li>
<li><p><strong>markdown_file</strong> – By default, a subset of metadata columns will be written to ‘README.md’ in the same folder as the TSV file.
If the file exists, it will be scanned for a line containing the string ‘# Overview’ and overwritten
from that line onwards.</p></li>
<li><p><strong>view_name</strong> – The view under which you want to update metadata from the selected parsed files. Defaults to None,
i.e. the active view.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The file paths to which metadata was written.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.corpus.Corpus.store_parsed_scores">
<span class="sig-name descname"><span class="pre">store_parsed_scores</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">view_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">only_changed</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">root_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">folder</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'.'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">suffix</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">simulate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/ms3/corpus.html#Corpus.store_parsed_scores"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.corpus.Corpus.store_parsed_scores" title="Permalink to this definition">¶</a></dt>
<dd><p>Stores all parsed scores under this view as MuseScore 3 files.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>view_name</strong> – </p></li>
<li><p><strong>only_changed</strong> – By default, only scores that have been modified since parsing are written. Set to False to store
all scores regardless.</p></li>
<li><p><strong>root_dir</strong> – </p></li>
<li><p><strong>folder</strong> – </p></li>
<li><p><strong>suffix</strong> – Suffix to append to the original file name.</p></li>
<li><p><strong>overwrite</strong> – Pass True to overwrite existing files.</p></li>
<li><p><strong>simulate</strong> – Set to True if no files are to be written.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Paths of the stored files.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.corpus.parse_musescore_file">
<span class="sig-prename descclassname"><span class="pre">ms3.corpus.</span></span><span class="sig-name descname"><span class="pre">parse_musescore_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#ms3.utils.File" title="ms3.utils.File"><span class="pre">File</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/logging.html#logging.Logger" title="(in Python v3.10)"><span class="pre">Logger</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger_cfg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#dict" title="(in Python v3.10)"><span class="pre">dict</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">read_only</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ms</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#ms3.score.Score" title="ms3.score.Score"><span class="pre">Score</span></a></span></span><a class="reference internal" href="_modules/ms3/corpus.html#parse_musescore_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.corpus.parse_musescore_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs a single parse and returns the resulting Score object or None.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file</strong> – File object with path information of a score that can be opened (or converted) with MuseScore 3.</p></li>
<li><p><strong>logger</strong> – Logger to be used within this function (not for the parsing itself).</p></li>
<li><p><strong>logger_cfg</strong> – Logger config for the new Score object (and therefore for the parsing itself).</p></li>
<li><p><strong>read_only</strong> – Pass True to return smaller objects that do not keep a copy of the original XML structure in memory.
In order to make changes to the score after parsing, this needs to be False (default).</p></li>
<li><p><strong>ms</strong> – MuseScore executable in case the file needs to be converted.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The parsed score.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-ms3.piece">
<span id="the-piece-class"></span><h2>The Piece class<a class="headerlink" href="#module-ms3.piece" title="Permalink to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="ms3.piece.Piece">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ms3.piece.</span></span><span class="sig-name descname"><span class="pre">Piece</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fname</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">view</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#ms3.view.View" title="ms3.view.View"><span class="pre">View</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger_cfg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ms</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/piece.html#Piece"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.piece.Piece" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper around <a class="reference internal" href="#ms3.score.Score" title="ms3.score.Score"><code class="xref py py-class docutils literal notranslate"><span class="pre">Score</span></code></a> for associating it with parsed TSV files</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="ms3.piece.Piece.facet2files">
<span class="sig-name descname"><span class="pre">facet2files</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">FileList</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#ms3.piece.Piece.facet2files" title="Permalink to this definition">¶</a></dt>
<dd><p>{typ -&gt; [<code class="xref py py-obj docutils literal notranslate"><span class="pre">File</span></code>]} dict storing file information for associated types.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ms3.piece.Piece.ix2file">
<span class="sig-name descname"><span class="pre">ix2file</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#ms3.utils.File" title="ms3.utils.File"><span class="pre">File</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#ms3.piece.Piece.ix2file" title="Permalink to this definition">¶</a></dt>
<dd><p>{ix -&gt; <code class="xref py py-obj docutils literal notranslate"><span class="pre">File</span></code>} dict storing the registered file information for access via index.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ms3.piece.Piece.facet2parsed">
<span class="sig-name descname"><span class="pre">facet2parsed</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ParsedFile</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#ms3.piece.Piece.facet2parsed" title="Permalink to this definition">¶</a></dt>
<dd><p>{typ -&gt; {ix -&gt; <code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame`|:obj:`Score</span></code>}} dict storing parsed files for associated types.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ms3.piece.Piece.ix2parsed">
<span class="sig-name descname"><span class="pre">ix2parsed</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ParsedFile</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#ms3.piece.Piece.ix2parsed" title="Permalink to this definition">¶</a></dt>
<dd><p>{ix -&gt; <code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame`|:obj:`Score</span></code>} dict storing the parsed files for access via index.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ms3.piece.Piece.ix2parsed_score">
<span class="sig-name descname"><span class="pre">ix2parsed_score</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#ms3.score.Score" title="ms3.score.Score"><span class="pre">Score</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#ms3.piece.Piece.ix2parsed_score" title="Permalink to this definition">¶</a></dt>
<dd><p>Subset of <a class="reference internal" href="#ms3.piece.Piece.ix2parsed" title="ms3.piece.Piece.ix2parsed"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ix2parsed</span></code></a></p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ms3.piece.Piece.ix2parsed_tsv">
<span class="sig-name descname"><span class="pre">ix2parsed_tsv</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">pd.DataFrame</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#ms3.piece.Piece.ix2parsed_tsv" title="Permalink to this definition">¶</a></dt>
<dd><p>Subset of <a class="reference internal" href="#ms3.piece.Piece.ix2parsed" title="ms3.piece.Piece.ix2parsed"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ix2parsed</span></code></a></p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ms3.piece.Piece.ix2annotations">
<span class="sig-name descname"><span class="pre">ix2annotations</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#ms3.annotations.Annotations" title="ms3.annotations.Annotations"><span class="pre">Annotations</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#ms3.piece.Piece.ix2annotations" title="Permalink to this definition">¶</a></dt>
<dd><p>{ix -&gt; <code class="xref py py-obj docutils literal notranslate"><span class="pre">Annotations</span></code>} dict storing Annotations objects for the parsed labels and expanded labels.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.piece.Piece.all_facets_present">
<span class="sig-name descname"><span class="pre">all_facets_present</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">view_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">selected_facets</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Literal" title="(in Python v3.10)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'scores'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'measures'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'notes'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'rests'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'notes_and_rests'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'labels'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'expanded'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'form_labels'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'cadences'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'events'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'chords'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'unknown'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Collection" title="(in Python v3.10)"><span class="pre">Collection</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Literal" title="(in Python v3.10)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'scores'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'measures'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'notes'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'rests'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'notes_and_rests'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'labels'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'expanded'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'form_labels'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'cadences'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'events'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'chords'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'unknown'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span></span><a class="reference internal" href="_modules/ms3/piece.html#Piece.all_facets_present"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.piece.Piece.all_facets_present" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if parsed files have been detected for all selected facets under the active or indicated view.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>view_name</strong> – Name of the view to check.</p></li>
<li><p><strong>selected_facets</strong> – If passed, needs to be a subset of the facets selected by the view, otherwise the
result will be False. If no <code class="docutils literal notranslate"><span class="pre">selected_facets</span></code> are passed, check for those selected by the
active or indicated view.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if for each selected facet at least one file has been registered.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ms3.piece.Piece.has_changed_scores">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">has_changed_scores</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></em><a class="headerlink" href="#ms3.piece.Piece.has_changed_scores" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether any of the parsed scores has been altered.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.piece.Piece.score_metadata">
<span class="sig-name descname"><span class="pre">score_metadata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">view_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">choose</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Literal" title="(in Python v3.10)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'auto'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'ask'</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">as_dict</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Literal" title="(in Python v3.10)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="k"><span class="pre">False</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v1.5.2)"><span class="pre">Series</span></a></span></span><a class="reference internal" href="_modules/ms3/piece.html#Piece.score_metadata"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.piece.Piece.score_metadata" title="Permalink to this definition">¶</a></dt>
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">score_metadata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">view_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">choose</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Literal" title="(in Python v3.10)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'auto'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'ask'</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">as_dict</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Literal" title="(in Python v3.10)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="k"><span class="pre">True</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#dict" title="(in Python v3.10)"><span class="pre">dict</span></a></span></span></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>choose</strong> – </p></li>
<li><p><strong>as_dict</strong> – Set to True to change the return type from <a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.Series</span></code></a> to <a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#dict" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>.</p></li>
</ul>
</dd>
</dl>
<p>Returns:</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ms3.piece.Piece.tsv_metadata">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">tsv_metadata</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Dict" title="(in Python v3.10)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#ms3.piece.Piece.tsv_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>If the <a class="reference internal" href="#ms3.corpus.Corpus" title="ms3.corpus.Corpus"><code class="xref py py-class docutils literal notranslate"><span class="pre">Corpus</span></code></a> has <a class="reference internal" href="#ms3.corpus.Corpus.metadata_tsv" title="ms3.corpus.Corpus.metadata_tsv"><code class="xref py py-attr docutils literal notranslate"><span class="pre">metadata_tsv</span></code></a>, this field will contain the
{column: value} pairs of the row pertaining to this piece.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.piece.Piece.metadata">
<span class="sig-name descname"><span class="pre">metadata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">view_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v1.5.2)"><span class="pre">Series</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/ms3/piece.html#Piece.metadata"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.piece.Piece.metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>If a row of ‘metadata.tsv’ has been stored, return that, otherwise extract from a (force-)parsed score.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.piece.Piece.set_view">
<span class="sig-name descname"><span class="pre">set_view</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">active</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#ms3.view.View" title="ms3.view.View"><span class="pre">View</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">views</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#ms3.view.View" title="ms3.view.View"><span class="pre">View</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/piece.html#Piece.set_view"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.piece.Piece.set_view" title="Permalink to this definition">¶</a></dt>
<dd><p>Register one or several view_name=View pairs.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.piece.Piece.get_view">
<span class="sig-name descname"><span class="pre">get_view</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">view_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">config</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#ms3.view.View" title="ms3.view.View"><span class="pre">View</span></a></span></span><a class="reference internal" href="_modules/ms3/piece.html#Piece.get_view"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.piece.Piece.get_view" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve an existing or create a new View object, potentially while updating the config.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.piece.Piece.compare_labels">
<span class="sig-name descname"><span class="pre">compare_labels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'detached'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_color</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'ms3_darkgreen'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">old_color</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'ms3_darkred'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">detached_is_newer</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">add_to_rna</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">view_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Tuple" title="(in Python v3.10)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/ms3/piece.html#Piece.compare_labels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.piece.Piece.compare_labels" title="Permalink to this definition">¶</a></dt>
<dd><p>Compare detached labels <code class="docutils literal notranslate"><span class="pre">key</span></code> to the ones attached to the Score to create a diff.
By default, the attached labels are considered as the reviewed version and labels that have changed or been added
in comparison to the detached labels are colored in green; whereas the previous versions of changed labels are
attached to the Score in red, just like any deleted label.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> – Key of the detached labels you want to compare to the ones in the score.</p></li>
<li><p><strong>new_color</strong> – The colors by which new and old labels are differentiated. Identical labels remain unchanged. Colors can be
CSS colors or MuseScore colors (see <code class="xref py py-attr docutils literal notranslate"><span class="pre">utils.MS3_COLORS</span></code>).</p></li>
<li><p><strong>old_color</strong> – The colors by which new and old labels are differentiated. Identical labels remain unchanged. Colors can be
CSS colors or MuseScore colors (see <code class="xref py py-attr docutils literal notranslate"><span class="pre">utils.MS3_COLORS</span></code>).</p></li>
<li><p><strong>detached_is_newer</strong> – Pass True if the detached labels are to be added with <code class="docutils literal notranslate"><span class="pre">new_color</span></code> whereas the attached changed labels
will turn <code class="docutils literal notranslate"><span class="pre">old_color</span></code>, as opposed to the default.</p></li>
<li><p><strong>add_to_rna</strong> – By default, new labels are attached to the Roman Numeral layer.
Pass False to attach them to the chord layer instead.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Number of scores in which labels have changed.
Number of scores in which no label has chnged.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.piece.Piece.extract_facets">
<span class="sig-name descname"><span class="pre">extract_facets</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">facets</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Literal" title="(in Python v3.10)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'measures'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'notes'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'rests'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'notes_and_rests'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'labels'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'expanded'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'form_labels'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'cadences'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'events'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'chords'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Collection" title="(in Python v3.10)"><span class="pre">Collection</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Literal" title="(in Python v3.10)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'measures'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'notes'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'rests'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'notes_and_rests'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'labels'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'expanded'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'form_labels'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'cadences'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'events'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'chords'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">view_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">choose</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Literal" title="(in Python v3.10)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'all'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'auto'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'ask'</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'all'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unfold</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interval_index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Dict" title="(in Python v3.10)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Tuple" title="(in Python v3.10)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#ms3.utils.File" title="ms3.utils.File"><span class="pre">File</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><span class="pre">DataFrame</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Tuple" title="(in Python v3.10)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#ms3.utils.File" title="ms3.utils.File"><span class="pre">File</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><span class="pre">DataFrame</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/ms3/piece.html#Piece.extract_facets"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.piece.Piece.extract_facets" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve a dictionary with the selected feature matrices extracted from the parsed scores.
If you want to retrieve parsed TSV files, use <a class="reference internal" href="#ms3.piece.Piece.get_all_parsed" title="ms3.piece.Piece.get_all_parsed"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_all_parsed()</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.piece.Piece.get_dataframe">
<span class="sig-name descname"><span class="pre">get_dataframe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/constants.html#None" title="(in Python v3.10)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/ms3/piece.html#Piece.get_dataframe"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.piece.Piece.get_dataframe" title="Permalink to this definition">¶</a></dt>
<dd><p>Deprecated method. Replaced by <a class="reference internal" href="#ms3.piece.Piece.get_parsed" title="ms3.piece.Piece.get_parsed"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_parsed()</span></code></a>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">extract_facet()</span></code>, and <a class="reference internal" href="#ms3.piece.Piece.get_facet" title="ms3.piece.Piece.get_facet"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_facet()</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.piece.Piece.get_facets">
<span class="sig-name descname"><span class="pre">get_facets</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">facets</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Literal" title="(in Python v3.10)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'measures'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'notes'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'rests'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'notes_and_rests'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'labels'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'expanded'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'form_labels'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'cadences'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'events'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'chords'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Collection" title="(in Python v3.10)"><span class="pre">Collection</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Literal" title="(in Python v3.10)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'measures'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'notes'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'rests'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'notes_and_rests'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'labels'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'expanded'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'form_labels'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'cadences'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'events'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'chords'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">view_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">choose</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Literal" title="(in Python v3.10)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'all'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'auto'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'ask'</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'all'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unfold</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interval_index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Dict" title="(in Python v3.10)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Tuple" title="(in Python v3.10)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#ms3.utils.File" title="ms3.utils.File"><span class="pre">File</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><span class="pre">DataFrame</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Tuple" title="(in Python v3.10)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#ms3.utils.File" title="ms3.utils.File"><span class="pre">File</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><span class="pre">DataFrame</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/ms3/piece.html#Piece.get_facets"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.piece.Piece.get_facets" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve score facets both freshly extracted from parsed scores and from parsed TSV files, depending on
the parameters and the view in question.</p>
<p>If choose != ‘all’, the goal will be to return one DataFrame per facet. Preference is given to a DataFrame
freshly extracted from an already parsed score; otherwise, from an already parsed TSV file. If both
are not available, preference will be given to a force-parsed TSV, then to a force-parsed score.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>facets</strong> – </p></li>
<li><p><strong>view_name</strong> – </p></li>
<li><p><strong>force</strong> – Only relevant when <code class="docutils literal notranslate"><span class="pre">choose='all'</span></code>. By default, only scores and TSV files that have already been
parsed are taken into account. Set <code class="docutils literal notranslate"><span class="pre">force=True</span></code> to force-parse all scores and TSV files selected
under the given view.</p></li>
<li><p><strong>choose</strong> – </p></li>
<li><p><strong>unfold</strong> – </p></li>
<li><p><strong>interval_index</strong> – </p></li>
<li><p><strong>flat</strong> – </p></li>
</ul>
</dd>
</dl>
<p>Returns:</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.piece.Piece.get_facet">
<span class="sig-name descname"><span class="pre">get_facet</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">facet</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Literal" title="(in Python v3.10)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'measures'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'notes'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'rests'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'notes_and_rests'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'labels'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'expanded'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'form_labels'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'cadences'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'events'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'chords'</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">view_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">choose</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Literal" title="(in Python v3.10)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'auto'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'ask'</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'auto'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unfold</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interval_index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Tuple" title="(in Python v3.10)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#ms3.utils.File" title="ms3.utils.File"><span class="pre">File</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><span class="pre">DataFrame</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/ms3/piece.html#Piece.get_facet"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.piece.Piece.get_facet" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve a DataFrame from a parsed score or, if unavailable, from a parsed TSV. If none have been
parsed, first force-parse a TSV and, if not included in the given view, force-parse a score.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.piece.Piece.get_file">
<span class="sig-name descname"><span class="pre">get_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">facet</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Literal" title="(in Python v3.10)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'scores'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'measures'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'notes'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'rests'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'notes_and_rests'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'labels'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'expanded'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'form_labels'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'cadences'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'events'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'chords'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'unknown'</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">view_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parsed</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unparsed</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">choose</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Literal" title="(in Python v3.10)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'auto'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'ask'</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'auto'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#ms3.utils.File" title="ms3.utils.File"><span class="pre">File</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/ms3/piece.html#Piece.get_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.piece.Piece.get_file" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>facet</strong> – </p></li>
<li><p><strong>choose</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A {file_type -&gt; [<code class="xref py py-obj docutils literal notranslate"><span class="pre">File</span></code>] dict containing the selected Files or, if flat=True, just a list.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.piece.Piece.get_files">
<span class="sig-name descname"><span class="pre">get_files</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">facets</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Literal" title="(in Python v3.10)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'scores'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'measures'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'notes'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'rests'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'notes_and_rests'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'labels'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'expanded'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'form_labels'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'cadences'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'events'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'chords'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'unknown'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Literal" title="(in Python v3.10)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'tsv'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'tsvs'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Collection" title="(in Python v3.10)"><span class="pre">Collection</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Literal" title="(in Python v3.10)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'scores'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'measures'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'notes'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'rests'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'notes_and_rests'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'labels'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'expanded'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'form_labels'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'cadences'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'events'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'chords'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'unknown'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">view_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parsed</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unparsed</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">choose</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Literal" title="(in Python v3.10)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'all'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'auto'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'ask'</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'all'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flat</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_empty</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Dict" title="(in Python v3.10)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#ms3.utils.File" title="ms3.utils.File"><span class="pre">File</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#ms3.utils.File" title="ms3.utils.File"><span class="pre">File</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/ms3/piece.html#Piece.get_files"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.piece.Piece.get_files" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>facets</strong> – </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A {file_type -&gt; [<code class="xref py py-obj docutils literal notranslate"><span class="pre">File</span></code>] dict containing the selected Files or, if flat=True, just a list.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.piece.Piece.get_parsed">
<span class="sig-name descname"><span class="pre">get_parsed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">facet</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Literal" title="(in Python v3.10)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'scores'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'measures'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'notes'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'rests'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'notes_and_rests'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'labels'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'expanded'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'form_labels'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'cadences'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'events'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'chords'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'unknown'</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">view_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">choose</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Literal" title="(in Python v3.10)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'auto'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'ask'</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'auto'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">git_revision</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Tuple" title="(in Python v3.10)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#ms3.utils.File" title="ms3.utils.File"><span class="pre">File</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#ms3.score.Score" title="ms3.score.Score"><span class="pre">Score</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><span class="pre">DataFrame</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/ms3/piece.html#Piece.get_parsed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.piece.Piece.get_parsed" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve exactly one parsed score or TSV file. If none has been parsed, parse one automatically.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>facet</strong> – </p></li>
<li><p><strong>view_name</strong> – </p></li>
<li><p><strong>choose</strong> – </p></li>
<li><p><strong>git_revision</strong> – </p></li>
</ul>
</dd>
</dl>
<p>Returns:</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.piece.Piece.get_all_parsed">
<span class="sig-name descname"><span class="pre">get_all_parsed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">facets</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Literal" title="(in Python v3.10)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'scores'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'measures'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'notes'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'rests'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'notes_and_rests'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'labels'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'expanded'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'form_labels'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'cadences'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'events'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'chords'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'unknown'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Literal" title="(in Python v3.10)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'tsv'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'tsvs'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Collection" title="(in Python v3.10)"><span class="pre">Collection</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Literal" title="(in Python v3.10)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'scores'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'measures'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'notes'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'rests'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'notes_and_rests'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'labels'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'expanded'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'form_labels'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'cadences'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'events'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'chords'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'unknown'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">view_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">choose</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Literal" title="(in Python v3.10)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'all'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'auto'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'ask'</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'all'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flat</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_empty</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unfold</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interval_index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Dict" title="(in Python v3.10)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Literal" title="(in Python v3.10)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'scores'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'measures'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'notes'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'rests'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'notes_and_rests'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'labels'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'expanded'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'form_labels'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'cadences'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'events'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'chords'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'unknown'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Tuple" title="(in Python v3.10)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#ms3.utils.File" title="ms3.utils.File"><span class="pre">File</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#ms3.score.Score" title="ms3.score.Score"><span class="pre">Score</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><span class="pre">DataFrame</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Tuple" title="(in Python v3.10)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#ms3.utils.File" title="ms3.utils.File"><span class="pre">File</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#ms3.score.Score" title="ms3.score.Score"><span class="pre">Score</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><span class="pre">DataFrame</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/ms3/piece.html#Piece.get_all_parsed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.piece.Piece.get_all_parsed" title="Permalink to this definition">¶</a></dt>
<dd><p>Return multiple parsed files.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.piece.Piece.iter_extracted_facet">
<span class="sig-name descname"><span class="pre">iter_extracted_facet</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">facet</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Literal" title="(in Python v3.10)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'measures'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'notes'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'rests'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'notes_and_rests'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'labels'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'expanded'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'form_labels'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'cadences'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'events'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'chords'</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">view_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unfold</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interval_index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Iterator" title="(in Python v3.10)"><span class="pre">Iterator</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Tuple" title="(in Python v3.10)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#ms3.utils.File" title="ms3.utils.File"><span class="pre">File</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><span class="pre">DataFrame</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/ms3/piece.html#Piece.iter_extracted_facet"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.piece.Piece.iter_extracted_facet" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate through the selected facet extracted from all parsed or yet-to-parse scores.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.piece.Piece.iter_extracted_facets">
<span class="sig-name descname"><span class="pre">iter_extracted_facets</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">facets</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Literal" title="(in Python v3.10)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'measures'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'notes'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'rests'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'notes_and_rests'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'labels'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'expanded'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'form_labels'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'cadences'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'events'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'chords'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Collection" title="(in Python v3.10)"><span class="pre">Collection</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Literal" title="(in Python v3.10)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'measures'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'notes'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'rests'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'notes_and_rests'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'labels'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'expanded'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'form_labels'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'cadences'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'events'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'chords'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">view_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unfold</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interval_index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Iterator" title="(in Python v3.10)"><span class="pre">Iterator</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Tuple" title="(in Python v3.10)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#ms3.utils.File" title="ms3.utils.File"><span class="pre">File</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Dict" title="(in Python v3.10)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><span class="pre">DataFrame</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/ms3/piece.html#Piece.iter_extracted_facets"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.piece.Piece.iter_extracted_facets" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate through the selected facets extracted from all parsed or yet-to-parse scores.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.piece.Piece.iter_facet2files">
<span class="sig-name descname"><span class="pre">iter_facet2files</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">view_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_empty</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Iterator" title="(in Python v3.10)"><span class="pre">Iterator</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Tuple" title="(in Python v3.10)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#ms3.utils.File" title="ms3.utils.File"><span class="pre">File</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/ms3/piece.html#Piece.iter_facet2files"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.piece.Piece.iter_facet2files" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterating through <a class="reference internal" href="#ms3.piece.Piece.facet2files" title="ms3.piece.Piece.facet2files"><code class="xref py py-attr docutils literal notranslate"><span class="pre">facet2files</span></code></a> under the current or specified view.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.piece.Piece.iter_facet2parsed">
<span class="sig-name descname"><span class="pre">iter_facet2parsed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">view_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_empty</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Iterator" title="(in Python v3.10)"><span class="pre">Iterator</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Dict" title="(in Python v3.10)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#ms3.utils.File" title="ms3.utils.File"><span class="pre">File</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/ms3/piece.html#Piece.iter_facet2parsed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.piece.Piece.iter_facet2parsed" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterating through <a class="reference internal" href="#ms3.piece.Piece.facet2parsed" title="ms3.piece.Piece.facet2parsed"><code class="xref py py-attr docutils literal notranslate"><span class="pre">facet2parsed</span></code></a> under the current or specified view and selecting only parsed files.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.piece.Piece.iter_files">
<span class="sig-name descname"><span class="pre">iter_files</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">facets</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Literal" title="(in Python v3.10)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'scores'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'measures'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'notes'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'rests'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'notes_and_rests'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'labels'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'expanded'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'form_labels'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'cadences'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'events'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'chords'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'unknown'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Literal" title="(in Python v3.10)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'tsv'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'tsvs'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Collection" title="(in Python v3.10)"><span class="pre">Collection</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Literal" title="(in Python v3.10)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'scores'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'measures'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'notes'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'rests'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'notes_and_rests'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'labels'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'expanded'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'form_labels'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'cadences'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'events'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'chords'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'unknown'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">view_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parsed</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unparsed</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">choose</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Literal" title="(in Python v3.10)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'all'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'auto'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'ask'</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'all'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flat</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_empty</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Iterator" title="(in Python v3.10)"><span class="pre">Iterator</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Dict" title="(in Python v3.10)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#ms3.utils.File" title="ms3.utils.File"><span class="pre">File</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Iterator" title="(in Python v3.10)"><span class="pre">Iterator</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#ms3.utils.File" title="ms3.utils.File"><span class="pre">File</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/ms3/piece.html#Piece.iter_files"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.piece.Piece.iter_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Equivalent to iterating through the result of <a class="reference internal" href="#ms3.piece.Piece.get_files" title="ms3.piece.Piece.get_files"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_files()</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.piece.Piece.load_annotation_table_into_score">
<span class="sig-name descname"><span class="pre">load_annotation_table_into_score</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ix</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><span class="pre">DataFrame</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">view_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">choose</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Literal" title="(in Python v3.10)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'auto'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'ask'</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'auto'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'detached'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">infer</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">cols</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/constants.html#None" title="(in Python v3.10)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/ms3/piece.html#Piece.load_annotation_table_into_score"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.piece.Piece.load_annotation_table_into_score" title="Permalink to this definition">¶</a></dt>
<dd><p>Attach an <a class="reference internal" href="#ms3.annotations.Annotations" title="ms3.annotations.Annotations"><code class="xref py py-class docutils literal notranslate"><span class="pre">Annotations</span></code></a> object to the score and make it available as <code class="docutils literal notranslate"><span class="pre">Score.{key}</span></code>.
It can be an existing object or one newly created from the TSV file <code class="docutils literal notranslate"><span class="pre">tsv_path</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ix</strong> – Either pass the index of a TSV file containing annotations, or</p></li>
<li><p><strong>df</strong> – A DataFrame containing annotations.</p></li>
<li><p><strong>key</strong> – Specify a new key for accessing the set of annotations. The string needs to be usable
as an identifier, e.g. not start with a number, not contain special characters etc. In return you
may use it as a property: For example, passing <code class="docutils literal notranslate"><span class="pre">'chords'</span></code> lets you access the <a class="reference internal" href="#ms3.annotations.Annotations" title="ms3.annotations.Annotations"><code class="xref py py-class docutils literal notranslate"><span class="pre">Annotations</span></code></a> as
<code class="docutils literal notranslate"><span class="pre">Score.chords</span></code>. The key ‘annotations’ is reserved for all annotations attached to the score.</p></li>
<li><p><strong>infer</strong> – By default, the label types are inferred in the currently configured order (see <code class="xref py py-attr docutils literal notranslate"><span class="pre">name2regex</span></code>).
Pass False to not add and not change any label types.</p></li>
<li><p><strong>**cols</strong> – If the columns in the specified TSV file diverge from the <a class="reference internal" href="manual.html#column-names"><span class="std std-ref">standard column names</span></a>,
pass them as standard_name=’custom name’ keywords.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.piece.Piece.store_extracted_facet">
<span class="sig-name descname"><span class="pre">store_extracted_facet</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">facet</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Literal" title="(in Python v3.10)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'measures'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'notes'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'rests'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'notes_and_rests'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'labels'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'expanded'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'form_labels'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'cadences'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'events'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'chords'</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">root_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">folder</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">suffix</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">view_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">choose</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Literal" title="(in Python v3.10)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'all'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'auto'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'ask'</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'all'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unfold</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interval_index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/piece.html#Piece.store_extracted_facet"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.piece.Piece.store_extracted_facet" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Extract a facet from one or several available scores and store the results as TSV files, the paths of which
are computed from the respective score’s location.</p>
<dl>
<dt>Args:</dt><dd><p>facet:
root_dir:</p>
<blockquote>
<div><p>Defaults to None, meaning that the path is constructed based on the corpus_path.
Pass a directory to construct the path relative to it instead. If <code class="docutils literal notranslate"><span class="pre">folder</span></code> is an absolute path,
<code class="docutils literal notranslate"><span class="pre">root_dir</span></code> is ignored.</p>
</div></blockquote>
<dl class="simple">
<dt>folder:</dt><dd><ul class="simple">
<li><p>If <code class="docutils literal notranslate"><span class="pre">folder</span></code> is None (default), the files’ type will be appended to the <code class="docutils literal notranslate"><span class="pre">root_dir</span></code>.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">folder</span></code> is an absolute path, <code class="docutils literal notranslate"><span class="pre">root_dir</span></code> will be ignored.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">folder</span></code> is a relative path starting with a dot <code class="docutils literal notranslate"><span class="pre">.</span></code> the relative path is appended to the file’s subdir.
For example, <a href="#id5"><span class="problematic" id="id6">``</span></a>..</p></li>
</ul>
</dd>
</dl>
</dd>
</dl>
</div></blockquote>
<dl>
<dt>otes`` will resolve to a sibling directory of the one where the <code class="docutils literal notranslate"><span class="pre">file</span></code> is located.</dt><dd><blockquote>
<div><blockquote>
<div><ul class="simple">
<li><p>If <code class="docutils literal notranslate"><span class="pre">folder</span></code> is a relative path that does not begin with a dot <code class="docutils literal notranslate"><span class="pre">.</span></code>, it will be appended to the
<code class="docutils literal notranslate"><span class="pre">root_dir</span></code>.</p></li>
</ul>
</div></blockquote>
<p>suffix: String to append to the file’s fname.
view_name:
force:
choose:
unfold:
interval_index:</p>
</div></blockquote>
<p>Returns:</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.piece.Piece.store_parsed_score_at_ix">
<span class="sig-name descname"><span class="pre">store_parsed_score_at_ix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ix</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">root_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">folder</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'.'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">suffix</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">simulate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/ms3/piece.html#Piece.store_parsed_score_at_ix"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.piece.Piece.store_parsed_score_at_ix" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a MuseScore 3 file from the Score object at the given index.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ix</strong> – </p></li>
<li><p><strong>folder</strong> – </p></li>
<li><p><strong>suffix</strong> – Suffix to append to the original file name.</p></li>
<li><p><strong>root_dir</strong> – </p></li>
<li><p><strong>overwrite</strong> – Pass True to overwrite existing files.</p></li>
<li><p><strong>simulate</strong> – Set to True if no files are to be written.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Path of the stored file.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.piece.Piece.update_tsvs_on_disk">
<span class="sig-name descname"><span class="pre">update_tsvs_on_disk</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">facets</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Literal" title="(in Python v3.10)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'measures'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'notes'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'rests'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'notes_and_rests'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'labels'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'expanded'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'form_labels'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'cadences'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'events'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'chords'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Collection" title="(in Python v3.10)"><span class="pre">Collection</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Literal" title="(in Python v3.10)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'measures'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'notes'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'rests'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'notes_and_rests'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'labels'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'expanded'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'form_labels'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'cadences'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'events'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'chords'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'tsv'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">view_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">choose</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Literal" title="(in Python v3.10)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'auto'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'ask'</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'auto'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/ms3/piece.html#Piece.update_tsvs_on_disk"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.piece.Piece.update_tsvs_on_disk" title="Permalink to this definition">¶</a></dt>
<dd><p>Update existing TSV files corresponding to one or several facets with information freshly extracted from a parsed
score, but only if the contents are identical. Otherwise, the existing TSV file is not overwritten and the
differences are displayed in a log warning. The purpose is to safely update the format of existing TSV files,
(for instance with respect to column order) making sure that the content doesn’t change.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>facets</strong> – </p></li>
<li><p><strong>view_name</strong> – </p></li>
<li><p><strong>force</strong> – By default, only TSV files that have already been parsed are updated. Set to True in order to
force-parse for each facet one of the TSV files included in the given view, if necessary.</p></li>
<li><p><strong>choose</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of paths that have been overwritten.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-ms3.view">
<span id="the-view-class"></span><h2>The View class<a class="headerlink" href="#module-ms3.view" title="Permalink to this heading">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="ms3.view.empty_counts">
<span class="sig-prename descclassname"><span class="pre">ms3.view.</span></span><span class="sig-name descname"><span class="pre">empty_counts</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/view.html#empty_counts"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.view.empty_counts" title="Permalink to this definition">¶</a></dt>
<dd><p>Array for counting kept items, discarded items, and their sum.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ms3.view.View">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ms3.view.</span></span><span class="sig-name descname"><span class="pre">View</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">view_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'all'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">only_metadata_fnames</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_convertible</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_tsv</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude_review</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">logger_cfg</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/view.html#View"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.view.View" title="Permalink to this definition">¶</a></dt>
<dd><p>Object storing regular expressions and filter lists, storing and keeping track of things filtered out.</p>
<dl class="py method">
<dt class="sig sig-object py" id="ms3.view.View.is_default">
<span class="sig-name descname"><span class="pre">is_default</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">relax_for_cli</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span></span><a class="reference internal" href="_modules/ms3/view.html#View.is_default"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.view.View.is_default" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks includes and excludes that may influence the selection of fnames. Returns True if the settings
do not filter out any fnames. Only if <code class="docutils literal notranslate"><span class="pre">relax_for_cli</span></code> is set to True, the filters <code class="xref py py-attr docutils literal notranslate"><span class="pre">include_convertible</span></code>
and <code class="xref py py-attr docutils literal notranslate"><span class="pre">exclude_review</span></code> are permitted, too.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.view.View.copy">
<span class="sig-name descname"><span class="pre">copy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">new_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#ms3.view.View" title="ms3.view.View"><span class="pre">View</span></a></span></span><a class="reference internal" href="_modules/ms3/view.html#View.copy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.view.View.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a copy of this view, i.e., a new View object.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.view.View.check_token">
<span class="sig-name descname"><span class="pre">check_token</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">category</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Literal" title="(in Python v3.10)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'corpora'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'folders'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'fnames'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'files'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'suffixes'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'facets'</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">token</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span></span><a class="reference internal" href="_modules/ms3/view.html#View.check_token"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.view.View.check_token" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if a string pertaining to a certain category should be included in the view or not.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.view.View.check_file">
<span class="sig-name descname"><span class="pre">check_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#ms3.utils.File" title="ms3.utils.File"><span class="pre">File</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Tuple" title="(in Python v3.10)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/ms3/view.html#View.check_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.view.View.check_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if an individual File passes all filters w.r.t. its subdirectories, file name and suffix.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>file</strong> – </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>False if file is to be discarded from this view.
The criterion based on which the file is being excluded.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.view.View.filter_by_token">
<span class="sig-name descname"><span class="pre">filter_by_token</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">category</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Literal" title="(in Python v3.10)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'corpora'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'folders'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'fnames'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'files'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'suffixes'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'facets'</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tuples</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Iterable" title="(in Python v3.10)"><span class="pre">Iterable</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#tuple" title="(in Python v3.10)"><span class="pre">tuple</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Iterator" title="(in Python v3.10)"><span class="pre">Iterator</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#tuple" title="(in Python v3.10)"><span class="pre">tuple</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/ms3/view.html#View.filter_by_token"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.view.View.filter_by_token" title="Permalink to this definition">¶</a></dt>
<dd><p>Filters out those tuples where the token (first element) does not pass _.check_token(category, token).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.view.View.filtered_tokens">
<span class="sig-name descname"><span class="pre">filtered_tokens</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">category</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Literal" title="(in Python v3.10)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'corpora'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'folders'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'fnames'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'files'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'suffixes'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'facets'</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tokens</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Collection" title="(in Python v3.10)"><span class="pre">Collection</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/ms3/view.html#View.filtered_tokens"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.view.View.filtered_tokens" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies <a class="reference internal" href="#ms3.view.View.filter_by_token" title="ms3.view.View.filter_by_token"><code class="xref py py-meth docutils literal notranslate"><span class="pre">filter_by_token()</span></code></a> to a collection of tokens.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.view.View.filtered_file_list">
<span class="sig-name descname"><span class="pre">filtered_file_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">files</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Collection" title="(in Python v3.10)"><span class="pre">Collection</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#ms3.utils.File" title="ms3.utils.File"><span class="pre">File</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#ms3.utils.File" title="ms3.utils.File"><span class="pre">File</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/ms3/view.html#View.filtered_file_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.view.View.filtered_file_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Keep only the files that pass _.check_file().</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>files</strong> – <code class="xref py py-obj docutils literal notranslate"><span class="pre">File</span></code> objects to be filtered.</p></li>
<li><p><strong>key</strong> – Aggregate results from several filter runs under this dictionary key.</p></li>
</ul>
</dd>
</dl>
<p>Returns:</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ms3.view.DefaultView">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ms3.view.</span></span><span class="sig-name descname"><span class="pre">DefaultView</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">view_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'default'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">only_metadata_fnames</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_convertible</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_tsv</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude_review</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">logger_cfg</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/view.html#DefaultView"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.view.DefaultView" title="Permalink to this definition">¶</a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py" id="ms3.view.DefaultView.is_default">
<span class="sig-name descname"><span class="pre">is_default</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">relax_for_cli</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span></span><a class="reference internal" href="_modules/ms3/view.html#DefaultView.is_default"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.view.DefaultView.is_default" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks includes and excludes that may influence the selection of fnames. Returns True if the settings
do not filter out any fnames. Only if <code class="docutils literal notranslate"><span class="pre">relax_for_cli</span></code> is set to True, the filters <code class="xref py py-attr docutils literal notranslate"><span class="pre">include_convertible</span></code>
and <code class="xref py py-attr docutils literal notranslate"><span class="pre">exclude_review</span></code> are permitted, too.</p>
</dd></dl>

</dd></dl>

</section>
<section id="the-score-class">
<h2>The Score class<a class="headerlink" href="#the-score-class" title="Permalink to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="ms3.score.Score">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ms3.score.</span></span><span class="sig-name descname"><span class="pre">Score</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">musescore_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">match_regex</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['dcml',</span> <span class="pre">'form_labels']</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">read_only</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels_cfg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parser</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'bs4'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ms</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">logger_cfg</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/score.html#Score"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.score.Score" title="Permalink to this definition">¶</a></dt>
<dd><p>Object representing a score.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="ms3.score.Score.ABS_REGEX">
<span class="sig-name descname"><span class="pre">ABS_REGEX</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'^\\(?[A-G|a-g](b*|#*).*?(/[A-G|a-g](b*|#*))?$'</span></em><a class="headerlink" href="#ms3.score.Score.ABS_REGEX" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>
Class variable with a regular expression that
recognizes absolute chord symbols in their decoded (string) form; they start with a note name.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ms3.score.Score.NASHVILLE_REGEX">
<span class="sig-name descname"><span class="pre">NASHVILLE_REGEX</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'^(b*|#*)(\\d).*$'</span></em><a class="headerlink" href="#ms3.score.Score.NASHVILLE_REGEX" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>
Class variable with a regular expression that
recognizes labels representing a Nashville numeral, which MuseScore is able to encode.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ms3.score.Score.RN_REGEX">
<span class="sig-name descname"><span class="pre">RN_REGEX</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'^$'</span></em><a class="headerlink" href="#ms3.score.Score.RN_REGEX" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>
Class variable with a regular expression for Roman numerals that
momentarily matches nothing because ms3 tries interpreting Roman Numerals
als DCML harmony annotations.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ms3.score.Score.native_formats">
<span class="sig-name descname"><span class="pre">native_formats</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('mscx',</span> <span class="pre">'mscz')</span></em><a class="headerlink" href="#ms3.score.Score.native_formats" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#tuple" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tuple</span></code></a>
Formats that MS3 reads without having to convert.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ms3.score.Score.convertible_formats">
<span class="sig-name descname"><span class="pre">convertible_formats</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('cap',</span> <span class="pre">'capx',</span> <span class="pre">'midi',</span> <span class="pre">'mid',</span> <span class="pre">'musicxml',</span> <span class="pre">'mxl',</span> <span class="pre">'xml')</span></em><a class="headerlink" href="#ms3.score.Score.convertible_formats" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#tuple" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tuple</span></code></a>
Formats that have to be converted before parsing.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ms3.score.Score.parseable_formats">
<span class="sig-name descname"><span class="pre">parseable_formats</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('mscx',</span> <span class="pre">'mscz',</span> <span class="pre">'cap',</span> <span class="pre">'capx',</span> <span class="pre">'midi',</span> <span class="pre">'mid',</span> <span class="pre">'musicxml',</span> <span class="pre">'mxl',</span> <span class="pre">'xml')</span></em><a class="headerlink" href="#ms3.score.Score.parseable_formats" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#tuple" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tuple</span></code></a>
Formats that ms3 can parse.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ms3.score.Score.read_only">
<span class="sig-name descname"><span class="pre">read_only</span></span><a class="headerlink" href="#ms3.score.Score.read_only" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional
Defaults to <code class="docutils literal notranslate"><span class="pre">False</span></code>, meaning that the parsing is slower and uses more memory in order to allow for manipulations
of the score, such as adding and deleting labels. Set to <code class="docutils literal notranslate"><span class="pre">True</span></code> if you’re only extracting information.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ms3.score.Score.full_paths">
<span class="sig-name descname"><span class="pre">full_paths</span></span><a class="headerlink" href="#ms3.score.Score.full_paths" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#dict" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>
<code class="docutils literal notranslate"><span class="pre">{KEY:</span> <span class="pre">{i:</span> <span class="pre">full_path}}</span></code> dictionary holding the full paths of all parsed MuseScore and TSV files,
including file names. Handled internally by <a class="reference internal" href="#ms3.score.Score._handle_path" title="ms3.score.Score._handle_path"><code class="xref py py-meth docutils literal notranslate"><span class="pre">_handle_path()</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ms3.score.Score.paths">
<span class="sig-name descname"><span class="pre">paths</span></span><a class="headerlink" href="#ms3.score.Score.paths" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#dict" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>
<code class="docutils literal notranslate"><span class="pre">{KEY:</span> <span class="pre">{i:</span> <span class="pre">file</span> <span class="pre">path}}</span></code> dictionary holding the paths of all parsed MuseScore and TSV files,
excluding file names. Handled internally by <a class="reference internal" href="#ms3.score.Score._handle_path" title="ms3.score.Score._handle_path"><code class="xref py py-meth docutils literal notranslate"><span class="pre">_handle_path()</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ms3.score.Score.files">
<span class="sig-name descname"><span class="pre">files</span></span><a class="headerlink" href="#ms3.score.Score.files" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#dict" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>
<code class="docutils literal notranslate"><span class="pre">{KEY:</span> <span class="pre">{i:</span> <span class="pre">file</span> <span class="pre">name</span> <span class="pre">with</span> <span class="pre">extension}}</span></code> dictionary holding the complete file name  of each parsed file,
including the extension. Handled internally by <a class="reference internal" href="#ms3.score.Score._handle_path" title="ms3.score.Score._handle_path"><code class="xref py py-meth docutils literal notranslate"><span class="pre">_handle_path()</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ms3.score.Score.fnames">
<span class="sig-name descname"><span class="pre">fnames</span></span><a class="headerlink" href="#ms3.score.Score.fnames" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#dict" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>
<code class="docutils literal notranslate"><span class="pre">{KEY:</span> <span class="pre">{i:</span> <span class="pre">file</span> <span class="pre">name</span> <span class="pre">without</span> <span class="pre">extension}}</span></code> dictionary holding the file name  of each parsed file,
without its extension. Handled internally by <a class="reference internal" href="#ms3.score.Score._handle_path" title="ms3.score.Score._handle_path"><code class="xref py py-meth docutils literal notranslate"><span class="pre">_handle_path()</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ms3.score.Score.fexts">
<span class="sig-name descname"><span class="pre">fexts</span></span><a class="headerlink" href="#ms3.score.Score.fexts" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#dict" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>
<code class="docutils literal notranslate"><span class="pre">{KEY:</span> <span class="pre">{i:</span> <span class="pre">file</span> <span class="pre">extension}}</span></code> dictionary holding the file extension of each parsed file.
Handled internally by <a class="reference internal" href="#ms3.score.Score._handle_path" title="ms3.score.Score._handle_path"><code class="xref py py-meth docutils literal notranslate"><span class="pre">_handle_path()</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ms3.score.Score.ms">
<span class="sig-name descname"><span class="pre">ms</span></span><a class="headerlink" href="#ms3.score.Score.ms" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>
Path or command of the local MuseScore 3 installation if specified by the user.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ms3.score.Score._mscx">
<span class="sig-name descname"><span class="pre">_mscx</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#ms3.score.MSCX" title="ms3.score.MSCX"><span class="pre">MSCX</span></a></em><a class="headerlink" href="#ms3.score.Score._mscx" title="Permalink to this definition">¶</a></dt>
<dd><p>The object representing the parsed MuseScore file.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ms3.score.Score._detached_annotations">
<span class="sig-name descname"><span class="pre">_detached_annotations</span></span><a class="headerlink" href="#ms3.score.Score._detached_annotations" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#dict" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>
<code class="docutils literal notranslate"><span class="pre">{(key,</span> <span class="pre">i):</span> <span class="pre">Annotations</span> <span class="pre">object}</span></code> dictionary for accessing all detached <a class="reference internal" href="#ms3.annotations.Annotations" title="ms3.annotations.Annotations"><code class="xref py py-class docutils literal notranslate"><span class="pre">Annotations</span></code></a> objects.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ms3.score.Score._types_to_infer">
<span class="sig-name descname"><span class="pre">_types_to_infer</span></span><a class="headerlink" href="#ms3.score.Score._types_to_infer" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#list" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a>
Current order in which types are being recognized.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ms3.score.Score._regex_name_description">
<span class="sig-name descname"><span class="pre">_regex_name_description</span></span><a class="headerlink" href="#ms3.score.Score._regex_name_description" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#dict" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>
Mapping regex names to their descriptions.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ms3.score.Score._name2regex">
<span class="sig-name descname"><span class="pre">_name2regex</span></span><a class="headerlink" href="#ms3.score.Score._name2regex" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#dict" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>
Mapping names to their corresponding regex. Managed via the property <a class="reference internal" href="#ms3.score.Score.name2regex" title="ms3.score.Score.name2regex"><code class="xref py py-attr docutils literal notranslate"><span class="pre">name2regex</span></code></a>.
‘dcml’: utils.DCML_REGEX,</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ms3.score.Score.labels_cfg">
<span class="sig-name descname"><span class="pre">labels_cfg</span></span><a class="headerlink" href="#ms3.score.Score.labels_cfg" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#dict" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>
Configuration dictionary to determine the output format of the <a class="reference internal" href="#ms3.annotations.Annotations" title="ms3.annotations.Annotations"><code class="xref py py-class docutils literal notranslate"><span class="pre">Annotations</span></code></a>
objects contained in the current object, especially when calling <a class="reference internal" href="#ms3.score.MSCX.labels" title="ms3.score.MSCX.labels"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Score.mscx.labels()</span></code></a>.
The default options correspond to the default parameters of
<a class="reference internal" href="#ms3.annotations.Annotations.get_labels" title="ms3.annotations.Annotations.get_labels"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Annotations.get_labels()</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ms3.score.Score.parser">
<span class="sig-name descname"><span class="pre">parser</span></span><a class="headerlink" href="#ms3.score.Score.parser" title="Permalink to this definition">¶</a></dt>
<dd><p>{‘bs4’}
Currently only one XML parser has been implemented which uses BeautifulSoup 4.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ms3.score.Score.review_report">
<span class="sig-name descname"><span class="pre">review_report</span></span><a class="headerlink" href="#ms3.score.Score.review_report" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>
After calling <a class="reference internal" href="#ms3.score.Score.color_non_chord_tones" title="ms3.score.Score.color_non_chord_tones"><code class="xref py py-meth docutils literal notranslate"><span class="pre">color_non_chord_tones()</span></code></a>, this DataFrame contains the expanded chord labels
plus the six additional columns [‘n_colored’, ‘n_untouched’, ‘count_ratio’, ‘dur_colored’, ‘dur_untouched’, ‘dur_ratio’]
representing the statistics of chord (untouched) vs. non-chord (colored) notes.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ms3.score.Score.comparison_report">
<span class="sig-name descname"><span class="pre">comparison_report</span></span><a class="headerlink" href="#ms3.score.Score.comparison_report" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>
DataFrame showing the labels modified (‘new’) and added (‘old’) by <a class="reference internal" href="#ms3.score.Score.compare_labels" title="ms3.score.Score.compare_labels"><code class="xref py py-meth docutils literal notranslate"><span class="pre">compare_labels()</span></code></a>.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ms3.score.Score.name2regex">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">name2regex</span></span><a class="headerlink" href="#ms3.score.Score.name2regex" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#list" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a> or <a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#dict" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>, optional
The order in which label types are to be inferred.
Assigning a new value results in a call to <code class="xref py py-meth docutils literal notranslate"><span class="pre">infer_types()</span></code>.
Passing a {label type: regex} dictionary is a shortcut to update type regex’s or to add new ones.
The inference will take place in the order in which they appear in the dictionary. To reuse an existing
regex will updating others, you can refer to them as None, e.g. <code class="docutils literal notranslate"><span class="pre">{'dcml':</span> <span class="pre">None,</span> <span class="pre">'my_own':</span> <span class="pre">r'^(PAC|HC)$'}</span></code>.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ms3.score.Score.has_detached_annotations">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">has_detached_annotations</span></span><a class="headerlink" href="#ms3.score.Score.has_detached_annotations" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>
Is True as long as the score contains <a class="reference internal" href="#ms3.annotations.Annotations" title="ms3.annotations.Annotations"><code class="xref py py-class docutils literal notranslate"><span class="pre">Annotations</span></code></a> objects, that are not attached to the <a class="reference internal" href="#ms3.score.MSCX" title="ms3.score.MSCX"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MSCX</span></code></a> object.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ms3.score.Score.mscx">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">mscx</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#ms3.score.MSCX" title="ms3.score.MSCX"><span class="pre">MSCX</span></a></em><a class="headerlink" href="#ms3.score.Score.mscx" title="Permalink to this definition">¶</a></dt>
<dd><p>Standard way of accessing the parsed MuseScore file.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ms3.score.Score.types">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">types</span></span><a class="headerlink" href="#ms3.score.Score.types" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#dict" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>
Shows the mapping of label types to their descriptions.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.score.Score.attach_labels">
<span class="sig-name descname"><span class="pre">attach_labels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">staff</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">voice</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">harmony_layer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">check_for_clashes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remove_detached</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/score.html#Score.attach_labels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.score.Score.attach_labels" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert detached labels <code class="docutils literal notranslate"><span class="pre">key</span></code> into this score’s <a class="reference internal" href="#ms3.score.MSCX" title="ms3.score.MSCX"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MSCX</span></code></a> object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – Key of the detached labels you want to insert into the score.</p></li>
<li><p><strong>staff</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>, optional) – By default, labels are added to staves as specified in the TSV or to -1 (lowest).
Pass an integer to specify a staff.</p></li>
<li><p><strong>voice</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>, optional) – By default, labels are added to voices (notational layers) as specified in the TSV or to 1 (main voice).
Pass an integer to specify a voice.</p></li>
<li><p><strong>harmony_layer</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>, optional) – <div class="line-block">
<div class="line">By default, the labels are written to the layer specified as an integer in the column <code class="docutils literal notranslate"><span class="pre">harmony_layer</span></code>.</div>
<div class="line">Pass an integer to select a particular layer:</div>
<div class="line">* 0 to attach them as absolute (‘guitar’) chords, meaning that when opened next time,</div>
<div class="line-block">
<div class="line">MuseScore will split and encode those beginning with a note name ( resulting in ms3-internal harmony_layer 3).</div>
</div>
<div class="line">* 1 the labels are written into the staff’s layer for Roman Numeral Analysis.</div>
<div class="line">* 2 to have MuseScore interpret them as Nashville Numbers</div>
</div>
</p></li>
<li><p><strong>check_for_clashes</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Defaults to True, meaning that the positions where the labels will be inserted will be checked for existing
labels.</p></li>
<li><p><strong>remove_detached</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – By default, the detached <a class="reference internal" href="#ms3.annotations.Annotations" title="ms3.annotations.Annotations"><code class="xref py py-class docutils literal notranslate"><span class="pre">Annotations</span></code></a> object is removed after successfully attaching it.
Pass False to have it remain in detached state.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a> – Number of newly attached labels.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a> – Number of labels that were to be attached.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.score.Score.change_labels_cfg">
<span class="sig-name descname"><span class="pre">change_labels_cfg</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">labels_cfg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">staff</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">voice</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">harmony_layer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">positioning</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color_format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/score.html#Score.change_labels_cfg"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.score.Score.change_labels_cfg" title="Permalink to this definition">¶</a></dt>
<dd><p>Update <a class="reference internal" href="#ms3.score.Score.labels_cfg" title="ms3.score.Score.labels_cfg"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Score.labels_cfg</span></code></a> and <a class="reference internal" href="#ms3.score.MSCX.labels_cfg" title="ms3.score.MSCX.labels_cfg"><code class="xref py py-attr docutils literal notranslate"><span class="pre">MSCX.labels_cfg</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>labels_cfg</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#dict" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>) – Using an entire dictionary or, to change only particular options, choose from:</p></li>
<li><p><strong>staff</strong> – Arguments as they will be passed to <a class="reference internal" href="#ms3.annotations.Annotations.get_labels" title="ms3.annotations.Annotations.get_labels"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_labels()</span></code></a></p></li>
<li><p><strong>voice</strong> – Arguments as they will be passed to <a class="reference internal" href="#ms3.annotations.Annotations.get_labels" title="ms3.annotations.Annotations.get_labels"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_labels()</span></code></a></p></li>
<li><p><strong>harmony_layer</strong> – Arguments as they will be passed to <a class="reference internal" href="#ms3.annotations.Annotations.get_labels" title="ms3.annotations.Annotations.get_labels"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_labels()</span></code></a></p></li>
<li><p><strong>positioning</strong> – Arguments as they will be passed to <a class="reference internal" href="#ms3.annotations.Annotations.get_labels" title="ms3.annotations.Annotations.get_labels"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_labels()</span></code></a></p></li>
<li><p><strong>decode</strong> – Arguments as they will be passed to <a class="reference internal" href="#ms3.annotations.Annotations.get_labels" title="ms3.annotations.Annotations.get_labels"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_labels()</span></code></a></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.score.Score.check_labels">
<span class="sig-name descname"><span class="pre">check_labels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'annotations'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">regex</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">regex_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'dcml'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/score.html#Score.check_labels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.score.Score.check_labels" title="Permalink to this definition">¶</a></dt>
<dd><p>Tries to match the labels <code class="docutils literal notranslate"><span class="pre">keys</span></code> against the given <code class="docutils literal notranslate"><span class="pre">regex</span></code> or the one of the registered <code class="docutils literal notranslate"><span class="pre">regex_name</span></code>.
Returns wrong labels.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>keys</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a> or <code class="xref py py-obj docutils literal notranslate"><span class="pre">Collection</span></code>, optional) – The key(s) of the Annotation objects you want to check. Defaults to ‘annotations’, the attached labels.</p></li>
<li><p><strong>regex</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – Pass a regular expression against which to check the labels if you don’t want to use the one of an existing
<code class="docutils literal notranslate"><span class="pre">regex_name</span></code> or in order to register a new one on the fly by passing the new name as <code class="docutils literal notranslate"><span class="pre">regex_name</span></code>.</p></li>
<li><p><strong>regex_name</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – To use the regular expression of a registered type, pass its name, defaults to ‘dcml’. Pass a new name and
a <code class="docutils literal notranslate"><span class="pre">regex</span></code> to register a new label type on the fly.</p></li>
<li><p><strong>kwargs</strong> – Parameters passed to <a class="reference internal" href="#ms3.utils.check_labels" title="ms3.utils.check_labels"><code class="xref py py-func docutils literal notranslate"><span class="pre">check_labels()</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Labels not matching the regex.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.score.Score.color_non_chord_tones">
<span class="sig-name descname"><span class="pre">color_non_chord_tones</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">color_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'red'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><span class="pre">DataFrame</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/ms3/score.html#Score.color_non_chord_tones"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.score.Score.color_non_chord_tones" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterates through the attached labels, tries to interpret them as DCML harmony labels,
colors the notes in the parsed score that are not expressed by the respective label for a score segment,
and stores a report under <a class="reference internal" href="#ms3.score.Score.review_report" title="ms3.score.Score.review_report"><code class="xref py py-attr docutils literal notranslate"><span class="pre">review_report</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>color_name</strong> – Name the color that the non-chord tones should get, defaults to ‘red’. Name can be a CSS color or
a MuseScore color (see <code class="xref py py-attr docutils literal notranslate"><span class="pre">utils.MS3_COLORS</span></code>).</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A coloring report which is the original <code class="docutils literal notranslate"><span class="pre">df</span></code> with the appended columns ‘n_colored’, ‘n_untouched’,
‘count_ratio’, ‘dur_colored’, ‘dur_untouched’, ‘dur_ratio’. They contain the counts and durations of the
colored vs. untouched notes as well the ratio of each pair. Note that the report does not take into account
notes that reach into a segment, nor does it correct the duration of notes that reach into the subsequent
segment.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.score.Score.compare_labels">
<span class="sig-name descname"><span class="pre">compare_labels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'detached'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_color</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'ms3_darkgreen'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">old_color</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'ms3_darkred'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">detached_is_newer</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">add_to_rna</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Tuple" title="(in Python v3.10)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/ms3/score.html#Score.compare_labels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.score.Score.compare_labels" title="Permalink to this definition">¶</a></dt>
<dd><p>Compare detached labels <code class="docutils literal notranslate"><span class="pre">key</span></code> to the ones attached to the Score to create a diff.
By default, the attached labels are considered as the reviewed version and labels that have changed or been added
in comparison to the detached labels are colored in green; whereas the previous versions of changed labels are
attached to the Score in red, just like any deleted label.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> – Key of the detached labels you want to compare to the ones in the score.</p></li>
<li><p><strong>new_color</strong> – The colors by which new and old labels are differentiated. Identical labels remain unchanged. Colors can be
CSS colors or MuseScore colors (see <code class="xref py py-attr docutils literal notranslate"><span class="pre">utils.MS3_COLORS</span></code>).</p></li>
<li><p><strong>old_color</strong> – The colors by which new and old labels are differentiated. Identical labels remain unchanged. Colors can be
CSS colors or MuseScore colors (see <code class="xref py py-attr docutils literal notranslate"><span class="pre">utils.MS3_COLORS</span></code>).</p></li>
<li><p><strong>detached_is_newer</strong> – Pass True if the detached labels are to be added with <code class="docutils literal notranslate"><span class="pre">new_color</span></code> whereas the attached changed labels
will turn <code class="docutils literal notranslate"><span class="pre">old_color</span></code>, as opposed to the default.</p></li>
<li><p><strong>add_to_rna</strong> – By default, new labels are attached to the Roman Numeral layer.
Pass False to attach them to the chord layer instead.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Number of attached labels that were not present in the old version and whose color has been changed.
Number of added labels that are not present in the current version any more and which have been added as a consequence.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.score.Score.detach_labels">
<span class="sig-name descname"><span class="pre">detach_labels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">staff</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">voice</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">harmony_layer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delete</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inverse</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">regex</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/score.html#Score.detach_labels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.score.Score.detach_labels" title="Permalink to this definition">¶</a></dt>
<dd><p>Detach all annotations labels from this score’s <a class="reference internal" href="#ms3.score.MSCX" title="ms3.score.MSCX"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MSCX</span></code></a> object or just a selection of them, without taking
labels_cfg into account (don’t decode the labels).
The extracted labels are stored as a new <a class="reference internal" href="#ms3.annotations.Annotations" title="ms3.annotations.Annotations"><code class="xref py py-class docutils literal notranslate"><span class="pre">Annotations</span></code></a> object that is accessible via <code class="docutils literal notranslate"><span class="pre">Score.{key}</span></code>.
By default, <code class="docutils literal notranslate"><span class="pre">delete</span></code> is set to True, meaning that if you call <code class="xref py py-meth docutils literal notranslate"><span class="pre">store_scores()</span></code> afterwards,
the created MuseScore file will not contain the detached labels.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – Specify a new key for accessing the detached set of annotations. The string needs to be usable
as an identifier, e.g. not start with a number, not contain special characters etc. In return you
may use it as a property: For example, passing <code class="docutils literal notranslate"><span class="pre">'chords'</span></code> lets you access the detached labels as
<code class="docutils literal notranslate"><span class="pre">Score.chords</span></code>. The key ‘annotations’ is reserved for all annotations attached to the score.</p></li>
<li><p><strong>staff</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>, optional) – Pass a staff ID to select only labels from this staff. The upper staff has ID 1.</p></li>
<li><p><strong>voice</strong> (<em>{1</em><em>, </em><em>2</em><em>, </em><em>3</em><em>, </em><em>4}</em><em>, </em><em>optional</em>) – Can be used to select only labels from one of the four notational layers.
Layer 1 is MuseScore’s main, ‘upper voice’ layer, coloured in blue.</p></li>
<li><p><strong>harmony_layer</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a> or <a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – Select one of the harmony layers {0,1,2,3} to select only these.</p></li>
<li><p><strong>delete</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – By default, the labels are removed from the XML structure in <a class="reference internal" href="#ms3.score.MSCX" title="ms3.score.MSCX"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MSCX</span></code></a>.
Pass False if you want them to remain. This could be useful if you only want to extract a subset
of the annotations for storing them separately but without removing the labels from the score.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.score.Score.get_infer_regex">
<span class="sig-name descname"><span class="pre">get_infer_regex</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/score.html#Score.get_infer_regex"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.score.Score.get_infer_regex" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Mapping of label types to the corresponding regular expressions
in the order in which they are currently set to be inferred.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#dict" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.score.Score.get_labels">
<span class="sig-name descname"><span class="pre">get_labels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interval_index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unfold</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><span class="pre">DataFrame</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/ms3/score.html#Score.get_labels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.score.Score.get_labels" title="Permalink to this definition">¶</a></dt>
<dd><p>DataFrame representing all <a class="reference internal" href="manual.html#labels"><span class="std std-ref">Labels</span></a>, i.e., all &lt;Harmony&gt; tags, of the score or another set of annotations.
Corresponds to calling <a class="reference internal" href="#ms3.annotations.Annotations.get_labels" title="ms3.annotations.Annotations.get_labels"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_labels()</span></code></a> on the selected object (by default, the one
representing labels attached to the score) with the current <code class="xref py py-attr docutils literal notranslate"><span class="pre">_labels_cfg</span></code>.
Comes with the columns <a class="reference internal" href="manual.html#quarterbeats"><span class="std std-ref">quarterbeats</span></a>, <a class="reference internal" href="manual.html#duration-qb"><span class="std std-ref">duration_qb</span></a>, <a class="reference internal" href="manual.html#mc"><span class="std std-ref">mc</span></a>, <a class="reference internal" href="manual.html#mn"><span class="std std-ref">mn</span></a>, <a class="reference internal" href="manual.html#mc-onset"><span class="std std-ref">mc_onset</span></a>, <a class="reference internal" href="manual.html#mn-onset"><span class="std std-ref">mn_onset</span></a>, <a class="reference internal" href="manual.html#timesig"><span class="std std-ref">timesig</span></a>, <a class="reference internal" href="manual.html#staff"><span class="std std-ref">staff</span></a>, <a class="reference internal" href="manual.html#voice"><span class="std std-ref">voice</span></a>, <a class="reference internal" href="manual.html#volta"><span class="std std-ref">volta</span></a>, <a class="reference internal" href="manual.html#harmony-layer"><span class="std std-ref">harmony_layer</span></a>, <a class="reference internal" href="manual.html#label"><span class="std std-ref">label</span></a>,
<a class="reference internal" href="manual.html#offset"><span class="std std-ref">offset_x</span></a>, <a class="reference internal" href="manual.html#offset"><span class="std std-ref">offset_y</span></a>, <a class="reference internal" href="manual.html#regex-match"><span class="std std-ref">regex_match</span></a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> – </p></li>
<li><p><strong>interval_index</strong> – Pass True to replace the default <a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.RangeIndex.html#pandas.RangeIndex" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">RangeIndex</span></code></a> by an <a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">IntervalIndex</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>DataFrame representing all <a class="reference internal" href="manual.html#labels"><span class="std std-ref">Labels</span></a>, i.e., all &lt;Harmony&gt; tags in the score.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.score.Score.new_type">
<span class="sig-name descname"><span class="pre">new_type</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">regex</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">description</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">infer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/score.html#Score.new_type"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.score.Score.new_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Declare a custom label type. A type consists of a name, a regular expression and,
falculatively, of a description.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a> or <a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>) – Name of the custom label type.</p></li>
<li><p><strong>regex</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – Regular expression that matches all labels of the custom type.</p></li>
<li><p><strong>description</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – Human readable description that appears when calling the property <code class="docutils literal notranslate"><span class="pre">Score.types</span></code>.</p></li>
<li><p><strong>infer</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – By default, the labels of all <a class="reference internal" href="#ms3.annotations.Annotations" title="ms3.annotations.Annotations"><code class="xref py py-class docutils literal notranslate"><span class="pre">Annotations</span></code></a> objects are matched against the new type.
Pass False to not change any label’s type.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.score.Score.load_annotations">
<span class="sig-name descname"><span class="pre">load_annotations</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tsv_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">anno_obj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#ms3.annotations.Annotations" title="ms3.annotations.Annotations"><span class="pre">Annotations</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><span class="pre">DataFrame</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'detached'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">infer</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">cols</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/constants.html#None" title="(in Python v3.10)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/ms3/score.html#Score.load_annotations"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.score.Score.load_annotations" title="Permalink to this definition">¶</a></dt>
<dd><p>Attach an <a class="reference internal" href="#ms3.annotations.Annotations" title="ms3.annotations.Annotations"><code class="xref py py-class docutils literal notranslate"><span class="pre">Annotations</span></code></a> object to the score and make it available as <code class="docutils literal notranslate"><span class="pre">Score.{key}</span></code>.
It can be an existing object or one newly created from the TSV file <code class="docutils literal notranslate"><span class="pre">tsv_path</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tsv_path</strong> – If you want to create a new <a class="reference internal" href="#ms3.annotations.Annotations" title="ms3.annotations.Annotations"><code class="xref py py-class docutils literal notranslate"><span class="pre">Annotations</span></code></a> object from a TSV file, pass its path.</p></li>
<li><p><strong>anno_obj</strong> – Instead, you can pass an existing object.</p></li>
<li><p><strong>df</strong> – Or you can automatically create one from a given DataFrame.</p></li>
<li><p><strong>key</strong> – Specify a new key for accessing the set of annotations. The string needs to be usable
as an identifier, e.g. not start with a number, not contain special characters etc. In return you
may use it as a property: For example, passing <code class="docutils literal notranslate"><span class="pre">'chords'</span></code> lets you access the <a class="reference internal" href="#ms3.annotations.Annotations" title="ms3.annotations.Annotations"><code class="xref py py-class docutils literal notranslate"><span class="pre">Annotations</span></code></a> as
<code class="docutils literal notranslate"><span class="pre">Score.chords</span></code>. The key ‘annotations’ is reserved for all annotations attached to the score.</p></li>
<li><p><strong>infer</strong> – By default, the label types are inferred in the currently configured order (see <a class="reference internal" href="#ms3.score.Score.name2regex" title="ms3.score.Score.name2regex"><code class="xref py py-attr docutils literal notranslate"><span class="pre">name2regex</span></code></a>).
Pass False to not add and not change any label types.</p></li>
<li><p><strong>**cols</strong> – If the columns in the specified TSV file diverge from the <a class="reference internal" href="manual.html#column-names"><span class="std std-ref">standard column names</span></a>,
pass them as standard_name=’custom name’ keywords.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.score.Score.store_annotations">
<span class="sig-name descname"><span class="pre">store_annotations</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'annotations'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tsv_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/score.html#Score.store_annotations"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.score.Score.store_annotations" title="Permalink to this definition">¶</a></dt>
<dd><p>Save a set of annotations as TSV file. While <code class="docutils literal notranslate"><span class="pre">store_list</span></code> stores attached labels only, this method
can also store detached labels by passing a <code class="docutils literal notranslate"><span class="pre">key</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – Key of the <a class="reference internal" href="#ms3.annotations.Annotations" title="ms3.annotations.Annotations"><code class="xref py py-class docutils literal notranslate"><span class="pre">Annotations</span></code></a> object which you want to output as TSV file.
By default, the annotations attached to the score (key=’annotations’) are stored.</p></li>
<li><p><strong>tsv_path</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – Path of the newly created TSV file including the file name.
By default, the TSV file is stored next to t</p></li>
<li><p><strong>kwargs</strong> – Additional keyword arguments will be passed to the function <a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.to_csv.html#pandas.DataFrame.to_csv" title="(in pandas v1.5.2)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pandas.DataFrame.to_csv()</span></code></a> to
customise the format of the created file (e.g. to change the separator to commas instead of tabs,
you would pass <code class="docutils literal notranslate"><span class="pre">sep=','</span></code>).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.score.Score.output_mscx">
<span class="sig-name descname"><span class="pre">output_mscx</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/constants.html#None" title="(in Python v3.10)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/ms3/score.html#Score.output_mscx"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.score.Score.output_mscx" title="Permalink to this definition">¶</a></dt>
<dd><p>Deprecated method. Replaced by <a class="reference internal" href="#ms3.score.Score.store_score" title="ms3.score.Score.store_score"><code class="xref py py-meth docutils literal notranslate"><span class="pre">store_score()</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.score.Score.store_score">
<span class="sig-name descname"><span class="pre">store_score</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filepath</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/score.html#Score.store_score"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.score.Score.store_score" title="Permalink to this definition">¶</a></dt>
<dd><p>Store the current <a class="reference internal" href="#ms3.score.MSCX" title="ms3.score.MSCX"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MSCX</span></code></a> object attached to this score as uncompressed MuseScore file.
Just a shortcut for <code class="docutils literal notranslate"><span class="pre">Score.mscx.store_scores()</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>filepath</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – Path of the newly created MuseScore file, including the file name ending on ‘.mscx’.
Uncompressed files (‘.mscz’) are not supported.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.score.Score._handle_path">
<span class="sig-name descname"><span class="pre">_handle_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/score.html#Score._handle_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.score.Score._handle_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Puts the path into <code class="docutils literal notranslate"><span class="pre">paths,</span> <span class="pre">files,</span> <span class="pre">fnames,</span> <span class="pre">fexts</span></code> dicts with the given key.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – Full file path.</p></li>
<li><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – The key chosen by the user. By default, the key is automatically assigend to be the file’s extension.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.score.Score.parse_mscx">
<span class="sig-name descname"><span class="pre">parse_mscx</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">musescore_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">read_only</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parser</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels_cfg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/score.html#Score.parse_mscx"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.score.Score.parse_mscx" title="Permalink to this definition">¶</a></dt>
<dd><p>This method is called by <a class="reference internal" href="#ms3.parse.Parse.__init__" title="ms3.parse.Parse.__init__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__init__()</span></code></a> to parse the score. It checks the file extension
and in the case of a compressed MuseScore file (.mscz), a temporary uncompressed file is generated
which is removed after the parsing process.
Essentially, parsing means to initiate a <a class="reference internal" href="#ms3.score.MSCX" title="ms3.score.MSCX"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MSCX</span></code></a> object and to make it available as <code class="docutils literal notranslate"><span class="pre">Score.mscx</span></code>
and, if the score includes annotations, to initiate an <a class="reference internal" href="#ms3.annotations.Annotations" title="ms3.annotations.Annotations"><code class="xref py py-class docutils literal notranslate"><span class="pre">Annotations</span></code></a> object that
can be accessed as <code class="docutils literal notranslate"><span class="pre">Score.annotations</span></code>.
The method doesn’t systematically clean up data from a hypothetical previous parse.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>musescore_file</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – Path to the MuseScore file to be parsed.</p></li>
<li><p><strong>read_only</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Defaults to <code class="docutils literal notranslate"><span class="pre">False</span></code>, meaning that the parsing is slower and uses more memory in order to allow for manipulations
of the score, such as adding and deleting labels. Set to <code class="docutils literal notranslate"><span class="pre">True</span></code> if you’re only extracting information.</p></li>
<li><p><strong>parser</strong> (<em>'bs4'</em><em>, </em><em>optional</em>) – The only XML parser currently implemented is BeautifulSoup 4.</p></li>
<li><p><strong>labels_cfg</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#dict" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>, optional) – Store a configuration dictionary to determine the output format of the <a class="reference internal" href="#ms3.annotations.Annotations" title="ms3.annotations.Annotations"><code class="xref py py-class docutils literal notranslate"><span class="pre">Annotations</span></code></a>
object representing the currently attached annotations. See <a class="reference internal" href="#ms3.score.MSCX.labels_cfg" title="ms3.score.MSCX.labels_cfg"><code class="xref py py-attr docutils literal notranslate"><span class="pre">MSCX.labels_cfg</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<section id="the-mscx-class">
<h3>The MSCX class<a class="headerlink" href="#the-mscx-class" title="Permalink to this heading">¶</a></h3>
<p>This class defines the user interface for accessing score information via <a class="reference internal" href="#ms3.score.Score.mscx" title="ms3.score.Score.mscx"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Score.mscx</span></code></a>.
It consists mainly of shortcuts for interacting with the parser in use, currently
<a class="reference internal" href="#bs4-parser"><span class="std std-ref">Beautifulsoup exclusively</span></a>.</p>
<dl class="py class">
<dt class="sig sig-object py" id="ms3.score.MSCX">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ms3.score.</span></span><span class="sig-name descname"><span class="pre">MSCX</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mscx_src</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">read_only</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parser</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'bs4'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels_cfg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parent_score</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">logger_cfg</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/score.html#MSCX"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.score.MSCX" title="Permalink to this definition">¶</a></dt>
<dd><p>Object for interacting with the XML structure of a MuseScore 3 file. Is usually attached to a
<a class="reference internal" href="#ms3.score.Score" title="ms3.score.Score"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Score</span></code></a> object and exposed as <code class="docutils literal notranslate"><span class="pre">Score.mscx</span></code>.
An object is only created if a score was successfully parsed.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="ms3.score.MSCX.changed">
<span class="sig-name descname"><span class="pre">changed</span></span><a class="headerlink" href="#ms3.score.MSCX.changed" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>
Switches to True as soon as the original XML structure is changed. Does not automatically switch back to False.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ms3.score.MSCX.read_only">
<span class="sig-name descname"><span class="pre">read_only</span></span><a class="headerlink" href="#ms3.score.MSCX.read_only" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional
Shortcut for <code class="docutils literal notranslate"><span class="pre">MSCX.parsed.read_only</span></code>.
Defaults to <code class="docutils literal notranslate"><span class="pre">False</span></code>, meaning that the parsing is slower and uses more memory in order to allow for manipulations
of the score, such as adding and deleting labels. Set to <code class="docutils literal notranslate"><span class="pre">True</span></code> if you’re only extracting information.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ms3.score.MSCX.parent_score">
<span class="sig-name descname"><span class="pre">parent_score</span></span><a class="headerlink" href="#ms3.score.MSCX.parent_score" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="#ms3.score.Score" title="ms3.score.Score"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Score</span></code></a>
The Score object to which this MSCX object is attached.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ms3.score.MSCX.parser">
<span class="sig-name descname"><span class="pre">parser</span></span><a class="headerlink" href="#ms3.score.MSCX.parser" title="Permalink to this definition">¶</a></dt>
<dd><p>{‘bs4’}
The currently used parser.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ms3.score.MSCX.labels_cfg">
<span class="sig-name descname"><span class="pre">labels_cfg</span></span><a class="headerlink" href="#ms3.score.MSCX.labels_cfg" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#dict" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>
Configuration dictionary to determine the output format of the <a class="reference internal" href="#ms3.annotations.Annotations" title="ms3.annotations.Annotations"><code class="xref py py-class docutils literal notranslate"><span class="pre">Annotations</span></code></a>
object representing the labels that are attached to a score (stored as <code class="xref py py-attr docutils literal notranslate"><span class="pre">_annotations`</span></code>).
The options correspond to the parameters of
<a class="reference internal" href="#ms3.annotations.Annotations.get_labels" title="ms3.annotations.Annotations.get_labels"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Annotations.get_labels()</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ms3.score.MSCX.mscx_src">
<span class="sig-name descname"><span class="pre">mscx_src</span></span><a class="headerlink" href="#ms3.score.MSCX.mscx_src" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>
Full path of the parsed MuseScore file.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.score.MSCX.cadences">
<span class="sig-name descname"><span class="pre">cadences</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">interval_index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unfold</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><span class="pre">DataFrame</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/ms3/score.html#MSCX.cadences"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.score.MSCX.cadences" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>
DataFrame representing all cadence annotations in the score.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.score.MSCX.chords">
<span class="sig-name descname"><span class="pre">chords</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Literal" title="(in Python v3.10)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'auto'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'strict'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'all'</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'auto'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interval_index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unfold</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><span class="pre">DataFrame</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/ms3/score.html#MSCX.chords"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.score.MSCX.chords" title="Permalink to this definition">¶</a></dt>
<dd><p>DataFrame of <a class="reference internal" href="manual.html#chords"><span class="std std-ref">Chords</span></a> representing all &lt;Chord&gt; tags contained in the MuseScore file
(all &lt;note&gt; tags come within one) and attached score information and performance maerks, e.g.
lyrics, dynamics, articulations, slurs (see the explanation for the <code class="docutils literal notranslate"><span class="pre">mode</span></code> parameter for more details).
Comes with the columns <a class="reference internal" href="manual.html#quarterbeats"><span class="std std-ref">quarterbeats</span></a>, <a class="reference internal" href="manual.html#duration-qb"><span class="std std-ref">duration_qb</span></a>, <a class="reference internal" href="manual.html#mc"><span class="std std-ref">mc</span></a>, <a class="reference internal" href="manual.html#mn"><span class="std std-ref">mn</span></a>, <a class="reference internal" href="manual.html#mc-onset"><span class="std std-ref">mc_onset</span></a>, <a class="reference internal" href="manual.html#mn-onset"><span class="std std-ref">mn_onset</span></a>, <a class="reference internal" href="manual.html#timesig"><span class="std std-ref">timesig</span></a>, <a class="reference internal" href="manual.html#staff"><span class="std std-ref">staff</span></a>,
<a class="reference internal" href="manual.html#voice"><span class="std std-ref">voice</span></a>, <a class="reference internal" href="manual.html#duration"><span class="std std-ref">duration</span></a>, <a class="reference internal" href="manual.html#gracenote"><span class="std std-ref">gracenote</span></a>, <a class="reference internal" href="manual.html#tremolo"><span class="std std-ref">tremolo</span></a>, <a class="reference internal" href="manual.html#nominal-duration"><span class="std std-ref">nominal_duration</span></a>, <a class="reference internal" href="manual.html#scalar"><span class="std std-ref">scalar</span></a>, <a class="reference internal" href="manual.html#volta"><span class="std std-ref">volta</span></a>, <a class="reference internal" href="manual.html#chord-id"><span class="std std-ref">chord_id</span></a>, <a class="reference internal" href="manual.html#dynamics"><span class="std std-ref">dynamics</span></a>,
<a class="reference internal" href="manual.html#articulation"><span class="std std-ref">articulation</span></a>, <a class="reference internal" href="manual.html#staff-text"><span class="std std-ref">staff_text</span></a>, <a class="reference internal" href="manual.html#slur"><span class="std std-ref">slur</span></a>, <a class="reference internal" href="manual.html#ottava"><span class="std std-ref">Ottava:8va</span></a>, <a class="reference internal" href="manual.html#ottava"><span class="std std-ref">Ottava:8vb</span></a>, <a class="reference internal" href="manual.html#pedal"><span class="std std-ref">pedal</span></a>, <a class="reference internal" href="manual.html#textline"><span class="std std-ref">TextLine</span></a>, <a class="reference internal" href="manual.html#hairpins"><span class="std std-ref">decrescendo_hairpin</span></a>,
<a class="reference internal" href="manual.html#cresc-lines"><span class="std std-ref">diminuendo_line</span></a>, <a class="reference internal" href="manual.html#cresc-lines"><span class="std std-ref">crescendo_line</span></a>, <a class="reference internal" href="manual.html#hairpins"><span class="std std-ref">crescendo_hairpin</span></a>, <a class="reference internal" href="manual.html#tempo"><span class="std std-ref">tempo</span></a>, <a class="reference internal" href="manual.html#qpm"><span class="std std-ref">qpm</span></a>, <a class="reference internal" href="manual.html#lyrics-1"><span class="std std-ref">lyrics:1</span></a>, <a class="reference internal" href="manual.html#ottava"><span class="std std-ref">Ottava:15mb</span></a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mode</strong> – Defaults to ‘auto’, meaning that additional performance markers available in the score are to be included,
namely lyrics, dynamics, fermatas, articulations, slurs, staff_text, system_text, tempo, and spanners
(e.g. slurs, 8va lines, pedal lines). This results in NaN values in the column ‘chord_id’ for those
markers that are not part of a &lt;Chord&gt; tag, e.g. &lt;Dynamic&gt;, &lt;StaffText&gt;, or &lt;Tempo&gt;. To prevent that, pass
‘strict’, meaning that only &lt;Chords&gt; are included, i.e. the column ‘chord_id’ will have no empty values.
Set to ‘all’ for ‘auto’ behaviour, but additionally creating empty columns even for those performance
markers not occurring in the score.</p></li>
<li><p><strong>interval_index</strong> – Pass True to replace the default <a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.RangeIndex.html#pandas.RangeIndex" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">RangeIndex</span></code></a> by an <a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">IntervalIndex</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>DataFrame of <a class="reference internal" href="manual.html#chords"><span class="std std-ref">Chords</span></a> representing all &lt;Chord&gt; tags contained in the MuseScore file.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.score.MSCX.events">
<span class="sig-name descname"><span class="pre">events</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">interval_index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unfold</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><span class="pre">DataFrame</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/ms3/score.html#MSCX.events"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.score.MSCX.events" title="Permalink to this definition">¶</a></dt>
<dd><p>DataFrame representing a raw skeleton of the score’s XML structure and contains all <a class="reference internal" href="manual.html#events"><span class="std std-ref">Events</span></a>
contained in it. It is the original tabular representation of the MuseScore file’s source code from which
all other tables, except <code class="docutils literal notranslate"><span class="pre">measures</span></code> are generated.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>interval_index</strong> – Pass True to replace the default <a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.RangeIndex.html#pandas.RangeIndex" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">RangeIndex</span></code></a> by an <a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">IntervalIndex</span></code></a>.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>DataFrame containing the original tabular representation of all <a class="reference internal" href="manual.html#events"><span class="std std-ref">Events</span></a> encoded in the MuseScore file.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.score.MSCX.expanded">
<span class="sig-name descname"><span class="pre">expanded</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">interval_index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unfold</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><span class="pre">DataFrame</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/ms3/score.html#MSCX.expanded"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.score.MSCX.expanded" title="Permalink to this definition">¶</a></dt>
<dd><p>DataFrame representing <a class="reference internal" href="manual.html#expanded"><span class="std std-ref">Expanded</span></a> labels, i.e., all annotations encoded in &lt;Harmony&gt; tags which could
be matched against one of the registered regular expressions and split into feature columns. Currently this
method is hard-coded to return expanded DCML harmony labels only but it takes into account the current
<code class="xref py py-attr docutils literal notranslate"><span class="pre">_labels_cfg</span></code>. Comes with the columns <a class="reference internal" href="manual.html#quarterbeats"><span class="std std-ref">quarterbeats</span></a>, <a class="reference internal" href="manual.html#duration-qb"><span class="std std-ref">duration_qb</span></a>, <a class="reference internal" href="manual.html#mc"><span class="std std-ref">mc</span></a>, <a class="reference internal" href="manual.html#mn"><span class="std std-ref">mn</span></a>, <a class="reference internal" href="manual.html#mc-onset"><span class="std std-ref">mc_onset</span></a>, <a class="reference internal" href="manual.html#mn-onset"><span class="std std-ref">mn_onset</span></a>,
<a class="reference internal" href="manual.html#timesig"><span class="std std-ref">timesig</span></a>, <a class="reference internal" href="manual.html#staff"><span class="std std-ref">staff</span></a>, <a class="reference internal" href="manual.html#voice"><span class="std std-ref">voice</span></a>, <a class="reference internal" href="manual.html#volta"><span class="std std-ref">volta</span></a>, <a class="reference internal" href="manual.html#label"><span class="std std-ref">label</span></a>, <a class="reference internal" href="manual.html#alt-label"><span class="std std-ref">alt_label</span></a>, <a class="reference internal" href="manual.html#offset"><span class="std std-ref">offset_x</span></a>, <a class="reference internal" href="manual.html#offset"><span class="std std-ref">offset_y</span></a>, <a class="reference internal" href="manual.html#regex-match"><span class="std std-ref">regex_match</span></a>, <a class="reference internal" href="manual.html#globalkey"><span class="std std-ref">globalkey</span></a>,
<a class="reference internal" href="manual.html#localkey"><span class="std std-ref">localkey</span></a>, <a class="reference internal" href="manual.html#pedal"><span class="std std-ref">pedal</span></a>, <a class="reference internal" href="manual.html#chord"><span class="std std-ref">chord</span></a>, <a class="reference internal" href="manual.html#numeral"><span class="std std-ref">numeral</span></a>, <a class="reference internal" href="manual.html#form"><span class="std std-ref">form</span></a>, <a class="reference internal" href="manual.html#figbass"><span class="std std-ref">figbass</span></a>, <a class="reference internal" href="changelog.html#changes"><span class="std std-ref">changes</span></a>, <a class="reference internal" href="manual.html#relativeroot"><span class="std std-ref">relativeroot</span></a>, <a class="reference internal" href="manual.html#cadence"><span class="std std-ref">cadence</span></a>, <a class="reference internal" href="manual.html#phraseend"><span class="std std-ref">phraseend</span></a>,
<a class="reference internal" href="manual.html#chord-type"><span class="std std-ref">chord_type</span></a>, <a class="reference internal" href="manual.html#globalkey-is-minor"><span class="std std-ref">globalkey_is_minor</span></a>, <a class="reference internal" href="manual.html#localkey-is-minor"><span class="std std-ref">localkey_is_minor</span></a>, <a class="reference internal" href="manual.html#chord-tones"><span class="std std-ref">chord_tones</span></a>, <a class="reference internal" href="manual.html#chord-tones"><span class="std std-ref">added_tones</span></a>, <a class="reference internal" href="manual.html#root"><span class="std std-ref">root</span></a>, <a class="reference internal" href="manual.html#bass-note"><span class="std std-ref">bass_note</span></a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>interval_index</strong> – Pass True to replace the default <a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.RangeIndex.html#pandas.RangeIndex" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">RangeIndex</span></code></a> by an <a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">IntervalIndex</span></code></a>.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>DataFrame representing all <a class="reference internal" href="manual.html#labels"><span class="std std-ref">Labels</span></a>, i.e., all &lt;Harmony&gt; tags in the score.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ms3.score.MSCX.has_annotations">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">has_annotations</span></span><a class="headerlink" href="#ms3.score.MSCX.has_annotations" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>
Shortcut for <code class="docutils literal notranslate"><span class="pre">MSCX.parsed.has_annotations</span></code>.
Is True as long as at least one label is attached to the current XML.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ms3.score.MSCX.n_form_labels">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">n_form_labels</span></span><a class="headerlink" href="#ms3.score.MSCX.n_form_labels" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>
Shortcut for <code class="docutils literal notranslate"><span class="pre">MSCX.parsed.n_form_labels</span></code>.
Is True if at least one StaffText seems to constitute a form label.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.score.MSCX.form_labels">
<span class="sig-name descname"><span class="pre">form_labels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">detection_regex</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude_harmony_layer</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interval_index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expand</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unfold</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><span class="pre">DataFrame</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/ms3/score.html#MSCX.form_labels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.score.MSCX.form_labels" title="Permalink to this definition">¶</a></dt>
<dd><p>DataFrame representing <a class="reference internal" href="manual.html#form-labels"><span class="std std-ref">form labels</span></a> (or other) that have been encoded as &lt;StaffText&gt;s rather than in the &lt;Harmony&gt; layer.
This function essentially filters all StaffTexts matching the <code class="docutils literal notranslate"><span class="pre">detection_regex</span></code> and adds the standard position columns.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>detection_regex</strong> – By default, detects all labels starting with one or two digits followed by a column
(see <code class="xref py py-const docutils literal notranslate"><span class="pre">the</span> <span class="pre">regex</span></code>). Pass another regex to retrieve only StaffTexts matching this one.</p></li>
<li><p><strong>exclude_harmony_layer</strong> – By default, form labels are detected even if they have been encoded as Harmony labels (rather than as StaffText).
Pass True in order to retrieve only StaffText form labels.</p></li>
<li><p><strong>interval_index</strong> – Pass True to replace the default <a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.RangeIndex.html#pandas.RangeIndex" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">RangeIndex</span></code></a> by an <a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">IntervalIndex</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>DataFrame containing all StaffTexts matching the <code class="docutils literal notranslate"><span class="pre">detection_regex</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.score.MSCX.labels">
<span class="sig-name descname"><span class="pre">labels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">interval_index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unfold</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><span class="pre">DataFrame</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/ms3/score.html#MSCX.labels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.score.MSCX.labels" title="Permalink to this definition">¶</a></dt>
<dd><p>DataFrame representing all <a class="reference internal" href="manual.html#labels"><span class="std std-ref">Labels</span></a>, i.e., all &lt;Harmony&gt; tags in the score, as returned by calling
<a class="reference internal" href="#ms3.annotations.Annotations.get_labels" title="ms3.annotations.Annotations.get_labels"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_labels()</span></code></a> on the object at <code class="xref py py-attr docutils literal notranslate"><span class="pre">_annotations</span></code> with the current <code class="xref py py-attr docutils literal notranslate"><span class="pre">_labels_cfg</span></code>.
Comes with the columns <a class="reference internal" href="manual.html#quarterbeats"><span class="std std-ref">quarterbeats</span></a>, <a class="reference internal" href="manual.html#duration-qb"><span class="std std-ref">duration_qb</span></a>, <a class="reference internal" href="manual.html#mc"><span class="std std-ref">mc</span></a>, <a class="reference internal" href="manual.html#mn"><span class="std std-ref">mn</span></a>, <a class="reference internal" href="manual.html#mc-onset"><span class="std std-ref">mc_onset</span></a>, <a class="reference internal" href="manual.html#mn-onset"><span class="std std-ref">mn_onset</span></a>, <a class="reference internal" href="manual.html#timesig"><span class="std std-ref">timesig</span></a>, <a class="reference internal" href="manual.html#staff"><span class="std std-ref">staff</span></a>, <a class="reference internal" href="manual.html#voice"><span class="std std-ref">voice</span></a>, <a class="reference internal" href="manual.html#volta"><span class="std std-ref">volta</span></a>, <a class="reference internal" href="manual.html#harmony-layer"><span class="std std-ref">harmony_layer</span></a>, <a class="reference internal" href="manual.html#label"><span class="std std-ref">label</span></a>,
<a class="reference internal" href="manual.html#offset"><span class="std std-ref">offset_x</span></a>, <a class="reference internal" href="manual.html#offset"><span class="std std-ref">offset_y</span></a>, <a class="reference internal" href="manual.html#regex-match"><span class="std std-ref">regex_match</span></a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>interval_index</strong> – Pass True to replace the default <a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.RangeIndex.html#pandas.RangeIndex" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">RangeIndex</span></code></a> by an <a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">IntervalIndex</span></code></a>.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>DataFrame representing all <a class="reference internal" href="manual.html#labels"><span class="std std-ref">Labels</span></a>, i.e., all &lt;Harmony&gt; tags in the score.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.score.MSCX.measures">
<span class="sig-name descname"><span class="pre">measures</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">interval_index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unfold</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><span class="pre">DataFrame</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/ms3/score.html#MSCX.measures"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.score.MSCX.measures" title="Permalink to this definition">¶</a></dt>
<dd><p>DataFrame representing the <a class="reference internal" href="manual.html#measures"><span class="std std-ref">Measures</span></a> of the MuseScore file (which can be incomplete measures). Comes with
the columns <a class="reference internal" href="manual.html#mc"><span class="std std-ref">mc</span></a>, <a class="reference internal" href="manual.html#mn"><span class="std std-ref">mn</span></a>, <a class="reference internal" href="manual.html#quarterbeats"><span class="std std-ref">quarterbeats</span></a>, <a class="reference internal" href="manual.html#duration-qb"><span class="std std-ref">duration_qb</span></a>, <a class="reference internal" href="manual.html#keysig"><span class="std std-ref">keysig</span></a>, <a class="reference internal" href="manual.html#timesig"><span class="std std-ref">timesig</span></a>, <a class="reference internal" href="manual.html#act-dur"><span class="std std-ref">act_dur</span></a>, <a class="reference internal" href="manual.html#mc-offset"><span class="std std-ref">mc_offset</span></a>, <a class="reference internal" href="manual.html#volta"><span class="std std-ref">volta</span></a>, <a class="reference internal" href="manual.html#numbering-offset"><span class="std std-ref">numbering_offset</span></a>, <a class="reference internal" href="manual.html#dont-count"><span class="std std-ref">dont_count</span></a>, <a class="reference internal" href="manual.html#barline"><span class="std std-ref">barline</span></a>, <a class="reference internal" href="manual.html#breaks"><span class="std std-ref">breaks</span></a>,
<a class="reference internal" href="manual.html#repeats"><span class="std std-ref">repeats</span></a>, <a class="reference internal" href="manual.html#next"><span class="std std-ref">next</span></a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>interval_index</strong> – Pass True to replace the default <a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.RangeIndex.html#pandas.RangeIndex" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">RangeIndex</span></code></a> by an <a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">IntervalIndex</span></code></a>.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>DataFrame representing the <a class="reference internal" href="manual.html#measures"><span class="std std-ref">measures</span></a> of the MuseScore file (which can be incomplete measures).</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.score.MSCX.offset_dict">
<span class="sig-name descname"><span class="pre">offset_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">all_endings</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unfold</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">negative_anacrusis</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#dict" title="(in Python v3.10)"><span class="pre">dict</span></a></span></span><a class="reference internal" href="_modules/ms3/score.html#MSCX.offset_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.score.MSCX.offset_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>{mc -&gt; offset} dictionary measuring each MC’s distance from the piece’s beginning (0) in quarter notes.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ms3.score.MSCX.metadata">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">metadata</span></span><a class="headerlink" href="#ms3.score.MSCX.metadata" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#dict" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>
Shortcut for <code class="docutils literal notranslate"><span class="pre">MSCX.parsed.metadata</span></code>.
Metadata from and about the MuseScore file.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.score.MSCX.notes">
<span class="sig-name descname"><span class="pre">notes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">interval_index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unfold</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><span class="pre">DataFrame</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/ms3/score.html#MSCX.notes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.score.MSCX.notes" title="Permalink to this definition">¶</a></dt>
<dd><p>DataFrame representing the <a class="reference internal" href="manual.html#notes"><span class="std std-ref">Notes</span></a> of the MuseScore file. Comes with the columns
<a class="reference internal" href="manual.html#quarterbeats"><span class="std std-ref">quarterbeats</span></a>, <a class="reference internal" href="manual.html#duration-qb"><span class="std std-ref">duration_qb</span></a>, <a class="reference internal" href="manual.html#mc"><span class="std std-ref">mc</span></a>, <a class="reference internal" href="manual.html#mn"><span class="std std-ref">mn</span></a>, <a class="reference internal" href="manual.html#mc-onset"><span class="std std-ref">mc_onset</span></a>, <a class="reference internal" href="manual.html#mn-onset"><span class="std std-ref">mn_onset</span></a>, <a class="reference internal" href="manual.html#timesig"><span class="std std-ref">timesig</span></a>, <a class="reference internal" href="manual.html#staff"><span class="std std-ref">staff</span></a>, <a class="reference internal" href="manual.html#voice"><span class="std std-ref">voice</span></a>, <a class="reference internal" href="manual.html#duration"><span class="std std-ref">duration</span></a>, <a class="reference internal" href="manual.html#gracenote"><span class="std std-ref">gracenote</span></a>, <a class="reference internal" href="manual.html#tremolo"><span class="std std-ref">tremolo</span></a>, <a class="reference internal" href="manual.html#nominal-duration"><span class="std std-ref">nominal_duration</span></a>, <a class="reference internal" href="manual.html#scalar"><span class="std std-ref">scalar</span></a>, <a class="reference internal" href="manual.html#tied"><span class="std std-ref">tied</span></a>,
<a class="reference internal" href="manual.html#tpc"><span class="std std-ref">tpc</span></a>, <a class="reference internal" href="manual.html#midi"><span class="std std-ref">midi</span></a>, <a class="reference internal" href="manual.html#volta"><span class="std std-ref">volta</span></a>, <a class="reference internal" href="manual.html#chord-id"><span class="std std-ref">chord_id</span></a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>interval_index</strong> – Pass True to replace the default <a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.RangeIndex.html#pandas.RangeIndex" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">RangeIndex</span></code></a> by an <a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">IntervalIndex</span></code></a>.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>DataFrame representing the <a class="reference internal" href="manual.html#notes"><span class="std std-ref">Notes</span></a> of the MuseScore file.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.score.MSCX.notes_and_rests">
<span class="sig-name descname"><span class="pre">notes_and_rests</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">interval_index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unfold</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><span class="pre">DataFrame</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/ms3/score.html#MSCX.notes_and_rests"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.score.MSCX.notes_and_rests" title="Permalink to this definition">¶</a></dt>
<dd><p>DataFrame representing the <a class="reference internal" href="manual.html#notes-and-rests"><span class="std std-ref">Notes and Rests</span></a> of the MuseScore file. Comes with the columns
<a class="reference internal" href="manual.html#quarterbeats"><span class="std std-ref">quarterbeats</span></a>, <a class="reference internal" href="manual.html#duration-qb"><span class="std std-ref">duration_qb</span></a>, <a class="reference internal" href="manual.html#mc"><span class="std std-ref">mc</span></a>, <a class="reference internal" href="manual.html#mn"><span class="std std-ref">mn</span></a>, <a class="reference internal" href="manual.html#mc-onset"><span class="std std-ref">mc_onset</span></a>, <a class="reference internal" href="manual.html#mn-onset"><span class="std std-ref">mn_onset</span></a>, <a class="reference internal" href="manual.html#timesig"><span class="std std-ref">timesig</span></a>, <a class="reference internal" href="manual.html#staff"><span class="std std-ref">staff</span></a>, <a class="reference internal" href="manual.html#voice"><span class="std std-ref">voice</span></a>, <a class="reference internal" href="manual.html#duration"><span class="std std-ref">duration</span></a>,
<a class="reference internal" href="manual.html#gracenote"><span class="std std-ref">gracenote</span></a>, <a class="reference internal" href="manual.html#tremolo"><span class="std std-ref">tremolo</span></a>, <a class="reference internal" href="manual.html#nominal-duration"><span class="std std-ref">nominal_duration</span></a>, <a class="reference internal" href="manual.html#scalar"><span class="std std-ref">scalar</span></a>, <a class="reference internal" href="manual.html#tied"><span class="std std-ref">tied</span></a>, <a class="reference internal" href="manual.html#tpc"><span class="std std-ref">tpc</span></a>, <a class="reference internal" href="manual.html#midi"><span class="std std-ref">midi</span></a>, <a class="reference internal" href="manual.html#volta"><span class="std std-ref">volta</span></a>, <a class="reference internal" href="manual.html#chord-id"><span class="std std-ref">chord_id</span></a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>interval_index</strong> – Pass True to replace the default <a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.RangeIndex.html#pandas.RangeIndex" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">RangeIndex</span></code></a> by an <a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">IntervalIndex</span></code></a>.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>DataFrame representing the <a class="reference internal" href="manual.html#notes-and-rests"><span class="std std-ref">Notes and Rests</span></a> of the MuseScore file.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ms3.score.MSCX.parsed">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">parsed</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#ms3.bs4_parser._MSCX_bs4" title="ms3.bs4_parser._MSCX_bs4"><span class="pre">_MSCX_bs4</span></a></em><a class="headerlink" href="#ms3.score.MSCX.parsed" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="#ms3.bs4_parser._MSCX_bs4" title="ms3.bs4_parser._MSCX_bs4"><code class="xref py py-obj docutils literal notranslate"><span class="pre">_MSCX_bs4</span></code></a>
Standard way of accessing the object exposed by the current parser. <a class="reference internal" href="#ms3.score.MSCX" title="ms3.score.MSCX"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MSCX</span></code></a> uses this object’s
interface for requesting manipulations of and information from the source XML.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.score.MSCX.rests">
<span class="sig-name descname"><span class="pre">rests</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">interval_index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unfold</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><span class="pre">DataFrame</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/ms3/score.html#MSCX.rests"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.score.MSCX.rests" title="Permalink to this definition">¶</a></dt>
<dd><p>DataFrame representing the <a class="reference internal" href="manual.html#rests"><span class="std std-ref">Rests</span></a> of the MuseScore file. Comes with the columns
<a class="reference internal" href="manual.html#quarterbeats"><span class="std std-ref">quarterbeats</span></a>, <a class="reference internal" href="manual.html#duration-qb"><span class="std std-ref">duration_qb</span></a>, <a class="reference internal" href="manual.html#mc"><span class="std std-ref">mc</span></a>, <a class="reference internal" href="manual.html#mn"><span class="std std-ref">mn</span></a>, <a class="reference internal" href="manual.html#mc-onset"><span class="std std-ref">mc_onset</span></a>, <a class="reference internal" href="manual.html#mn-onset"><span class="std std-ref">mn_onset</span></a>, <a class="reference internal" href="manual.html#timesig"><span class="std std-ref">timesig</span></a>, <a class="reference internal" href="manual.html#staff"><span class="std std-ref">staff</span></a>, <a class="reference internal" href="manual.html#voice"><span class="std std-ref">voice</span></a>, <a class="reference internal" href="manual.html#duration"><span class="std std-ref">duration</span></a>,
<a class="reference internal" href="manual.html#nominal-duration"><span class="std std-ref">nominal_duration</span></a>, <a class="reference internal" href="manual.html#scalar"><span class="std std-ref">scalar</span></a>, <a class="reference internal" href="manual.html#volta"><span class="std std-ref">volta</span></a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>interval_index</strong> – Pass True to replace the default <a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.RangeIndex.html#pandas.RangeIndex" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">RangeIndex</span></code></a> by an <a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">IntervalIndex</span></code></a>.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>DataFrame representing the <a class="reference internal" href="manual.html#rests"><span class="std std-ref">Rests</span></a> of the MuseScore file.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ms3.score.MSCX.staff_ids">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">staff_ids</span></span><a class="headerlink" href="#ms3.score.MSCX.staff_ids" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#list" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a> of <a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>
The staff IDs contained in the score, usually just a list of increasing numbers starting at 1.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ms3.score.MSCX.style">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">style</span></span><a class="headerlink" href="#ms3.score.MSCX.style" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">Style</span></code>
Can be used like a dictionary to change the information within the score’s &lt;Style&gt; tag.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ms3.score.MSCX.version">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">version</span></span><a class="headerlink" href="#ms3.score.MSCX.version" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>
MuseScore version that the file was created with.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ms3.score.MSCX.volta_structure">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">volta_structure</span></span><a class="headerlink" href="#ms3.score.MSCX.volta_structure" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#dict" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>
{first_mc -&gt; {volta_number -&gt; [mc1, mc2…]} } dictionary.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.score.MSCX.add_labels">
<span class="sig-name descname"><span class="pre">add_labels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">annotations_object</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/score.html#MSCX.add_labels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.score.MSCX.add_labels" title="Permalink to this definition">¶</a></dt>
<dd><p>Receives the labels from an <a class="reference internal" href="#ms3.annotations.Annotations" title="ms3.annotations.Annotations"><code class="xref py py-class docutils literal notranslate"><span class="pre">Annotations</span></code></a> object and adds them to the XML structure
representing the MuseScore file that might be written to a file afterwards.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>annotations_object</strong> (<a class="reference internal" href="#ms3.annotations.Annotations" title="ms3.annotations.Annotations"><code class="xref py py-class docutils literal notranslate"><span class="pre">Annotations</span></code></a>) – Object of labels to be added.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Number of actually added labels.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.score.MSCX.change_label_color">
<span class="sig-name descname"><span class="pre">change_label_color</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mc_onset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">staff</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">voice</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color_html</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color_r</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color_g</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color_b</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color_a</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/score.html#MSCX.change_label_color"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.score.MSCX.change_label_color" title="Permalink to this definition">¶</a></dt>
<dd><p>Shortcut for :py:meth:<code class="docutils literal notranslate"><span class="pre">MSCX.parsed.change_label_color</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mc</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>) – Measure count of the label</p></li>
<li><p><strong>mc_onset</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/fractions.html#fractions.Fraction" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">fractions.Fraction</span></code></a>) – Onset position to which the label is attached.</p></li>
<li><p><strong>staff</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>) – Staff to which the label is attached.</p></li>
<li><p><strong>voice</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>) – Notational layer to which the label is attached.</p></li>
<li><p><strong>label</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – (Decoded) label.</p></li>
<li><p><strong>color_name</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – Two ways of specifying the color.</p></li>
<li><p><strong>color_html</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – Two ways of specifying the color.</p></li>
<li><p><strong>color_r</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a> or <a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – To specify a RGB color instead, pass at least, the first three. <code class="docutils literal notranslate"><span class="pre">color_a</span></code> (alpha = opacity) defaults
to 255.</p></li>
<li><p><strong>color_g</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a> or <a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – To specify a RGB color instead, pass at least, the first three. <code class="docutils literal notranslate"><span class="pre">color_a</span></code> (alpha = opacity) defaults
to 255.</p></li>
<li><p><strong>color_b</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a> or <a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – To specify a RGB color instead, pass at least, the first three. <code class="docutils literal notranslate"><span class="pre">color_a</span></code> (alpha = opacity) defaults
to 255.</p></li>
<li><p><strong>color_a</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a> or <a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – To specify a RGB color instead, pass at least, the first three. <code class="docutils literal notranslate"><span class="pre">color_a</span></code> (alpha = opacity) defaults
to 255.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.score.MSCX.change_labels_cfg">
<span class="sig-name descname"><span class="pre">change_labels_cfg</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">labels_cfg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">staff</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">voice</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">harmony_layer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">positioning</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color_format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/score.html#MSCX.change_labels_cfg"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.score.MSCX.change_labels_cfg" title="Permalink to this definition">¶</a></dt>
<dd><p>Update <a class="reference internal" href="#ms3.score.MSCX.labels_cfg" title="ms3.score.MSCX.labels_cfg"><code class="xref py py-attr docutils literal notranslate"><span class="pre">MSCX.labels_cfg</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>labels_cfg</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#dict" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>) – Using an entire dictionary or, to change only particular options, choose from:</p></li>
<li><p><strong>staff</strong> – Arguments as they will be passed to <a class="reference internal" href="#ms3.annotations.Annotations.get_labels" title="ms3.annotations.Annotations.get_labels"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_labels()</span></code></a></p></li>
<li><p><strong>voice</strong> – Arguments as they will be passed to <a class="reference internal" href="#ms3.annotations.Annotations.get_labels" title="ms3.annotations.Annotations.get_labels"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_labels()</span></code></a></p></li>
<li><p><strong>harmony_layer</strong> – Arguments as they will be passed to <a class="reference internal" href="#ms3.annotations.Annotations.get_labels" title="ms3.annotations.Annotations.get_labels"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_labels()</span></code></a></p></li>
<li><p><strong>positioning</strong> – Arguments as they will be passed to <a class="reference internal" href="#ms3.annotations.Annotations.get_labels" title="ms3.annotations.Annotations.get_labels"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_labels()</span></code></a></p></li>
<li><p><strong>decode</strong> – Arguments as they will be passed to <a class="reference internal" href="#ms3.annotations.Annotations.get_labels" title="ms3.annotations.Annotations.get_labels"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_labels()</span></code></a></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.score.MSCX.color_non_chord_tones">
<span class="sig-name descname"><span class="pre">color_non_chord_tones</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><span class="pre">DataFrame</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">color_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'red'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chord_tone_cols</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Collection" title="(in Python v3.10)"><span class="pre">Collection</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">['chord_tones',</span> <span class="pre">'added_tones']</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color_nan</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><span class="pre">DataFrame</span></a></span></span><a class="reference internal" href="_modules/ms3/score.html#MSCX.color_non_chord_tones"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.score.MSCX.color_non_chord_tones" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterates backwards through the rows of the given DataFrame, interpreting each row as a score segment,
and colors all notes that do not correspond to one of the tonal pitch classes (TPC) indicated in one of the
tuples contained in the <code class="docutils literal notranslate"><span class="pre">chord_tone_cols</span></code>. The columns ‘mc’ and ‘mc_onset’ are taken to indicate each score
segment’s start, which reaches to the subsequent one (the last segment reaching to the end of the score). Only
notes whose onsets lie within the respective segment are colored, meaning that those whose durations reach
into a segment are not taken into account.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> – A DataFrame with the columns [‘mc’, ‘mc_onset’] + <code class="docutils literal notranslate"><span class="pre">chord_tone_cols</span></code></p></li>
<li><p><strong>color_name</strong> – Name the color that the non-chord tones should get, defaults to ‘red’. Name can be a CSS color or
a MuseScore color (see <code class="xref py py-attr docutils literal notranslate"><span class="pre">utils.MS3_COLORS</span></code>).</p></li>
<li><p><strong>chord_tone_cols</strong> – Names of the columns containing tuples of chord tones, expressed as TPC.</p></li>
<li><p><strong>color_nan</strong> – By default, if all of the <code class="docutils literal notranslate"><span class="pre">chord_tone_cols</span></code> contain a NaN value, all notes in the segment
will be colored. Pass False to add the segment to the previous one instead.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A coloring report which is the original <code class="docutils literal notranslate"><span class="pre">df</span></code> with the appended columns ‘n_colored’, ‘n_untouched’,
‘count_ratio’, ‘dur_colored’, ‘dur_untouched’, ‘dur_ratio’. They contain the counts and durations of the
colored vs. untouched notes as well the ratio of each pair. Note that the report does not take into account
notes that reach into a segment, nor does it correct the duration of notes that reach into the subsequent
segment.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.score.MSCX.delete_labels">
<span class="sig-name descname"><span class="pre">delete_labels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/score.html#MSCX.delete_labels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.score.MSCX.delete_labels" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete a set of labels from the current XML.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>df</strong> (<a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – A DataFrame with the columns [‘mc’, ‘mc_onset’, ‘staff’, ‘voice’]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.score.MSCX.replace_labels">
<span class="sig-name descname"><span class="pre">replace_labels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">annotations_object</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/score.html#MSCX.replace_labels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.score.MSCX.replace_labels" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>annotations_object</strong> (<a class="reference internal" href="#ms3.annotations.Annotations" title="ms3.annotations.Annotations"><code class="xref py py-class docutils literal notranslate"><span class="pre">Annotations</span></code></a>) – Object of labels to be added.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.score.MSCX.delete_empty_labels">
<span class="sig-name descname"><span class="pre">delete_empty_labels</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/score.html#MSCX.delete_empty_labels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.score.MSCX.delete_empty_labels" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove all empty labels from the attached annotations.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.score.MSCX.get_chords">
<span class="sig-name descname"><span class="pre">get_chords</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">staff</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">voice</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'auto'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lyrics</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">staff_text</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dynamics</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">articulation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spanners</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/score.html#MSCX.get_chords"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.score.MSCX.get_chords" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve a customized chord list, e.g. one including less of the processed features or additional,
unprocessed ones compared to the standard chord list.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>staff</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>) – Get information from a particular staff only (1 = upper staff)</p></li>
<li><p><strong>voice</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>) – Get information from a particular voice only (1 = only the first layer of every staff)</p></li>
<li><p><strong>mode</strong> (<em>{'auto'</em><em>, </em><em>'all'</em><em>, </em><em>'strict'}</em><em>, </em><em>optional</em>) – <ul>
<li><p>‘auto’ (default), meaning that those aspects are automatically included that occur in the score; the resulting
DataFrame has no empty columns except for those parameters that are set to True.</p></li>
<li><p>’all’: Columns for all aspects are created, even if they don’t occur in the score (e.g. lyrics).</p></li>
<li><p>’strict’: Create columns for exactly those parameters that are set to True, regardless which aspects occur in the score.</p></li>
</ul>
</p></li>
<li><p><strong>lyrics</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Include lyrics.</p></li>
<li><p><strong>staff_text</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Include staff text such as tempo markings.</p></li>
<li><p><strong>dynamics</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Include dynamic markings such as f or p.</p></li>
<li><p><strong>articulation</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Include articulation such as arpeggios.</p></li>
<li><p><strong>spanners</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Include spanners such as slurs, 8va lines, pedal lines etc.</p></li>
<li><p><strong>**kwargs</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Set a particular keyword to True in order to include all columns from the _events DataFrame
whose names include that keyword. Column names include the tag names from the MSCX source code.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>DataFrame representing all &lt;Chord&gt; tags in the score with the selected features.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.score.MSCX.get_raw_labels">
<span class="sig-name descname"><span class="pre">get_raw_labels</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/score.html#MSCX.get_raw_labels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.score.MSCX.get_raw_labels" title="Permalink to this definition">¶</a></dt>
<dd><p>Shortcut for <code class="docutils literal notranslate"><span class="pre">MSCX.parsed.get_raw_labels()</span></code>.
Retrieve a “raw” list of labels, meaning that label types reflect only those defined within &lt;Harmony&gt; tags
which can be 1 (MuseScore’s Roman Numeral display), 2 (Nashville) or undefined (in the case of ‘normal’
chord labels, defaulting to 0).</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>DataFrame with raw label features (i.e. as encoded in XML)</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.score.MSCX.infer_mc">
<span class="sig-name descname"><span class="pre">infer_mc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mn</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mn_onset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">volta</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/score.html#MSCX.infer_mc"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.score.MSCX.infer_mc" title="Permalink to this definition">¶</a></dt>
<dd><p>Shortcut for <code class="docutils literal notranslate"><span class="pre">MSCX.parsed.infer_mc()</span></code>.
Tries to convert a <code class="docutils literal notranslate"><span class="pre">(mn,</span> <span class="pre">mn_onset)</span></code> into a <code class="docutils literal notranslate"><span class="pre">(mc,</span> <span class="pre">mc_onset)</span></code> tuple on the basis of this MuseScore file.
In other words, a human readable score position such as “measure number 32b (i.e., a second ending), beat
3” needs to be converted to <code class="docutils literal notranslate"><span class="pre">(32,</span> <span class="pre">1/2,</span> <span class="pre">2)</span></code> if “beat” has length 1/4, or–if the meter is, say 9/8 and “beat”
has a length of 3/8– to <code class="docutils literal notranslate"><span class="pre">(32,</span> <span class="pre">6/8,</span> <span class="pre">2)</span></code>. The resulting <code class="docutils literal notranslate"><span class="pre">(mc,</span> <span class="pre">mc_onset)</span></code> tuples are required for attaching
a label to a score. This is only necessary for labels that were not originally extracted by ms3.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mn</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a> or <a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – Measure number as in a reference print edition.</p></li>
<li><p><strong>mn_onset</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/fractions.html#fractions.Fraction" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">fractions.Fraction</span></code></a>, optional) – Distance of the requested position from beat 1 of the complete measure (MN), expressed as
fraction of a whole note. Defaults to 0, i.e. the position of beat 1.</p></li>
<li><p><strong>volta</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>, optional) – In the case of first and second endings, which bear the same measure number, a MN might have to be
disambiguated by passing 1 for first ending, 2 for second, and so on. Alternatively, the MN
can be disambiguated traditionally by passing it as string with a letter attached. In other words,
<code class="docutils literal notranslate"><span class="pre">infer_mc(mn=32,</span> <span class="pre">volta=1)</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">infer_mc(mn='32a')</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a> – Measure count (MC), denoting particular &lt;Measure&gt; tags in the score.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/3.10/library/fractions.html#fractions.Fraction" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">fractions.Fraction</span></code></a></p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.score.MSCX.store_score">
<span class="sig-name descname"><span class="pre">store_score</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filepath</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span></span><a class="reference internal" href="_modules/ms3/score.html#MSCX.store_score"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.score.MSCX.store_score" title="Permalink to this definition">¶</a></dt>
<dd><p>Shortcut for <code class="docutils literal notranslate"><span class="pre">MSCX.parsed.store_scores()</span></code>.
Store the current XML structure as uncompressed MuseScore file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>filepath</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – Path of the newly created MuseScore file, including the file name ending on ‘.mscx’.
Uncompressed files (‘.mscz’) are not supported.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Whether the file was successfully created.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>
<section id="module-ms3.annotations">
<span id="the-annotations-class"></span><h2>The Annotations class<a class="headerlink" href="#module-ms3.annotations" title="Permalink to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="ms3.annotations.Annotations">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ms3.annotations.</span></span><span class="sig-name descname"><span class="pre">Annotations</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tsv_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sep</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'\t'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mscx_obj</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">infer_types</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">read_only</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">logger_cfg</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/annotations.html#Annotations"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.annotations.Annotations" title="Permalink to this definition">¶</a></dt>
<dd><p>Class for storing, converting and manipulating annotation labels.</p>
<dl class="py property">
<dt class="sig sig-object py" id="ms3.annotations.Annotations.harmony_layer_counts">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">harmony_layer_counts</span></span><a class="headerlink" href="#ms3.annotations.Annotations.harmony_layer_counts" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the counts of the harmony_layers as dict.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.annotations.Annotations.get_labels">
<span class="sig-name descname"><span class="pre">get_labels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">staff</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">voice</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">harmony_layer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">positioning</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drop</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inverse</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color_format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">regex</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/annotations.html#Annotations.get_labels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.annotations.Annotations.get_labels" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a DataFrame of annotation labels.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>staff</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>, optional) – Select harmonies from a given staff only. Pass <cite>staff=1</cite> for the upper staff.</p></li>
<li><p><strong>harmony_layer</strong> (<em>{0</em><em>, </em><em>1</em><em>, </em><em>2</em><em>, </em><em>3</em><em>, </em><em>'dcml'</em><em>, </em><em>...</em><em>}</em><em>, </em><em>optional</em>) – <dl class="simple">
<dt>If MuseScore’s harmony feature has been used, you can filter harmony types by passing</dt><dd><p>0 for unrecognized strings
1 for Roman Numeral Analysis
2 for Nashville Numbers
3 for encoded absolute chords
‘dcml’ for labels from the DCML harmonic annotation standard
… self-defined types that have been added to self.regex_dict through the use of self.infer_types()</p>
</dd>
</dl>
</p></li>
<li><p><strong>positioning</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Set to True if you want to include information about how labels have been manually positioned.</p></li>
<li><p><strong>decode</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Set to False if you want to keep labels in harmony_layer 0, 2, and 3 labels in their original form
as encoded by MuseScore (e.g., with root and bass as TPC (tonal pitch class) where C = 14 for layer 0).</p></li>
<li><p><strong>drop</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Set to True to delete the returned labels from this object.</p></li>
<li><p><strong>column_name</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – Can be used to rename the columns holding the labels.</p></li>
<li><p><strong>color_format</strong> (<em>{'html'</em><em>, </em><em>'rgb'</em><em>, </em><em>'rgba'</em><em>, </em><em>'name'</em><em>, </em><em>None}</em>) – If label colors are encoded, determine how they are displayed.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.annotations.Annotations.expand_dcml">
<span class="sig-name descname"><span class="pre">expand_dcml</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">drop_others</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">warn_about_others</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drop_empty_cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chord_tones</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">relative_to_global</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">absolute</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">all_in_c</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/annotations.html#Annotations.expand_dcml"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.annotations.Annotations.expand_dcml" title="Permalink to this definition">¶</a></dt>
<dd><p>Expands all labels where the regex_match has been inferred as ‘dcml’ and stores the DataFrame in self._expanded.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>drop_others</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Set to False if you want to keep labels in the expanded DataFrame which have not regex_match ‘dcml’.</p></li>
<li><p><strong>warn_about_others</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Set to False to suppress warnings about labels that have not regex_match ‘dcml’.
Is automatically set to False if <code class="docutils literal notranslate"><span class="pre">drop_others</span></code> is set to False.</p></li>
<li><p><strong>drop_empty_cols</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Return without unused columns</p></li>
<li><p><strong>chord_tones</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Pass True if you want to add four columns that contain information about each label’s
chord, added, root, and bass tones. The pitches are expressed as intervals
relative to the respective chord’s local key or, if <code class="docutils literal notranslate"><span class="pre">relative_to_global=True</span></code>,
to the globalkey. The intervals are represented as integers that represent
stacks of fifths over the tonic, such that 0 = tonic, 1 = dominant, -1 = subdominant,
2 = supertonic etc.</p></li>
<li><p><strong>relative_to_global</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Pass True if you want all labels expressed with respect to the global key.
This levels and eliminates the features <cite>localkey</cite> and <cite>relativeroot</cite>.</p></li>
<li><p><strong>absolute</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Pass True if you want to transpose the relative <cite>chord_tones</cite> to the global
key, which makes them absolute so they can be expressed as actual note names.
This implies prior conversion of the chord_tones (but not of the labels) to
the global tonic.</p></li>
<li><p><strong>all_in_c</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Pass True to transpose <cite>chord_tones</cite> to C major/minor. This performs the same
transposition of chord tones as <cite>relative_to_global</cite> but without transposing
the labels, too. This option clashes with <cite>absolute=True</cite>.</p></li>
<li><p><strong>kwargs</strong> – Additional arguments are passed to <a class="reference internal" href="#ms3.annotations.Annotations.get_labels" title="ms3.annotations.Annotations.get_labels"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_labels()</span></code></a> to define the original representation.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Expanded DCML labels</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-ms3.bs4_parser">
<span id="the-beautifulsoup-parser"></span><span id="bs4-parser"></span><h2>The BeautifulSoup parser<a class="headerlink" href="#module-ms3.bs4_parser" title="Permalink to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="ms3.bs4_parser._MSCX_bs4">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ms3.bs4_parser.</span></span><span class="sig-name descname"><span class="pre">_MSCX_bs4</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mscx_src</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">read_only</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger_cfg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/bs4_parser.html#_MSCX_bs4"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.bs4_parser._MSCX_bs4" title="Permalink to this definition">¶</a></dt>
<dd><p>This sister class implements <a class="reference internal" href="#ms3.score.MSCX" title="ms3.score.MSCX"><code class="xref py py-class docutils literal notranslate"><span class="pre">MSCX</span></code></a>’s methods for a score parsed with beautifulsoup4.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="ms3.bs4_parser._MSCX_bs4.mscx_src">
<span class="sig-name descname"><span class="pre">mscx_src</span></span><a class="headerlink" href="#ms3.bs4_parser._MSCX_bs4.mscx_src" title="Permalink to this definition">¶</a></dt>
<dd><p>Path to the uncompressed MuseScore 3 file (MSCX) to be parsed.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ms3.bs4_parser._MSCX_bs4.measure_nodes">
<span class="sig-name descname"><span class="pre">measure_nodes</span></span><a class="headerlink" href="#ms3.bs4_parser._MSCX_bs4.measure_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>{staff -&gt; {MC -&gt; tag} }</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ms3.bs4_parser._MSCX_bs4.tags">
<span class="sig-name descname"><span class="pre">tags</span></span><a class="headerlink" href="#ms3.bs4_parser._MSCX_bs4.tags" title="Permalink to this definition">¶</a></dt>
<dd><p>{MC -&gt; {staff -&gt; {voice -&gt; tag} } }</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ms3.bs4_parser._MSCX_bs4.staff2drum_map">
<span class="sig-name descname"><span class="pre">staff2drum_map</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">pd.DataFrame</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#ms3.bs4_parser._MSCX_bs4.staff2drum_map" title="Permalink to this definition">¶</a></dt>
<dd><p>For each stuff that is to be treated as drumset score, keep a mapping from MIDI pitch (DataFrame index) to
note and instrument features. The columns typically include [‘head’, ‘line’, ‘voice’, ‘name’, ‘stem’, ‘shortcut’].
When creating note tables, the ‘name’ column will be populated with the names here rather than note names.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.bs4_parser._MSCX_bs4.parse_mscx">
<span class="sig-name descname"><span class="pre">parse_mscx</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/constants.html#None" title="(in Python v3.10)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/ms3/bs4_parser.html#_MSCX_bs4.parse_mscx"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.bs4_parser._MSCX_bs4.parse_mscx" title="Permalink to this definition">¶</a></dt>
<dd><p>Load the XML structure from the score in self.mscx_src and store references to staves and measures.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.bs4_parser._MSCX_bs4.parse_measures">
<span class="sig-name descname"><span class="pre">parse_measures</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/bs4_parser.html#_MSCX_bs4.parse_measures"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.bs4_parser._MSCX_bs4.parse_measures" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts the score into the three DataFrame self._measures, self._events, and self._notes</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.bs4_parser._MSCX_bs4._make_measure_list">
<span class="sig-name descname"><span class="pre">_make_measure_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sections</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">secure</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reset_index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/bs4_parser.html#_MSCX_bs4._make_measure_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.bs4_parser._MSCX_bs4._make_measure_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Regenerate the measure list from the parsed score with advanced options.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.bs4_parser._MSCX_bs4.chords">
<span class="sig-name descname"><span class="pre">chords</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Literal" title="(in Python v3.10)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'auto'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'strict'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'all'</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'auto'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interval_index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unfold</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><span class="pre">DataFrame</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/ms3/bs4_parser.html#_MSCX_bs4.chords"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.bs4_parser._MSCX_bs4.chords" title="Permalink to this definition">¶</a></dt>
<dd><p>DataFrame of <a class="reference internal" href="manual.html#chords"><span class="std std-ref">Chords</span></a> representing all &lt;Chord&gt; tags contained in the MuseScore file
(all &lt;note&gt; tags come within one) and attached score information and performance maerks, e.g.
lyrics, dynamics, articulations, slurs (see the explanation for the <code class="docutils literal notranslate"><span class="pre">mode</span></code> parameter for more details).
Comes with the columns <a class="reference internal" href="manual.html#quarterbeats"><span class="std std-ref">quarterbeats</span></a>, <a class="reference internal" href="manual.html#duration-qb"><span class="std std-ref">duration_qb</span></a>, <a class="reference internal" href="manual.html#mc"><span class="std std-ref">mc</span></a>, <a class="reference internal" href="manual.html#mn"><span class="std std-ref">mn</span></a>, <a class="reference internal" href="manual.html#mc-onset"><span class="std std-ref">mc_onset</span></a>, <a class="reference internal" href="manual.html#mn-onset"><span class="std std-ref">mn_onset</span></a>, <a class="reference internal" href="manual.html#timesig"><span class="std std-ref">timesig</span></a>, <a class="reference internal" href="manual.html#staff"><span class="std std-ref">staff</span></a>,
<a class="reference internal" href="manual.html#voice"><span class="std std-ref">voice</span></a>, <a class="reference internal" href="manual.html#duration"><span class="std std-ref">duration</span></a>, <a class="reference internal" href="manual.html#gracenote"><span class="std std-ref">gracenote</span></a>, <a class="reference internal" href="manual.html#tremolo"><span class="std std-ref">tremolo</span></a>, <a class="reference internal" href="manual.html#nominal-duration"><span class="std std-ref">nominal_duration</span></a>, <a class="reference internal" href="manual.html#scalar"><span class="std std-ref">scalar</span></a>, <a class="reference internal" href="manual.html#volta"><span class="std std-ref">volta</span></a>, <a class="reference internal" href="manual.html#chord-id"><span class="std std-ref">chord_id</span></a>, <a class="reference internal" href="manual.html#dynamics"><span class="std std-ref">dynamics</span></a>,
<a class="reference internal" href="manual.html#articulation"><span class="std std-ref">articulation</span></a>, <a class="reference internal" href="manual.html#staff-text"><span class="std std-ref">staff_text</span></a>, <a class="reference internal" href="manual.html#slur"><span class="std std-ref">slur</span></a>, <a class="reference internal" href="manual.html#ottava"><span class="std std-ref">Ottava:8va</span></a>, <a class="reference internal" href="manual.html#ottava"><span class="std std-ref">Ottava:8vb</span></a>, <a class="reference internal" href="manual.html#pedal"><span class="std std-ref">pedal</span></a>, <a class="reference internal" href="manual.html#textline"><span class="std std-ref">TextLine</span></a>, <a class="reference internal" href="manual.html#hairpins"><span class="std std-ref">decrescendo_hairpin</span></a>,
<a class="reference internal" href="manual.html#cresc-lines"><span class="std std-ref">diminuendo_line</span></a>, <a class="reference internal" href="manual.html#cresc-lines"><span class="std std-ref">crescendo_line</span></a>, <a class="reference internal" href="manual.html#hairpins"><span class="std std-ref">crescendo_hairpin</span></a>, <a class="reference internal" href="manual.html#tempo"><span class="std std-ref">tempo</span></a>, <a class="reference internal" href="manual.html#qpm"><span class="std std-ref">qpm</span></a>, <a class="reference internal" href="manual.html#lyrics-1"><span class="std std-ref">lyrics:1</span></a>, <a class="reference internal" href="manual.html#ottava"><span class="std std-ref">Ottava:15mb</span></a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mode</strong> – Defaults to ‘auto’, meaning that additional performance markers available in the score are to be included,
namely lyrics, dynamics, fermatas, articulations, slurs, staff_text, system_text, tempo, and spanners
(e.g. slurs, 8va lines, pedal lines). This results in NaN values in the column ‘chord_id’ for those
markers that are not part of a &lt;Chord&gt; tag, e.g. &lt;Dynamic&gt;, &lt;StaffText&gt;, or &lt;Tempo&gt;. To prevent that, pass
‘strict’, meaning that only &lt;Chords&gt; are included, i.e. the column ‘chord_id’ will have no empty values.
Set to ‘all’ for ‘auto’ behaviour, but additionally creating empty columns even for those performance
markers not occurring in the score.</p></li>
<li><p><strong>interval_index</strong> – Pass True to replace the default <a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.RangeIndex.html#pandas.RangeIndex" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">RangeIndex</span></code></a> by an <a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">IntervalIndex</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>DataFrame of <a class="reference internal" href="manual.html#chords"><span class="std std-ref">Chords</span></a> representing all &lt;Chord&gt; tags contained in the MuseScore file.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.bs4_parser._MSCX_bs4.cl">
<span class="sig-name descname"><span class="pre">cl</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">recompute</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><span class="pre">DataFrame</span></a></span></span><a class="reference internal" href="_modules/ms3/bs4_parser.html#_MSCX_bs4.cl"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.bs4_parser._MSCX_bs4.cl" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the raw <a class="reference internal" href="manual.html#chords"><span class="std std-ref">Chords</span></a> without adding quarterbeat columns.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.bs4_parser._MSCX_bs4.events">
<span class="sig-name descname"><span class="pre">events</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">interval_index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unfold</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><span class="pre">DataFrame</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/ms3/bs4_parser.html#_MSCX_bs4.events"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.bs4_parser._MSCX_bs4.events" title="Permalink to this definition">¶</a></dt>
<dd><p>DataFrame representing a raw skeleton of the score’s XML structure and contains all <a class="reference internal" href="manual.html#events"><span class="std std-ref">Events</span></a>
contained in it. It is the original tabular representation of the MuseScore file’s source code from which
all other tables, except <code class="docutils literal notranslate"><span class="pre">measures</span></code> are generated.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>interval_index</strong> – Pass True to replace the default <a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.RangeIndex.html#pandas.RangeIndex" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">RangeIndex</span></code></a> by an <a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">IntervalIndex</span></code></a>.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>DataFrame containing the original tabular representation of all <a class="reference internal" href="manual.html#events"><span class="std std-ref">Events</span></a> encoded in the MuseScore file.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.bs4_parser._MSCX_bs4.form_labels">
<span class="sig-name descname"><span class="pre">form_labels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">detection_regex</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude_harmony_layer</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interval_index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unfold</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><span class="pre">DataFrame</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/ms3/bs4_parser.html#_MSCX_bs4.form_labels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.bs4_parser._MSCX_bs4.form_labels" title="Permalink to this definition">¶</a></dt>
<dd><p>DataFrame representing <a class="reference internal" href="manual.html#form-labels"><span class="std std-ref">form labels</span></a> (or other) that have been encoded as &lt;StaffText&gt;s rather than in the &lt;Harmony&gt; layer.
This function essentially filters all StaffTexts matching the <code class="docutils literal notranslate"><span class="pre">detection_regex</span></code> and adds the standard position columns.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>detection_regex</strong> – By default, detects all labels starting with one or two digits followed by a column
(see <code class="xref py py-const docutils literal notranslate"><span class="pre">the</span> <span class="pre">regex</span></code>). Pass another regex to retrieve only StaffTexts matching this one.</p></li>
<li><p><strong>exclude_harmony_layer</strong> – By default, form labels are detected even if they have been encoded as Harmony labels (rather than as StaffText).
Pass True in order to retrieve only StaffText form labels.</p></li>
<li><p><strong>interval_index</strong> – Pass True to replace the default <a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.RangeIndex.html#pandas.RangeIndex" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">RangeIndex</span></code></a> by an <a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">IntervalIndex</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>DataFrame containing all StaffTexts matching the <code class="docutils literal notranslate"><span class="pre">detection_regex</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.bs4_parser._MSCX_bs4.fl">
<span class="sig-name descname"><span class="pre">fl</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">detection_regex</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude_harmony_layer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><span class="pre">DataFrame</span></a></span></span><a class="reference internal" href="_modules/ms3/bs4_parser.html#_MSCX_bs4.fl"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.bs4_parser._MSCX_bs4.fl" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the raw <a class="reference internal" href="manual.html#form-labels"><span class="std std-ref">Form labels</span></a> (or other) that match the <code class="docutils literal notranslate"><span class="pre">detection_regex</span></code>, but without adding quarterbeat columns.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>detection_regex</strong> – By default, detects all labels starting with one or two digits followed by a column
(see <code class="xref py py-const docutils literal notranslate"><span class="pre">the</span> <span class="pre">regex</span></code>). Pass another regex to retrieve only StaffTexts matching this one.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>DataFrame containing all StaffTexts matching the <code class="docutils literal notranslate"><span class="pre">detection_regex</span></code> or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ms3.bs4_parser._MSCX_bs4.has_voltas">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">has_voltas</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></em><a class="headerlink" href="#ms3.bs4_parser._MSCX_bs4.has_voltas" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the score includes first and second endings. Otherwise, no ‘volta’ columns will be added to facets.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.bs4_parser._MSCX_bs4.measures">
<span class="sig-name descname"><span class="pre">measures</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">interval_index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unfold</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><span class="pre">DataFrame</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/ms3/bs4_parser.html#_MSCX_bs4.measures"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.bs4_parser._MSCX_bs4.measures" title="Permalink to this definition">¶</a></dt>
<dd><p>DataFrame representing the <a class="reference internal" href="manual.html#measures"><span class="std std-ref">Measures</span></a> of the MuseScore file (which can be incomplete measures). Comes with
the columns <a class="reference internal" href="manual.html#mc"><span class="std std-ref">mc</span></a>, <a class="reference internal" href="manual.html#mn"><span class="std std-ref">mn</span></a>, <a class="reference internal" href="manual.html#quarterbeats"><span class="std std-ref">quarterbeats</span></a>, <a class="reference internal" href="manual.html#duration-qb"><span class="std std-ref">duration_qb</span></a>, <a class="reference internal" href="manual.html#keysig"><span class="std std-ref">keysig</span></a>, <a class="reference internal" href="manual.html#timesig"><span class="std std-ref">timesig</span></a>, <a class="reference internal" href="manual.html#act-dur"><span class="std std-ref">act_dur</span></a>, <a class="reference internal" href="manual.html#mc-offset"><span class="std std-ref">mc_offset</span></a>, <a class="reference internal" href="manual.html#volta"><span class="std std-ref">volta</span></a>, <a class="reference internal" href="manual.html#numbering-offset"><span class="std std-ref">numbering_offset</span></a>, <a class="reference internal" href="manual.html#dont-count"><span class="std std-ref">dont_count</span></a>, <a class="reference internal" href="manual.html#barline"><span class="std std-ref">barline</span></a>, <a class="reference internal" href="manual.html#breaks"><span class="std std-ref">breaks</span></a>,
<a class="reference internal" href="manual.html#repeats"><span class="std std-ref">repeats</span></a>, <a class="reference internal" href="manual.html#next"><span class="std std-ref">next</span></a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>interval_index</strong> – Pass True to replace the default <a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.RangeIndex.html#pandas.RangeIndex" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">RangeIndex</span></code></a> by an <a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">IntervalIndex</span></code></a>.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>DataFrame representing the <a class="reference internal" href="manual.html#measures"><span class="std std-ref">measures</span></a> of the MuseScore file (which can be incomplete measures).</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.bs4_parser._MSCX_bs4.ml">
<span class="sig-name descname"><span class="pre">ml</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">recompute</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><span class="pre">DataFrame</span></a></span></span><a class="reference internal" href="_modules/ms3/bs4_parser.html#_MSCX_bs4.ml"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.bs4_parser._MSCX_bs4.ml" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the raw <a class="reference internal" href="manual.html#measures"><span class="std std-ref">Measures</span></a> without adding quarterbeat columns.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>recompute</strong> – By default, the measures are cached. Pass True to enforce recomputing anew.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.bs4_parser._MSCX_bs4.notes">
<span class="sig-name descname"><span class="pre">notes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">interval_index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unfold</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><span class="pre">DataFrame</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/ms3/bs4_parser.html#_MSCX_bs4.notes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.bs4_parser._MSCX_bs4.notes" title="Permalink to this definition">¶</a></dt>
<dd><p>DataFrame representing the <a class="reference internal" href="manual.html#notes"><span class="std std-ref">Notes</span></a> of the MuseScore file. Comes with the columns
<a class="reference internal" href="manual.html#quarterbeats"><span class="std std-ref">quarterbeats</span></a>, <a class="reference internal" href="manual.html#duration-qb"><span class="std std-ref">duration_qb</span></a>, <a class="reference internal" href="manual.html#mc"><span class="std std-ref">mc</span></a>, <a class="reference internal" href="manual.html#mn"><span class="std std-ref">mn</span></a>, <a class="reference internal" href="manual.html#mc-onset"><span class="std std-ref">mc_onset</span></a>, <a class="reference internal" href="manual.html#mn-onset"><span class="std std-ref">mn_onset</span></a>, <a class="reference internal" href="manual.html#timesig"><span class="std std-ref">timesig</span></a>, <a class="reference internal" href="manual.html#staff"><span class="std std-ref">staff</span></a>, <a class="reference internal" href="manual.html#voice"><span class="std std-ref">voice</span></a>, <a class="reference internal" href="manual.html#duration"><span class="std std-ref">duration</span></a>, <a class="reference internal" href="manual.html#gracenote"><span class="std std-ref">gracenote</span></a>, <a class="reference internal" href="manual.html#tremolo"><span class="std std-ref">tremolo</span></a>, <a class="reference internal" href="manual.html#nominal-duration"><span class="std std-ref">nominal_duration</span></a>, <a class="reference internal" href="manual.html#scalar"><span class="std std-ref">scalar</span></a>, <a class="reference internal" href="manual.html#tied"><span class="std std-ref">tied</span></a>,
<a class="reference internal" href="manual.html#tpc"><span class="std std-ref">tpc</span></a>, <a class="reference internal" href="manual.html#midi"><span class="std std-ref">midi</span></a>, <a class="reference internal" href="manual.html#volta"><span class="std std-ref">volta</span></a>, <a class="reference internal" href="manual.html#chord-id"><span class="std std-ref">chord_id</span></a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>interval_index</strong> – Pass True to replace the default <a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.RangeIndex.html#pandas.RangeIndex" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">RangeIndex</span></code></a> by an <a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">IntervalIndex</span></code></a>.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>DataFrame representing the <a class="reference internal" href="manual.html#notes"><span class="std std-ref">Notes</span></a> of the MuseScore file.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.bs4_parser._MSCX_bs4.nl">
<span class="sig-name descname"><span class="pre">nl</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">recompute</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><span class="pre">DataFrame</span></a></span></span><a class="reference internal" href="_modules/ms3/bs4_parser.html#_MSCX_bs4.nl"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.bs4_parser._MSCX_bs4.nl" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the raw <a class="reference internal" href="manual.html#notes"><span class="std std-ref">Notes</span></a> without adding quarterbeat columns.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>recompute</strong> – By default, the measures are cached. Pass True to enforce recomputing anew.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.bs4_parser._MSCX_bs4.notes_and_rests">
<span class="sig-name descname"><span class="pre">notes_and_rests</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">interval_index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unfold</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><span class="pre">DataFrame</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/ms3/bs4_parser.html#_MSCX_bs4.notes_and_rests"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.bs4_parser._MSCX_bs4.notes_and_rests" title="Permalink to this definition">¶</a></dt>
<dd><p>DataFrame representing the <a class="reference internal" href="manual.html#notes-and-rests"><span class="std std-ref">Notes and Rests</span></a> of the MuseScore file. Comes with the columns
<a class="reference internal" href="manual.html#quarterbeats"><span class="std std-ref">quarterbeats</span></a>, <a class="reference internal" href="manual.html#duration-qb"><span class="std std-ref">duration_qb</span></a>, <a class="reference internal" href="manual.html#mc"><span class="std std-ref">mc</span></a>, <a class="reference internal" href="manual.html#mn"><span class="std std-ref">mn</span></a>, <a class="reference internal" href="manual.html#mc-onset"><span class="std std-ref">mc_onset</span></a>, <a class="reference internal" href="manual.html#mn-onset"><span class="std std-ref">mn_onset</span></a>, <a class="reference internal" href="manual.html#timesig"><span class="std std-ref">timesig</span></a>, <a class="reference internal" href="manual.html#staff"><span class="std std-ref">staff</span></a>, <a class="reference internal" href="manual.html#voice"><span class="std std-ref">voice</span></a>, <a class="reference internal" href="manual.html#duration"><span class="std std-ref">duration</span></a>,
<a class="reference internal" href="manual.html#gracenote"><span class="std std-ref">gracenote</span></a>, <a class="reference internal" href="manual.html#tremolo"><span class="std std-ref">tremolo</span></a>, <a class="reference internal" href="manual.html#nominal-duration"><span class="std std-ref">nominal_duration</span></a>, <a class="reference internal" href="manual.html#scalar"><span class="std std-ref">scalar</span></a>, <a class="reference internal" href="manual.html#tied"><span class="std std-ref">tied</span></a>, <a class="reference internal" href="manual.html#tpc"><span class="std std-ref">tpc</span></a>, <a class="reference internal" href="manual.html#midi"><span class="std std-ref">midi</span></a>, <a class="reference internal" href="manual.html#volta"><span class="std std-ref">volta</span></a>, <a class="reference internal" href="manual.html#chord-id"><span class="std std-ref">chord_id</span></a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>interval_index</strong> – Pass True to replace the default <a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.RangeIndex.html#pandas.RangeIndex" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">RangeIndex</span></code></a> by an <a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">IntervalIndex</span></code></a>.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>DataFrame representing the <a class="reference internal" href="manual.html#notes-and-rests"><span class="std std-ref">Notes and Rests</span></a> of the MuseScore file.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.bs4_parser._MSCX_bs4.nrl">
<span class="sig-name descname"><span class="pre">nrl</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">recompute</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><span class="pre">DataFrame</span></a></span></span><a class="reference internal" href="_modules/ms3/bs4_parser.html#_MSCX_bs4.nrl"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.bs4_parser._MSCX_bs4.nrl" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the raw <a class="reference internal" href="manual.html#notes-and-rests"><span class="std std-ref">Notes and Rests</span></a> without adding quarterbeat columns.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>recompute</strong> – By default, the measures are cached. Pass True to enforce recomputing anew.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.bs4_parser._MSCX_bs4.offset_dict">
<span class="sig-name descname"><span class="pre">offset_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">all_endings</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unfold</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">negative_anacrusis</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#dict" title="(in Python v3.10)"><span class="pre">dict</span></a></span></span><a class="reference internal" href="_modules/ms3/bs4_parser.html#_MSCX_bs4.offset_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.bs4_parser._MSCX_bs4.offset_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Dictionary mapping MCs (measure counts) to their quarterbeat offset from the piece’s beginning.
Used for computing quarterbeats for other facets.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>all_endings</strong> – Uses the column ‘quarterbeats_all_endings’ of the measures table if it has one, otherwise
falls back to the default ‘quarterbeats’.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>{MC -&gt; quarterbeat_offset}. Offsets are Fractions. If <code class="docutils literal notranslate"><span class="pre">all_endings</span></code> is not set to <code class="docutils literal notranslate"><span class="pre">True</span></code>,
values for MCs that are part of a first ending (or third or larger) are NA.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.bs4_parser._MSCX_bs4.rests">
<span class="sig-name descname"><span class="pre">rests</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">interval_index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unfold</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><span class="pre">DataFrame</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/ms3/bs4_parser.html#_MSCX_bs4.rests"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.bs4_parser._MSCX_bs4.rests" title="Permalink to this definition">¶</a></dt>
<dd><p>DataFrame representing the <a class="reference internal" href="manual.html#rests"><span class="std std-ref">Rests</span></a> of the MuseScore file. Comes with the columns
<a class="reference internal" href="manual.html#quarterbeats"><span class="std std-ref">quarterbeats</span></a>, <a class="reference internal" href="manual.html#duration-qb"><span class="std std-ref">duration_qb</span></a>, <a class="reference internal" href="manual.html#mc"><span class="std std-ref">mc</span></a>, <a class="reference internal" href="manual.html#mn"><span class="std std-ref">mn</span></a>, <a class="reference internal" href="manual.html#mc-onset"><span class="std std-ref">mc_onset</span></a>, <a class="reference internal" href="manual.html#mn-onset"><span class="std std-ref">mn_onset</span></a>, <a class="reference internal" href="manual.html#timesig"><span class="std std-ref">timesig</span></a>, <a class="reference internal" href="manual.html#staff"><span class="std std-ref">staff</span></a>, <a class="reference internal" href="manual.html#voice"><span class="std std-ref">voice</span></a>, <a class="reference internal" href="manual.html#duration"><span class="std std-ref">duration</span></a>,
<a class="reference internal" href="manual.html#nominal-duration"><span class="std std-ref">nominal_duration</span></a>, <a class="reference internal" href="manual.html#scalar"><span class="std std-ref">scalar</span></a>, <a class="reference internal" href="manual.html#volta"><span class="std std-ref">volta</span></a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>interval_index</strong> – Pass True to replace the default <a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.RangeIndex.html#pandas.RangeIndex" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">RangeIndex</span></code></a> by an <a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">IntervalIndex</span></code></a>.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>DataFrame representing the <a class="reference internal" href="manual.html#rests"><span class="std std-ref">Rests</span></a> of the MuseScore file.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.bs4_parser._MSCX_bs4.rl">
<span class="sig-name descname"><span class="pre">rl</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">recompute</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><span class="pre">DataFrame</span></a></span></span><a class="reference internal" href="_modules/ms3/bs4_parser.html#_MSCX_bs4.rl"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.bs4_parser._MSCX_bs4.rl" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the raw <a class="reference internal" href="manual.html#rests"><span class="std std-ref">Rests</span></a> without adding quarterbeat columns.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>recompute</strong> – By default, the measures are cached. Pass True to enforce recomputing anew.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ms3.bs4_parser._MSCX_bs4.volta_structure">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">volta_structure</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Dict" title="(in Python v3.10)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Dict" title="(in Python v3.10)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#ms3.bs4_parser._MSCX_bs4.volta_structure" title="Permalink to this definition">¶</a></dt>
<dd><p>{first_mc -&gt; {volta_number -&gt; [MC] } }</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.bs4_parser._MSCX_bs4.make_standard_chordlist">
<span class="sig-name descname"><span class="pre">make_standard_chordlist</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/bs4_parser.html#_MSCX_bs4.make_standard_chordlist"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.bs4_parser._MSCX_bs4.make_standard_chordlist" title="Permalink to this definition">¶</a></dt>
<dd><p>Stores the result of self.get_chords(mode=’strict’)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.bs4_parser._MSCX_bs4.get_chords">
<span class="sig-name descname"><span class="pre">get_chords</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">staff</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">voice</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'auto'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lyrics</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dynamics</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">articulation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">staff_text</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">system_text</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tempo</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spanners</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/bs4_parser.html#_MSCX_bs4.get_chords"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.bs4_parser._MSCX_bs4.get_chords" title="Permalink to this definition">¶</a></dt>
<dd><p>Shortcut for <code class="docutils literal notranslate"><span class="pre">MSCX.parsed.get_chords()</span></code>.
Retrieve a customized chord lists, e.g. one including less of the processed features or additional,
unprocessed ones.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>staff</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>) – Get information from a particular staff only (1 = upper staff)</p></li>
<li><p><strong>voice</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>) – Get information from a particular voice only (1 = only the first layer of every staff)</p></li>
<li><p><strong>mode</strong> (<em>{'auto'</em><em>, </em><em>'all'</em><em>, </em><em>'strict'}</em><em>, </em><em>optional</em>) – <div class="line-block">
<div class="line">Defaults to ‘auto’, meaning that those aspects are automatically included that occur in the score; the resulting
DataFrame has no empty columns except for those parameters that are set to True.</div>
<div class="line">’all’: Columns for all aspects are created, even if they don’t occur in the score (e.g. lyrics).</div>
<div class="line">’strict’: Create columns for exactly those parameters that are set to True, regardless which aspects occur in the score.</div>
</div>
</p></li>
<li><p><strong>lyrics</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Include lyrics.</p></li>
<li><p><strong>dynamics</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Include dynamic markings such as f or p.</p></li>
<li><p><strong>articulation</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Include articulation such as arpeggios.</p></li>
<li><p><strong>spanners</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Include spanners such as slurs, 8va lines, pedal lines etc.</p></li>
<li><p><strong>staff_text</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Include expression text such as ‘dolce’ and free-hand staff text such as ‘div.’.</p></li>
<li><p><strong>system_text</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Include system text such as movement titles.</p></li>
<li><p><strong>tempo</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Include tempo markings.</p></li>
<li><p><strong>**kwargs</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Set a particular keyword to True in order to include all columns from the _events DataFrame
whose names include that keyword. Column names include the tag names from the MSCX source code.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>DataFrame representing all &lt;Chord&gt; tags in the score with the selected features.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.bs4_parser._MSCX_bs4.get_raw_labels">
<span class="sig-name descname"><span class="pre">get_raw_labels</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/bs4_parser.html#_MSCX_bs4.get_raw_labels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.bs4_parser._MSCX_bs4.get_raw_labels" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of &lt;harmony&gt; tags from the parsed score.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.bs4_parser._MSCX_bs4.infer_mc">
<span class="sig-name descname"><span class="pre">infer_mc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mn</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mn_onset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">volta</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/bs4_parser.html#_MSCX_bs4.infer_mc"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.bs4_parser._MSCX_bs4.infer_mc" title="Permalink to this definition">¶</a></dt>
<dd><p>mn_onset and needs to be converted to mc_onset</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.bs4_parser._MSCX_bs4.get_texts">
<span class="sig-name descname"><span class="pre">get_texts</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Dict" title="(in Python v3.10)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/ms3/bs4_parser.html#_MSCX_bs4.get_texts"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.bs4_parser._MSCX_bs4.get_texts" title="Permalink to this definition">¶</a></dt>
<dd><p>Process &lt;Text&gt; nodes (normally attached to &lt;Staff id=”1”&gt;).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.bs4_parser._MSCX_bs4._get_metadata">
<span class="sig-name descname"><span class="pre">_get_metadata</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/bs4_parser.html#_MSCX_bs4._get_metadata"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.bs4_parser._MSCX_bs4._get_metadata" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#dict" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.bs4_parser._MSCX_bs4.add_standard_cols">
<span class="sig-name descname"><span class="pre">add_standard_cols</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/bs4_parser.html#_MSCX_bs4.add_standard_cols"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.bs4_parser._MSCX_bs4.add_standard_cols" title="Permalink to this definition">¶</a></dt>
<dd><p>Ensures that the DataFrame’s first columns are [‘mc’, ‘mn’, (‘volta’), ‘timesig’, ‘mc_offset’]</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.bs4_parser._MSCX_bs4.delete_label">
<span class="sig-name descname"><span class="pre">delete_label</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">staff</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">voice</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mc_onset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">empty_only</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/bs4_parser.html#_MSCX_bs4.delete_label"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.bs4_parser._MSCX_bs4.delete_label" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete a label from a particular position (if there is one).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mc</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>) – Measure count.</p></li>
<li><p><strong>staff</strong> – Notational layer in which to delete the label.</p></li>
<li><p><strong>voice</strong> – Notational layer in which to delete the label.</p></li>
<li><p><strong>mc_onset</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/fractions.html#fractions.Fraction" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">fractions.Fraction</span></code></a>) – mc_onset</p></li>
<li><p><strong>empty_only</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Set to True if you want to delete only empty harmonies. Since normally all labels at the defined position
are deleted, this flag is needed to prevent deleting non-empty &lt;Harmony&gt; tags.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Whether a label was deleted or not.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.bs4_parser._MSCX_bs4.add_label">
<span class="sig-name descname"><span class="pre">add_label</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">label</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mc_onset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">staff</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">voice</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/bs4_parser.html#_MSCX_bs4.add_label"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.bs4_parser._MSCX_bs4.add_label" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a single label to the current XML in form of a new
&lt;Harmony&gt; (and maybe also &lt;location&gt;) tag.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>label</strong> – </p></li>
<li><p><strong>mc</strong> – </p></li>
<li><p><strong>mc_onset</strong> – </p></li>
<li><p><strong>staff</strong> – </p></li>
<li><p><strong>voice</strong> – </p></li>
<li><p><strong>kwargs</strong> – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.bs4_parser._MSCX_bs4.change_label_color">
<span class="sig-name descname"><span class="pre">change_label_color</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mc_onset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">staff</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">voice</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color_html</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color_r</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color_g</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color_b</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color_a</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/bs4_parser.html#_MSCX_bs4.change_label_color"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.bs4_parser._MSCX_bs4.change_label_color" title="Permalink to this definition">¶</a></dt>
<dd><p>Change the color of an existing label.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mc</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>) – Measure count of the label</p></li>
<li><p><strong>mc_onset</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/fractions.html#fractions.Fraction" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">fractions.Fraction</span></code></a>) – Onset position to which the label is attached.</p></li>
<li><p><strong>staff</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>) – Staff to which the label is attached.</p></li>
<li><p><strong>voice</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>) – Notational layer to which the label is attached.</p></li>
<li><p><strong>label</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – (Decoded) label.</p></li>
<li><p><strong>color_name</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – Two ways of specifying the color.</p></li>
<li><p><strong>color_html</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – Two ways of specifying the color.</p></li>
<li><p><strong>color_r</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a> or <a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – To specify a RGB color instead, pass at least, the first three. <code class="docutils literal notranslate"><span class="pre">color_a</span></code> (alpha = opacity) defaults
to 255.</p></li>
<li><p><strong>color_g</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a> or <a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – To specify a RGB color instead, pass at least, the first three. <code class="docutils literal notranslate"><span class="pre">color_a</span></code> (alpha = opacity) defaults
to 255.</p></li>
<li><p><strong>color_b</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a> or <a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – To specify a RGB color instead, pass at least, the first three. <code class="docutils literal notranslate"><span class="pre">color_a</span></code> (alpha = opacity) defaults
to 255.</p></li>
<li><p><strong>color_a</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a> or <a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – To specify a RGB color instead, pass at least, the first three. <code class="docutils literal notranslate"><span class="pre">color_a</span></code> (alpha = opacity) defaults
to 255.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ms3.bs4_parser._MSCX_bs4.color_notes">
<span class="sig-name descname"><span class="pre">color_notes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">from_mc</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">from_mc_onset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/fractions.html#fractions.Fraction" title="(in Python v3.10)"><span class="pre">Fraction</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">to_mc</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">to_mc_onset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/fractions.html#fractions.Fraction" title="(in Python v3.10)"><span class="pre">Fraction</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">midi</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tpc</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inverse</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color_html</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color_r</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color_g</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color_b</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color_a</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Tuple" title="(in Python v3.10)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/fractions.html#fractions.Fraction" title="(in Python v3.10)"><span class="pre">Fraction</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/fractions.html#fractions.Fraction" title="(in Python v3.10)"><span class="pre">Fraction</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/ms3/bs4_parser.html#_MSCX_bs4.color_notes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.bs4_parser._MSCX_bs4.color_notes" title="Permalink to this definition">¶</a></dt>
<dd><p>Colors all notes occurring in a particular score segment in one particular color, or
only those (not) pertaining to a collection of MIDI pitches or Tonal Pitch Classes (TPC).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>from_mc</strong> – MC in which the score segment starts.</p></li>
<li><p><strong>from_mc_onset</strong> – mc_onset where the score segment starts.</p></li>
<li><p><strong>to_mc</strong> – MC in which the score segment ends. If not specified, the segment ends at the end of the score.</p></li>
<li><p><strong>to_mc_onset</strong> – If <code class="docutils literal notranslate"><span class="pre">to_mc</span></code> is defined, the mc_onset where the score segment ends.</p></li>
<li><p><strong>midi</strong> – Collection of MIDI numbers to use as a filter or an inverse filter (depending on <code class="docutils literal notranslate"><span class="pre">inverse</span></code>).</p></li>
<li><p><strong>tpc</strong> – Collection of Tonal Pitch Classes (C=0, G=1, F=-1 etc.) to use as a filter or an inverse filter (depending on <code class="docutils literal notranslate"><span class="pre">inverse</span></code>).</p></li>
<li><p><strong>inverse</strong> – By default, only notes where all specified filters (midi and/or tpc) apply are colored.
Set to True to color only those notes where none of the specified filters match.</p></li>
<li><p><strong>color_name</strong> – Specify the color either as a name, or as HTML color, or as RGB(A). Name can be a CSS color or
a MuseScore color (see <code class="xref py py-attr docutils literal notranslate"><span class="pre">utils.MS3_COLORS</span></code>).</p></li>
<li><p><strong>color_html</strong> – Specify the color either as a name, or as HTML color, or as RGB(A). An HTML color
needs to be string of length 6.</p></li>
<li><p><strong>color_r</strong> – If you specify the color as RGB(A), you also need to specify color_g and color_b.</p></li>
<li><p><strong>color_g</strong> – If you specify the color as RGB(A), you also need to specify color_r and color_b.</p></li>
<li><p><strong>color_b</strong> – If you specify the color as RGB(A), you also need to specify color_r and color_g.</p></li>
<li><p><strong>color_a</strong> – If you have specified an RGB color, the alpha value defaults to 255 unless specified otherwise.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of durations (in fractions) of all notes that have been colored.
List of durations (in fractions) of all notes that have not been colored.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ms3.bs4_parser.Metatags">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ms3.bs4_parser.</span></span><span class="sig-name descname"><span class="pre">Metatags</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">soup</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/bs4_parser.html#Metatags"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.bs4_parser.Metatags" title="Permalink to this definition">¶</a></dt>
<dd><p>Easy way to read and write any style information in a parsed MSCX score.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ms3.bs4_parser.Style">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ms3.bs4_parser.</span></span><span class="sig-name descname"><span class="pre">Style</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">soup</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/bs4_parser.html#Style"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.bs4_parser.Style" title="Permalink to this definition">¶</a></dt>
<dd><p>Easy way to read and write any style information in a parsed MSCX score.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.bs4_parser.get_duration_event">
<span class="sig-prename descclassname"><span class="pre">ms3.bs4_parser.</span></span><span class="sig-name descname"><span class="pre">get_duration_event</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">elements</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/bs4_parser.html#get_duration_event"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.bs4_parser.get_duration_event" title="Permalink to this definition">¶</a></dt>
<dd><p>Receives a list of dicts representing the events for a given mc_onset and returns the index and name of
the first event that has a duration, so either a Chord or a Rest.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.bs4_parser.get_part_info">
<span class="sig-prename descclassname"><span class="pre">ms3.bs4_parser.</span></span><span class="sig-name descname"><span class="pre">get_part_info</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">part_tag</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/bs4_parser.html#get_part_info"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.bs4_parser.get_part_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Instrument names come in different forms in different places. This function extracts the information from a
&lt;Part&gt; tag and returns it as a dictionary.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.bs4_parser.make_spanner_cols">
<span class="sig-prename descclassname"><span class="pre">ms3.bs4_parser.</span></span><span class="sig-name descname"><span class="pre">make_spanner_cols</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spanner_types</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/bs4_parser.html#make_spanner_cols"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.bs4_parser.make_spanner_cols" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>From a raw chord list as returned by <code class="docutils literal notranslate"><span class="pre">get_chords(spanners=True)</span></code></dt><dd><p>create a DataFrame with Spanner IDs for all chords for all spanner
types they are associated with.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>spanner_types</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">collection</span></code>) – If this parameter is passed, only the enlisted
spanner types [‘Slur’, ‘HairPin’, ‘Pedal’, ‘Ottava’] are included.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.bs4_parser.safe_update">
<span class="sig-prename descclassname"><span class="pre">ms3.bs4_parser.</span></span><span class="sig-name descname"><span class="pre">safe_update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">old</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/bs4_parser.html#safe_update"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.bs4_parser.safe_update" title="Permalink to this definition">¶</a></dt>
<dd><p>Update dict without replacing values.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.bs4_parser.recurse_node">
<span class="sig-prename descclassname"><span class="pre">ms3.bs4_parser.</span></span><span class="sig-name descname"><span class="pre">recurse_node</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prepend</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude_children</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/bs4_parser.html#recurse_node"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.bs4_parser.recurse_node" title="Permalink to this definition">¶</a></dt>
<dd><p>The heart of the XML -&gt; DataFrame conversion. Changes may have ample repercussions!</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Keys are combinations of tag (&amp; attribute) names, values are value strings.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#dict" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.bs4_parser.decode_harmony_tag">
<span class="sig-prename descclassname"><span class="pre">ms3.bs4_parser.</span></span><span class="sig-name descname"><span class="pre">decode_harmony_tag</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tag</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/bs4_parser.html#decode_harmony_tag"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.bs4_parser.decode_harmony_tag" title="Permalink to this definition">¶</a></dt>
<dd><p>Decode a &lt;Harmony&gt; tag into a string.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.bs4_parser.make_oneliner">
<span class="sig-prename descclassname"><span class="pre">ms3.bs4_parser.</span></span><span class="sig-name descname"><span class="pre">make_oneliner</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/bs4_parser.html#make_oneliner"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.bs4_parser.make_oneliner" title="Permalink to this definition">¶</a></dt>
<dd><p>Pass a tag of which the layout does not spread over several lines.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.bs4_parser.format_node">
<span class="sig-prename descclassname"><span class="pre">ms3.bs4_parser.</span></span><span class="sig-name descname"><span class="pre">format_node</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indent</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/bs4_parser.html#format_node"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.bs4_parser.format_node" title="Permalink to this definition">¶</a></dt>
<dd><p>Recursively format Beautifulsoup tag as in an MSCX file.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.bs4_parser.bs4_to_mscx">
<span class="sig-prename descclassname"><span class="pre">ms3.bs4_parser.</span></span><span class="sig-name descname"><span class="pre">bs4_to_mscx</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">soup</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/bs4_parser.html#bs4_to_mscx"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.bs4_parser.bs4_to_mscx" title="Permalink to this definition">¶</a></dt>
<dd><p>Turn the BeautifulSoup into a string representing an MSCX file</p>
</dd></dl>

</section>
<section id="module-ms3.expand_dcml">
<span id="the-expand-dcml-module"></span><h2>The expand_dcml module<a class="headerlink" href="#module-ms3.expand_dcml" title="Permalink to this heading">¶</a></h2>
<p>This is the same code as in the corpora repo as copied on September 24, 2020
and then adapted.</p>
<dl class="py class">
<dt class="sig sig-object py" id="ms3.expand_dcml.SliceMaker">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ms3.expand_dcml.</span></span><span class="sig-name descname"><span class="pre">SliceMaker</span></span><a class="reference internal" href="_modules/ms3/expand_dcml.html#SliceMaker"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.expand_dcml.SliceMaker" title="Permalink to this definition">¶</a></dt>
<dd><p>This class serves for storing slice notation such as <code class="docutils literal notranslate"><span class="pre">:3</span></code> as a variable or
passing it as function argument.</p>
<div class="admonition-examples admonition">
<p class="admonition-title">Examples</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">SM</span> <span class="o">=</span> <span class="n">SliceMaker</span><span class="p">()</span>
<span class="n">some_function</span><span class="p">(</span> <span class="n">slice_this</span><span class="p">,</span> <span class="n">SM</span><span class="p">[</span><span class="mi">3</span><span class="p">:</span><span class="mi">8</span><span class="p">]</span> <span class="p">)</span>

<span class="n">select_all</span> <span class="o">=</span> <span class="n">SM</span><span class="p">[:]</span>
<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">select_all</span><span class="p">]</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.expand_dcml.expand_labels">
<span class="sig-prename descclassname"><span class="pre">ms3.expand_dcml.</span></span><span class="sig-name descname"><span class="pre">expand_labels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'label'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">regex</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dropna</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">propagate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">volta_structure</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">relative_to_global</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chord_tones</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">absolute</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">all_in_c</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_checks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/expand_dcml.html#expand_labels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.expand_dcml.expand_labels" title="Permalink to this definition">¶</a></dt>
<dd><p>Split harmony labels complying with the DCML syntax into columns holding their various features
and allows for additional computations and transformations.</p>
<p>Uses: <code class="xref py py-func docutils literal notranslate"><span class="pre">compute_chord_tones()</span></code>, <a class="reference internal" href="#ms3.expand_dcml.features2type" title="ms3.expand_dcml.features2type"><code class="xref py py-func docutils literal notranslate"><span class="pre">features2type()</span></code></a>, <code class="xref py py-func docutils literal notranslate"><span class="pre">labels2global_tonic()</span></code>, <a class="reference internal" href="#ms3.expand_dcml.propagate_keys" title="ms3.expand_dcml.propagate_keys"><code class="xref py py-func docutils literal notranslate"><span class="pre">propagate_keys()</span></code></a>,
<a class="reference internal" href="#ms3.expand_dcml.propagate_pedal" title="ms3.expand_dcml.propagate_pedal"><code class="xref py py-func docutils literal notranslate"><span class="pre">propagate_pedal()</span></code></a>, <a class="reference internal" href="#ms3.expand_dcml.replace_special" title="ms3.expand_dcml.replace_special"><code class="xref py py-func docutils literal notranslate"><span class="pre">replace_special()</span></code></a>, <a class="reference internal" href="#ms3.utils.roman_numeral2fifths" title="ms3.utils.roman_numeral2fifths"><code class="xref py py-func docutils literal notranslate"><span class="pre">roman_numeral2fifths()</span></code></a>, <a class="reference internal" href="#ms3.utils.split_alternatives" title="ms3.utils.split_alternatives"><code class="xref py py-func docutils literal notranslate"><span class="pre">split_alternatives()</span></code></a>, <a class="reference internal" href="#ms3.expand_dcml.split_labels" title="ms3.expand_dcml.split_labels"><code class="xref py py-func docutils literal notranslate"><span class="pre">split_labels()</span></code></a>,
<a class="reference internal" href="#ms3.utils.transform" title="ms3.utils.transform"><code class="xref py py-func docutils literal notranslate"><span class="pre">transform()</span></code></a>, <code class="xref py py-func docutils literal notranslate"><span class="pre">transpose()</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – Dataframe where one column contains DCML chord labels.</p></li>
<li><p><strong>column</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – Name of the column that holds the harmony labels.</p></li>
<li><p><strong>regex</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">re.Pattern</span></code>) – Compiled regular expression used to split the labels. It needs to have named groups.
The group names are used as column names unless replaced by <code class="docutils literal notranslate"><span class="pre">cols</span></code>.</p></li>
<li><p><strong>rename</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#dict" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>, optional) – Dictionary to map the regex’s group names to deviating column names of your choice.</p></li>
<li><p><strong>dropna</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Pass True if you want to drop rows where <code class="docutils literal notranslate"><span class="pre">column</span></code> is NaN/&lt;NA&gt;</p></li>
<li><p><strong>propagate</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – By default, information about global and local keys and about pedal points is spread throughout
the DataFrame. Pass False if you only want to split the labels into their features. This ignores
all following parameters because their expansions depend on information about keys.</p></li>
<li><p><strong>volta_structure</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#dict" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>, optional) – {first_mc -&gt; {volta_number -&gt; [mc1, mc2…]} } dictionary as you can get it from
<code class="docutils literal notranslate"><span class="pre">Score.mscx.volta_structure</span></code>. This allows for correct propagation into second and other voltas.</p></li>
<li><p><strong>relative_to_global</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Pass True if you want all labels expressed with respect to the global key.
This levels and eliminates the features <cite>localkey</cite> and <cite>relativeroot</cite>.</p></li>
<li><p><strong>chord_tones</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Pass True if you want to add four columns that contain information about each label’s
chord, added, root, and bass tones. The pitches are expressed as intervals
relative to the respective chord’s local key or, if <code class="docutils literal notranslate"><span class="pre">relative_to_global=True</span></code>,
to the globalkey. The intervals are represented as integers that represent
stacks of fifths over the tonic, such that 0 = tonic, 1 = dominant, -1 = subdominant,
2 = supertonic etc.</p></li>
<li><p><strong>absolute</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Pass True if you want to transpose the relative <cite>chord_tones</cite> to the global
key, which makes them absolute so they can be expressed as actual note names.
This implies prior conversion of the chord_tones (but not of the labels) to
the global tonic.</p></li>
<li><p><strong>all_in_c</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Pass True to transpose <cite>chord_tones</cite> to C major/minor. This performs the same
transposition of chord tones as <cite>relative_to_global</cite> but without transposing
the labels, too. This option clashes with <cite>absolute=True</cite>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Original DataFrame plus additional columns with split features.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.expand_dcml.extract_features_from_labels">
<span class="sig-prename descclassname"><span class="pre">ms3.expand_dcml.</span></span><span class="sig-name descname"><span class="pre">extract_features_from_labels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">S</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">regex</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/expand_dcml.html#extract_features_from_labels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.expand_dcml.extract_features_from_labels" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies .str.extract(regex) on the Series and returns a DataFrame with all named capturing groups.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.expand_dcml.split_labels">
<span class="sig-prename descclassname"><span class="pre">ms3.expand_dcml.</span></span><span class="sig-name descname"><span class="pre">split_labels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_column</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'label'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">regex</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dropna</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inplace</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_checks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/expand_dcml.html#split_labels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.expand_dcml.split_labels" title="Permalink to this definition">¶</a></dt>
<dd><p>Split harmony labels complying with the DCML syntax into columns holding their various features.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – Dataframe where one column contains DCML chord labels.</p></li>
<li><p><strong>label_column</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – Name of the column that holds the harmony labels.</p></li>
<li><p><strong>regex</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">re.Pattern</span></code>) – Compiled regular expression used to split the labels. It needs to have named groups.
The group names are used as column names unless replaced by <cite>cols</cite>.</p></li>
<li><p><strong>rename</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#dict" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>) – Dictionary to map the regex’s group names to deviating column names.</p></li>
<li><p><strong>dropna</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Pass True if you want to drop rows where <code class="docutils literal notranslate"><span class="pre">column</span></code> is NaN/&lt;NA&gt;</p></li>
<li><p><strong>inplace</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Pass True if you want to mutate <code class="docutils literal notranslate"><span class="pre">df</span></code>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.expand_dcml.features2type">
<span class="sig-prename descclassname"><span class="pre">ms3.expand_dcml.</span></span><span class="sig-name descname"><span class="pre">features2type</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">numeral</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">form</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figbass</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/expand_dcml.html#features2type"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.expand_dcml.features2type" title="Permalink to this definition">¶</a></dt>
<dd><p>Turns a combination of the three chord features into a chord type.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><strong>‘M’</strong> (<em>Major triad</em>)</p></li>
<li><p><strong>’m’</strong> (<em>Minor triad</em>)</p></li>
<li><p><strong>’o’</strong> (<em>Diminished triad</em>)</p></li>
<li><p><strong>’+’</strong> (<em>Augmented triad</em>)</p></li>
<li><p><strong>’mm7’</strong> (<em>Minor seventh chord</em>)</p></li>
<li><p><strong>’Mm7’</strong> (<em>Dominant seventh chord</em>)</p></li>
<li><p><strong>’MM7’</strong> (<em>Major seventh chord</em>)</p></li>
<li><p><strong>’mM7’</strong> (<em>Minor major seventh chord</em>)</p></li>
<li><p><strong>’o7’</strong> (<em>Diminished seventh chord</em>)</p></li>
<li><p><strong>’%7’</strong> (<em>Half-diminished seventh chord</em>)</p></li>
<li><p><strong>’+7’</strong> (<em>Augmented (minor) seventh chord</em>)</p></li>
<li><p><strong>’+M7’</strong> (<em>Augmented major seventh chord</em>)</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.expand_dcml.replace_special">
<span class="sig-prename descclassname"><span class="pre">ms3.expand_dcml.</span></span><span class="sig-name descname"><span class="pre">replace_special</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">regex</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">merge</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inplace</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">special_map</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/expand_dcml.html#replace_special"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.expand_dcml.replace_special" title="Permalink to this definition">¶</a></dt>
<dd><div class="line-block">
<div class="line">Move special symbols in the <cite>numeral</cite> column to a separate column and replace them by the explicit chords they stand for.</div>
<div class="line">In particular, this function replaces the symbols <cite>It</cite>, <cite>Ger</cite>, and <cite>Fr</cite>.</div>
</div>
<p>Uses: <a class="reference internal" href="#ms3.expand_dcml.merge_changes" title="ms3.expand_dcml.merge_changes"><code class="xref py py-func docutils literal notranslate"><span class="pre">merge_changes()</span></code></a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – Dataframe containing DCML chord labels that have been split by split_labels().</p></li>
<li><p><strong>regex</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">re.Pattern</span></code>) – Compiled regular expression used to split the labels replacing the special symbols.It needs to have named groups.
The group names are used as column names unless replaced by <cite>cols</cite>.</p></li>
<li><p><strong>merge</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – False: By default, existing values, except <cite>figbass</cite>, are overwritten.
True: Merge existing with new values (for <cite>changes</cite> and <cite>relativeroot</cite>).</p></li>
<li><p><strong>cols</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#dict" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>, optional) – <p>The special symbols appear in the column <cite>numeral</cite> and are moved to the column <cite>special</cite>.
In case the column names for <code class="docutils literal notranslate"><span class="pre">['numeral','form',</span> <span class="pre">'figbass',</span> <span class="pre">'changes',</span> <span class="pre">'relativeroot',</span> <span class="pre">'special']</span></code> deviate, pass a dict, such as</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s1">&#39;numeral&#39;</span><span class="p">:</span>         <span class="s1">&#39;numeral_col_name&#39;</span><span class="p">,</span>
 <span class="s1">&#39;form&#39;</span><span class="p">:</span>            <span class="s1">&#39;form_col_name</span>
 <span class="s1">&#39;figbass&#39;</span><span class="p">:</span>         <span class="s1">&#39;figbass_col_name&#39;</span><span class="p">,</span>
 <span class="s1">&#39;changes&#39;</span><span class="p">:</span>         <span class="s1">&#39;changes_col_name&#39;</span><span class="p">,</span>
 <span class="s1">&#39;relativeroot&#39;</span><span class="p">:</span>    <span class="s1">&#39;relativeroot_col_name&#39;</span><span class="p">,</span>
 <span class="s1">&#39;special&#39;</span><span class="p">:</span>         <span class="s1">&#39;special_col_name&#39;</span><span class="p">}</span>
</pre></div>
</div>
</p></li>
<li><p><strong>special_map</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#dict" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>, optional) – In case you want to add or alter special symbols to be replaced, pass a replacement map, e.g.
{‘N’: ‘bII6’}. The column ‘figbass’ is only altered if it’s None to allow for inversions of special chords.</p></li>
<li><p><strong>inplace</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Pass True if you want to mutate <code class="docutils literal notranslate"><span class="pre">df</span></code>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.expand_dcml.merge_changes">
<span class="sig-prename descclassname"><span class="pre">ms3.expand_dcml.</span></span><span class="sig-name descname"><span class="pre">merge_changes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">left</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">right</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/expand_dcml.html#merge_changes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.expand_dcml.merge_changes" title="Permalink to this definition">¶</a></dt>
<dd><p>Merge two <cite>changes</cite> into one, e.g. <cite>b3</cite> and <cite>+#7</cite> to <cite>+#7b3</cite>.</p>
<p>Uses: <code class="xref py py-func docutils literal notranslate"><span class="pre">changes2list()</span></code></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.expand_dcml.propagate_keys">
<span class="sig-prename descclassname"><span class="pre">ms3.expand_dcml.</span></span><span class="sig-name descname"><span class="pre">propagate_keys</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">volta_structure</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">globalkey</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'globalkey'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">localkey</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'localkey'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">add_bool</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/expand_dcml.html#propagate_keys"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.expand_dcml.propagate_keys" title="Permalink to this definition">¶</a></dt>
<dd><div class="line-block">
<div class="line">Propagate information about global keys and local keys throughout the dataframe.</div>
<div class="line">Pass split harmonies for one piece at a time. For concatenated pieces, use apply().</div>
</div>
<p>Uses: <code class="xref py py-func docutils literal notranslate"><span class="pre">series_is_minor()</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – Dataframe containing DCML chord labels that have been split by split_labels().</p></li>
<li><p><strong>volta_structure</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#dict" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>, optional) – {first_mc -&gt; {volta_number -&gt; [mc1, mc2…]} } dictionary as you can get it from
<code class="docutils literal notranslate"><span class="pre">Score.mscx.volta_structure</span></code>. This allows for correct propagation into
second and other voltas.</p></li>
<li><p><strong>globalkey</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – In case you renamed the columns, pass column names.</p></li>
<li><p><strong>localkey</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – In case you renamed the columns, pass column names.</p></li>
<li><p><strong>add_bool</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Pass True if you want to add two boolean columns which are true if the respective key is
a minor key.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.expand_dcml.propagate_pedal">
<span class="sig-prename descclassname"><span class="pre">ms3.expand_dcml.</span></span><span class="sig-name descname"><span class="pre">propagate_pedal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">relative</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drop_pedalend</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/expand_dcml.html#propagate_pedal"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.expand_dcml.propagate_pedal" title="Permalink to this definition">¶</a></dt>
<dd><p>Propagate the pedal note for all chords within square brackets.
By default, the note is expressed in relation to each label’s localkey.</p>
<p>Uses: <code class="xref py py-func docutils literal notranslate"><span class="pre">rel2abs_key()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">abs2rel_key()</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – Dataframe containing DCML chord labels that have been split by split_labels()
and where the keys have been propagated using propagate_keys().</p></li>
<li><p><strong>relative</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Pass False if you want the pedal note to stay the same even if the localkey changes.</p></li>
<li><p><strong>drop_pedalend</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Pass False if you don’t want the column with the ending brackets to be dropped.</p></li>
<li><p><strong>cols</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#dict" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>, optional) – <p>In case the column names for <code class="docutils literal notranslate"><span class="pre">['pedal','pedalend',</span> <span class="pre">'globalkey',</span> <span class="pre">'localkey']</span></code> deviate, pass a dict, such as</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s1">&#39;pedal&#39;</span><span class="p">:</span>       <span class="s1">&#39;pedal_col_name&#39;</span><span class="p">,</span>
 <span class="s1">&#39;pedalend&#39;</span><span class="p">:</span>    <span class="s1">&#39;pedalend_col_name&#39;</span><span class="p">,</span>
 <span class="s1">&#39;globalkey&#39;</span><span class="p">:</span>   <span class="s1">&#39;globalkey_col_name&#39;</span><span class="p">,</span>
 <span class="s1">&#39;localkey&#39;</span><span class="p">:</span>    <span class="s1">&#39;localkey_col_name&#39;</span><span class="p">}</span>
</pre></div>
</div>
</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-ms3.utils">
<span id="utils"></span><h2>Utils<a class="headerlink" href="#module-ms3.utils" title="Permalink to this heading">¶</a></h2>
<dl class="py data">
<dt class="sig sig-object py" id="ms3.utils.STANDARD_NAMES">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">STANDARD_NAMES</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">['notes_and_rests',</span> <span class="pre">'rests',</span> <span class="pre">'notes',</span> <span class="pre">'measures',</span> <span class="pre">'events',</span> <span class="pre">'labels',</span> <span class="pre">'chords',</span> <span class="pre">'expanded',</span> <span class="pre">'harmonies',</span> <span class="pre">'cadences',</span> <span class="pre">'form_labels',</span> <span class="pre">'MS3',</span> <span class="pre">'scores']</span></em><a class="headerlink" href="#ms3.utils.STANDARD_NAMES" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#list" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a>
Indicators for corpora: If a folder contains any file or folder beginning or ending on any of these names, it is
considered to be a corpus by the function <code class="xref py py-func docutils literal notranslate"><span class="pre">iterate_corpora()</span></code>.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="ms3.utils.DCML_REGEX">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">DCML_REGEX</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">re.compile('\n^(\\.?\n</span>&#160;&#160;&#160; <span class="pre">((?P&lt;globalkey&gt;[a-gA-G](b*|\\#*))\\.)?\n</span>&#160;&#160;&#160; <span class="pre">((?P&lt;localkey&gt;((b*|\\#*)(VII|VI|V|IV|III|II|I|vii|vi|v|iv|iii|ii|i)/?)+)\\.)?\n</span>&#160;&#160;&#160; <span class="pre">((?P&lt;pedal&gt;((b*|\\#*)(VII|VI|V|IV|III|II|I|vii|vi|v|iv|iii,</span> <span class="pre">re.VERBOSE)</span></em><a class="headerlink" href="#ms3.utils.DCML_REGEX" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>
Constant with a regular expression that recognizes labels conforming to the DCML harmony annotation standard excluding those
consisting of two alternatives.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="ms3.utils.DCML_DOUBLE_REGEX">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">DCML_DOUBLE_REGEX</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">re.compile('\n</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">^(?P&lt;first&gt;\n</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">(\\.?\n</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">((?P&lt;globalkey&gt;[a-gA-G](b*|\\#*))\\.)?\n</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">,</span> <span class="pre">re.VERBOSE)</span></em><a class="headerlink" href="#ms3.utils.DCML_DOUBLE_REGEX" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>
Constant with a regular expression that recognizes complete labels conforming to the DCML harmony annotation standard
including those consisting of two alternatives, without having to split them. It is simply a doubled version of DCML_REGEX.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="ms3.utils.FORM_DETECTION_REGEX">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">FORM_DETECTION_REGEX</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'^\\d{1,2}.*?:'</span></em><a class="headerlink" href="#ms3.utils.FORM_DETECTION_REGEX" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>
Following Gotham &amp; Ireland (&#64;ISMIR 20 (2019): “Taking Form: A Representation Standard, Conversion Code, and Example Corpus for Recording, Visualizing, and Studying Analyses of Musical Form”),
detects form labels as those strings that start with indicating a hierarchical level (one or two digits) followed by a colon.
By extension (Llorens et al., forthcoming), allows one or more ‘i’ characters or any other alphabet character to further specify the level.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ms3.utils.rgba">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">rgba</span></span><a class="headerlink" href="#ms3.utils.rgba" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <code class="xref py py-class docutils literal notranslate"><span class="pre">RGBA</span></code></p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ms3.utils.map_dict">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">map_dict</span></span><a class="reference internal" href="_modules/ms3/utils.html#map_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.map_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Such a dictionary can be mapped to a Series to replace its values but leaving the values absent from the dict keys intact.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.assert_all_lines_equal">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">assert_all_lines_equal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">before</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">after</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">original</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tmp_file</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#assert_all_lines_equal"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.assert_all_lines_equal" title="Permalink to this definition">¶</a></dt>
<dd><p>Compares two multiline strings to test equality.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.assert_dfs_equal">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">assert_dfs_equal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">old</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#assert_dfs_equal"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.assert_dfs_equal" title="Permalink to this definition">¶</a></dt>
<dd><p>Compares the common columns of two DataFrames to test equality. Uses: nan_eq()</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.ambitus2oneliner">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">ambitus2oneliner</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ambitus</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#ambitus2oneliner"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.ambitus2oneliner" title="Permalink to this definition">¶</a></dt>
<dd><p>Turns a <code class="docutils literal notranslate"><span class="pre">metadata['parts'][staff_id]</span></code> dictionary into a string.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.changes2list">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">changes2list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">changes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sort</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#changes2list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.changes2list" title="Permalink to this definition">¶</a></dt>
<dd><p>Splits a string of changes into a list of 4-tuples.</p>
<div class="admonition-example admonition">
<p class="admonition-title">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">changes2list</span><span class="p">(</span><span class="s1">&#39;+#7b5&#39;</span><span class="p">)</span>
<span class="go">[(&#39;+#7&#39;, &#39;+&#39;, &#39;#&#39;, &#39;7&#39;),</span>
<span class="go"> (&#39;b5&#39;,  &#39;&#39;,  &#39;b&#39;, &#39;5&#39;)]</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.changes2tpc">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">changes2tpc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">changes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">numeral</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">root_alterations</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#changes2tpc"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.changes2tpc" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a numeral and changes, computes the intervals that the changes represent.
Changes do not express absolute intervals but instead depend on the numeral and the mode.</p>
<p>Uses: split_scale_degree(), changes2list()</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>changes</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – A string of changes following the DCML harmony standard.</p></li>
<li><p><strong>numeral</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – Roman numeral. If it is preceded by accidentals, it depends on the parameter
<cite>root_alterations</cite> whether these are taken into account.</p></li>
<li><p><strong>minor</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Set to true if the <cite>numeral</cite> occurs in a minor context.</p></li>
<li><p><strong>root_alterations</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Set to True if accidentals of the root should change the result.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.check_labels">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">check_labels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">regex</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'label'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">split_regex</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['mc',</span> <span class="pre">'mc_onset',</span> <span class="pre">'staff',</span> <span class="pre">'voice']</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#check_labels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.check_labels" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks the labels in <code class="docutils literal notranslate"><span class="pre">column</span></code> against <code class="docutils literal notranslate"><span class="pre">regex</span></code> and returns those that don’t match.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – DataFrame containing a column with labels.</p></li>
<li><p><strong>regex</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – Regular expression that incorrect labels don’t match.</p></li>
<li><p><strong>column</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – Column name where the labels are. Defaults to ‘label’</p></li>
<li><p><strong>split_regex</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – If you pass a regular expression (or simple string), it will be used to split the labels before checking the
resulting column separately. Instead, pass True to use the default (a ‘-’ that does not precede a scale degree).</p></li>
<li><p><strong>return_cols</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#list" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a>, optional) – Pass a list of the DataFrame columns that you want to be displayed for the wrong labels.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>df</strong> – DataFrame with wrong labels.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.color2rgba">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">color2rgba</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">c</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#color2rgba"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.color2rgba" title="Permalink to this definition">¶</a></dt>
<dd><p>Pass a RGB or RGBA tuple, HTML color or name to convert it to RGBA</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.color_name2format">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">color_name2format</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'rgb'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#color_name2format"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.color_name2format" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a single CSS3 name into one of ‘HTML’, ‘rgb’, or ‘rgba’</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.color_name2html">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">color_name2html</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#color_name2html"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.color_name2html" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a single CSS3 name into HTML</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.color_name2rgb">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">color_name2rgb</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#color_name2rgb"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.color_name2rgb" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a single CSS3 name into RGB</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.color_name2rgba">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">color_name2rgba</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#color_name2rgba"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.color_name2rgba" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a single CSS3 name into RGBA</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.color_params2rgba">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">color_params2rgba</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">color_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color_html</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color_r</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color_g</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color_b</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color_a</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#color_params2rgba"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.color_params2rgba" title="Permalink to this definition">¶</a></dt>
<dd><p>For functions where the color can be specified in four different ways (HTML string, CSS name,
RGB, or RGBA), convert the given parameters to RGBA.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>color_name</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – As a name you can use CSS colors or MuseScore colors (see <code class="xref py py-attr docutils literal notranslate"><span class="pre">MS3_COLORS</span></code>).</p></li>
<li><p><strong>color_html</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – An HTML color needs to be string of length 6.</p></li>
<li><p><strong>color_r</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>, optional) – If you specify the color as RGB(A), you also need to specify color_g and color_b.</p></li>
<li><p><strong>color_g</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>, optional) – If you specify the color as RGB(A), you also need to specify color_r and color_b.</p></li>
<li><p><strong>color_b</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>, optional) – If you specify the color as RGB(A), you also need to specify color_r and color_g.</p></li>
<li><p><strong>color_a</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>, optional) – If you have specified an RGB color, the alpha value defaults to 255 unless specified otherwise.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">namedtuple</span></code> with four integers.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#ms3.utils.rgba" title="ms3.utils.rgba"><code class="xref py py-obj docutils literal notranslate"><span class="pre">rgba</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.commonprefix">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">commonprefix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">paths</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sep</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'/'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#commonprefix"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.commonprefix" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns common prefix of a list of paths.
Uses: allnamesequal(), itertools.takewhile()</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.compute_mn">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">compute_mn</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">measures</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><span class="pre">DataFrame</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v1.5.2)"><span class="pre">Series</span></a></span></span><a class="reference internal" href="_modules/ms3/utils.html#compute_mn"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.compute_mn" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute measure number integers from a measures table.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>measures</strong> – Measures table with columns [‘mc’, ‘dont_count’, ‘numbering_offset’].</p>
</dd>
</dl>
<p>Returns:</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.compute_mn_playthrough">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">compute_mn_playthrough</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">measures</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><span class="pre">DataFrame</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v1.5.2)"><span class="pre">Series</span></a></span></span><a class="reference internal" href="_modules/ms3/utils.html#compute_mn_playthrough"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.compute_mn_playthrough" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute measure number strings from an unfolded measures table, such that the first occurrence of a measure
number ends on ‘a’, the second one on ‘b’ etc.</p>
<p>The function requires the column ‘dont_count’ in order to correctly number the return of a completing MC after an
incomplete MC with “endrepeat” sign. For example, if a repeated section begins with an upbeat that at first
completes MN 16 it will have mn_playthrough ‘16a’ the first time and ‘32a’ the second time (assuming it completes
the incomplete MN 32).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>measures</strong> – Measures table with columns [‘mc’, ‘mn’, ‘dont_count’]</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>‘mn_playthrough’ Series of disambiguated measure number strings. If no measure repeats, the result will be
equivalent to converting column ‘mn’ to strings and appending ‘a’ to all of them.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.convert_folder">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">convert_folder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">directory</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">paths</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extensions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_extension</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'mscx'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">regex</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'.*'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">suffix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recursive</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ms</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'mscore'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parallel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#convert_folder"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.convert_folder" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert all files in <cite>dir</cite> that have one of the <cite>extensions</cite> to .mscx format using the executable <cite>MS</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>directory</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – Directory in which to look for files to convert.</p></li>
<li><p><strong>paths</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#list" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a> of <cite>dir</cite>) – List of file paths to convert. These are not filtered by any means.</p></li>
<li><p><strong>target_dir</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – Directory where to store converted files. Defaults to <code class="docutils literal notranslate"><span class="pre">directory</span></code></p></li>
<li><p><strong>extensions</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a><em>, </em><em>optional</em>) – If you want to convert only certain formats, give those, e.g. [‘mscz’, ‘xml’]</p></li>
<li><p><strong>recursive</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a><em>, </em><em>optional</em>) – Subdirectories as well.</p></li>
<li><p><strong>MS</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em>, </em><em>optional</em>) – Give the path to the MuseScore executable on your system. Need only if
the command ‘mscore’ does not execute MuseScore on your system.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.decode_harmonies">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">decode_harmonies</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'label'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_layer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_series</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alt_cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'alt_label'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alt_separator</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'-'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#decode_harmonies"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.decode_harmonies" title="Permalink to this definition">¶</a></dt>
<dd><p>MuseScore stores types 2 (Nashville) and 3 (absolute chords) in several columns. This function returns a copy of
the DataFrame <code class="docutils literal notranslate"><span class="pre">Annotations.df</span></code> where the label column contains the strings corresponding to these columns.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – DataFrame with encoded harmony labels as stored in an <code class="xref py py-obj docutils literal notranslate"><span class="pre">Annotations</span></code> object.</p></li>
<li><p><strong>label_col</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – Column name where the main components (&lt;name&gt; tag) are stored, defaults to ‘label’</p></li>
<li><p><strong>keep_layer</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Defaults to True, retaining the ‘harmony_layer’ column with original layers.</p></li>
<li><p><strong>return_series</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – If set to True, only the decoded labels column is returned as a Series rather than a copy of <code class="docutils literal notranslate"><span class="pre">df</span></code>.</p></li>
<li><p><strong>alt_cols</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a> or <a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#list" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a>, optional) – Column(s) with alternative labels that are joined with the label columns using <code class="docutils literal notranslate"><span class="pre">alt_separator</span></code>. Defaults to
‘alt_label’. Suppress by passing None.</p></li>
<li><p><strong>alt_separator</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – Separator for joining <code class="docutils literal notranslate"><span class="pre">alt_cols</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Decoded harmony labels.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a> or <a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.Series</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.df2md">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">df2md</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><span class="pre">DataFrame</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'Overview'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">MarkdownTableWriter</span></span></span><a class="reference internal" href="_modules/ms3/utils.html#df2md"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.df2md" title="Permalink to this definition">¶</a></dt>
<dd><p>Turns a DataFrame into a MarkDown table. The returned writer can be converted into a string.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.dict2oneliner">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">dict2oneliner</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#dict2oneliner"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.dict2oneliner" title="Permalink to this definition">¶</a></dt>
<dd><p>Turns a dictionary into a single-line string without brackets.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.resolve_form_abbreviations">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">resolve_form_abbreviations</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">token</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">abbreviations</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#dict" title="(in Python v3.10)"><span class="pre">dict</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">mc</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fallback_to_lowercase</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></span><a class="reference internal" href="_modules/ms3/utils.html#resolve_form_abbreviations"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.resolve_form_abbreviations" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks for each consecutive substring of the token if it matches one of the given abbreviations and replaces
it with the corresponding long name. Trailing numbers are separated by a space in this case.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>token</strong> – Individual token after splitting alternative readings.</p></li>
<li><p><strong>abbreviations</strong> – {abbreviation -&gt; long name} dict for string replacement.</p></li>
<li><p><strong>fallback_to_lowercase</strong> – By default, the substrings are checked against the dictionary keys and, if unsuccessful,
again in lowercase. Pass False to use only the original string.</p></li>
</ul>
</dd>
</dl>
<p>Returns:</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.distribute_tokens_over_levels">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">distribute_tokens_over_levels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">levels</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Collection" title="(in Python v3.10)"><span class="pre">Collection</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tokens</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Collection" title="(in Python v3.10)"><span class="pre">Collection</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mc</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">abbreviations</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#dict" title="(in Python v3.10)"><span class="pre">dict</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Dict" title="(in Python v3.10)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Tuple" title="(in Python v3.10)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/ms3/utils.html#distribute_tokens_over_levels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.distribute_tokens_over_levels" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes the regex matches of one label and turns them into as many {layer -&gt; token} pairs as the label contains
tokens.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>levels</strong> – Collection of strings indicating analytical layers.</p></li>
<li><p><strong>tokens</strong> – Collection of tokens coming along, same size as levels.</p></li>
<li><p><strong>mc</strong> – Pass the label’s label’s MC to display it in error messages.</p></li>
<li><p><strong>abbreviations</strong> – {abbrevation -&gt; long name} mapping abbreviations to what they are to be replaced with</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A {(form_tree, level) -&gt; token} dict where form_tree is either ‘’ or a letter between a-h identifying one of
several trees annotated in parallel.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.expand_single_form_label">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">expand_single_form_label</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">label</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">default_abbreviations</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Dict" title="(in Python v3.10)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Tuple" title="(in Python v3.10)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/ms3/utils.html#expand_single_form_label"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.expand_single_form_label" title="Permalink to this definition">¶</a></dt>
<dd><p>Splits a form label and applies distribute_tokens_over_levels()</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>label</strong> – Complete form label including indications of analytical layer(s).</p></li>
<li><p><strong>default_abbreviations</strong> – By default, each token component is checked against a mapping from abbreviations to
long names. Pass False to prevent that.</p></li>
<li><p><strong>**kwargs</strong> – Abbreviation=’long name’ mappings to resolve individual abbreviations</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A DataFrame with one column added per hierarchical layer of analysis, starting from level 0.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.expand_form_labels">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">expand_form_labels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fl</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><span class="pre">DataFrame</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">fill_mn_until</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default_abbreviations</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><span class="pre">DataFrame</span></a></span></span><a class="reference internal" href="_modules/ms3/utils.html#expand_form_labels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.expand_form_labels" title="Permalink to this definition">¶</a></dt>
<dd><p>Expands form labels into a hierarchical view of levels in a table.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fl</strong> – A DataFrame containing raw form labels as retrieved from <code class="xref py py-meth docutils literal notranslate"><span class="pre">ms3.Score.mscx.form_labels()</span></code>.</p></li>
<li><p><strong>fill_mn_until</strong> – Pass the last measure number if you want every measure of the piece have a row in the tree view,
even if it doesn’t come with a form label. This may be desired for increased intuition of proportions,
rather than seeing all form labels right below each other. In order to add the empty rows, even without
knowing the number of measures, pass -1.</p></li>
<li><p><strong>default_abbreviations</strong> – By default, each token component is checked against a mapping from abbreviations to
long names. Pass False to prevent that.</p></li>
<li><p><strong>**kwargs</strong> – Abbreviation=’long name’ mappings to resolve individual abbreviations</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A DataFrame with one column added per hierarchical layer of analysis, starting from level 0.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.fifths2acc">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">fifths2acc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fifths</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></span><a class="reference internal" href="_modules/ms3/utils.html#fifths2acc"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.fifths2acc" title="Permalink to this definition">¶</a></dt>
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">fifths2acc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fifths</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v1.5.2)"><span class="pre">Series</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v1.5.2)"><span class="pre">Series</span></a></span></span></dt>
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">fifths2acc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fifths</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><span class="pre">ndarray</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Any" title="(in Python v3.10)"><span class="pre">Any</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.dtype.html#numpy.dtype" title="(in NumPy v1.23)"><span class="pre">dtype</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><span class="pre">ndarray</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Any" title="(in Python v3.10)"><span class="pre">Any</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.dtype.html#numpy.dtype" title="(in NumPy v1.23)"><span class="pre">dtype</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span></dt>
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">fifths2acc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fifths</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></span></dt>
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">fifths2acc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fifths</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Tuple" title="(in Python v3.10)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Tuple" title="(in Python v3.10)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></span></dt>
<dd><p>Returns accidentals for a stack of fifths that can be combined with a
basic representation of the seven steps.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.fifths2iv">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">fifths2iv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fifths</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">smallest</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">perfect</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'P'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">major</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'M'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minor</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'m'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">augmented</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'a'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">diminished</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'d'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></span><a class="reference internal" href="_modules/ms3/utils.html#fifths2iv"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.fifths2iv" title="Permalink to this definition">¶</a></dt>
<dd><p>Return interval name of a stack of fifths such that 0 = ‘P1’, -1 = ‘P4’, -2 = ‘m7’, 4 = ‘M3’ etc. If you pass
<code class="docutils literal notranslate"><span class="pre">smallest=True</span></code>, intervals of a fifth or greater will be inverted (e.g. ‘m6’ =&gt; ‘-M3’ and ‘D5’ =&gt; ‘-A4’).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fifths</strong> – Number of fifths representing the inveral</p></li>
<li><p><strong>smallest</strong> – Pass True if you want to wrap intervals of a fifths and larger to the downward counterpart.</p></li>
<li><p><strong>perfect</strong> – String representing the perfect interval quality, defaults to ‘P’.</p></li>
<li><p><strong>major</strong> – String representing the major interval quality, defaults to ‘M’.</p></li>
<li><p><strong>minor</strong> – String representing the minor interval quality, defaults to ‘m’.</p></li>
<li><p><strong>augmented</strong> – String representing the augmented interval quality, defaults to ‘a’.</p></li>
<li><p><strong>diminished</strong> – String representing the diminished interval quality, defaults to ‘d’.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Name of the interval as a string.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.tpc2name">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">tpc2name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tpc</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">ms</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minor</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></span><a class="reference internal" href="_modules/ms3/utils.html#tpc2name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.tpc2name" title="Permalink to this definition">¶</a></dt>
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">tpc2name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tpc</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v1.5.2)"><span class="pre">Series</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">ms</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minor</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v1.5.2)"><span class="pre">Series</span></a></span></span></dt>
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">tpc2name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tpc</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><span class="pre">ndarray</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Any" title="(in Python v3.10)"><span class="pre">Any</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.dtype.html#numpy.dtype" title="(in NumPy v1.23)"><span class="pre">dtype</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ms</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minor</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><span class="pre">ndarray</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Any" title="(in Python v3.10)"><span class="pre">Any</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.dtype.html#numpy.dtype" title="(in NumPy v1.23)"><span class="pre">dtype</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span></dt>
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">tpc2name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tpc</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ms</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minor</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></span></dt>
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">tpc2name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tpc</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Tuple" title="(in Python v3.10)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ms</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minor</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Tuple" title="(in Python v3.10)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></span></dt>
<dd><p>Turn a tonal pitch class (TPC) into a name or perform the operation on a collection of integers.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tpc</strong> – </p></li>
<li><p><strong>ms</strong> – </p></li>
<li><p><strong>minor</strong> – </p></li>
</ul>
</dd>
</dl>
<p>Returns:</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.fifths2name">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">fifths2name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fifths</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">midi</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ms</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">minor</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></span><a class="reference internal" href="_modules/ms3/utils.html#fifths2name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.fifths2name" title="Permalink to this definition">¶</a></dt>
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">fifths2name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fifths</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">pd.Series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">midi</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">pd.Series</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ms</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">minor</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">pd.Series</span></span></span></dt>
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">fifths2name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fifths</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">NDArray</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">midi</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">NDArray</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ms</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">minor</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">NDArray</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></span></dt>
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">fifths2name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fifths</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">midi</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ms</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">minor</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></span></dt>
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">fifths2name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fifths</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Tuple" title="(in Python v3.10)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">midi</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ms</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">minor</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Tuple" title="(in Python v3.10)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></span></dt>
<dd><dl class="simple">
<dt>Return note name of a stack of fifths such that</dt><dd><p>0 = C, -1 = F, -2 = Bb, 1 = G etc.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fifths</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>) – Tonal pitch class to turn into a note name.</p></li>
<li><p><strong>midi</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>) – In order to include the octave into the note name,
pass the corresponding MIDI pitch.</p></li>
<li><p><strong>ms</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Pass True if <code class="docutils literal notranslate"><span class="pre">fifths</span></code> is a MuseScore TPC, i.e. C = 14</p></li>
<li><p><strong>minor</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Pass True if the string is to be returned as lowercase.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.fifths2pc">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">fifths2pc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fifths</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#fifths2pc"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.fifths2pc" title="Permalink to this definition">¶</a></dt>
<dd><p>Turn a stack of fifths into a chromatic pitch class.
Uses: map2elements()</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.fifths2rn">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">fifths2rn</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fifths</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auto_key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#fifths2rn"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.fifths2rn" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Return Roman numeral of a stack of fifths such that</dt><dd><p>0 = I, -1 = IV, 1 = V, -2 = bVII in major, VII in minor, etc.
Uses: map2elements(), is_minor_mode()</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>auto_key</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – By default, the returned Roman numerals are uppercase. Pass True to pass upper-
or lowercase according to the position in the scale.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.fifths2sd">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">fifths2sd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fifths</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#fifths2sd"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.fifths2sd" title="Permalink to this definition">¶</a></dt>
<dd><p>Return scale degree of a stack of fifths such that
0 = ‘1’, -1 = ‘4’, -2 = ‘b7’ in major, ‘7’ in minor etc.
Uses: map2elements(), fifths2str()</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.get_musescore">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">get_musescore</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">MS</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#get_musescore"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.get_musescore" title="Permalink to this definition">¶</a></dt>
<dd><p>Tests whether a MuseScore executable can be found on the system.
Uses: test_binary()</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>MS</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – A path to the executable, installed command, or one of the keywords {‘auto’, ‘win’, ‘mac’}</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Path to the executable if found or None.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.get_path_component">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">get_path_component</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">after</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#get_path_component"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.get_path_component" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns only the path’s subfolders below <code class="docutils literal notranslate"><span class="pre">after</span></code>. If <code class="docutils literal notranslate"><span class="pre">after</span></code> is the last
component, ‘.’ is returned.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.group_id_tuples">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">group_id_tuples</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">l</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#group_id_tuples"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.group_id_tuples" title="Permalink to this definition">¶</a></dt>
<dd><p>Turns a list of (key, ix) into a {key: [ix]}</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.html2format">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">html2format</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'name'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">html_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'color_html'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#html2format"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.html2format" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts the HTML column of a DataFrame into ‘name’, ‘rgb , or ‘rgba’.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.html_color2format">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">html_color2format</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">h</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'name'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#html_color2format"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.html_color2format" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a single HTML color into ‘name’, ‘rgb’, or  ‘rgba’.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.html_color2name">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">html_color2name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">h</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#html_color2name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.html_color2name" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a HTML color into its CSS3 name or itself if there is none.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.html_color2rgb">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">html_color2rgb</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">h</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#html_color2rgb"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.html_color2rgb" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a HTML color into RGB.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.html_color2rgba">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">html_color2rgba</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">h</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#html_color2rgba"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.html_color2rgba" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a HTML color into RGBA.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.interval_overlap">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">interval_overlap</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">a</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">closed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#interval_overlap"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.interval_overlap" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the overlap of two pd.Intervals as a new pd.Interval.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>a</strong> (<a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Interval.html#pandas.Interval" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.Interval</span></code></a>) – Intervals for which to compute the overlap.</p></li>
<li><p><strong>b</strong> (<a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Interval.html#pandas.Interval" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.Interval</span></code></a>) – Intervals for which to compute the overlap.</p></li>
<li><p><strong>closed</strong> (<em>{'left'</em><em>, </em><em>'right'</em><em>, </em><em>'both'</em><em>, </em><em>'neither'}</em><em>, </em><em>optional</em>) – If no value is passed, the closure of the returned interval is inferred from <code class="docutils literal notranslate"><span class="pre">a</span></code> and <code class="docutils literal notranslate"><span class="pre">b</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Interval.html#pandas.Interval" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.Interval</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.interval_overlap_size">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">interval_overlap_size</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">a</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decimals</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#interval_overlap_size"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.interval_overlap_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the size of the overlap of two pd.Intervals.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.is_any_row_equal">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">is_any_row_equal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#is_any_row_equal"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.is_any_row_equal" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True if any two rows of the two DataFrames contain the same value tuples.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.is_minor_mode">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">is_minor_mode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fifths</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#is_minor_mode"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.is_minor_mode" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True if the scale degree <cite>fifths</cite> naturally has a minor third in the scale.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.iter_nested">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">iter_nested</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nested</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#iter_nested"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.iter_nested" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate through any nested structure of lists and tuples from left to right.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.iter_selection">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">iter_selection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">collectio</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">selector</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">opposite</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#iter_selection"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.iter_selection" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a generator of <code class="docutils literal notranslate"><span class="pre">collectio</span></code>. <code class="docutils literal notranslate"><span class="pre">selector</span></code> can be a collection of index numbers to select or unselect
elements – depending on <code class="docutils literal notranslate"><span class="pre">opposite</span></code></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.first_level_subdirs">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">first_level_subdirs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#first_level_subdirs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.first_level_subdirs" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the directory names contained in path.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.first_level_files_and_subdirs">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">first_level_files_and_subdirs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#first_level_files_and_subdirs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.first_level_files_and_subdirs" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the directory names and filenames contained in path.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.get_first_level_corpora">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">get_first_level_corpora</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/ms3/utils.html#get_first_level_corpora"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.get_first_level_corpora" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks the first-level subdirectories of path for indicators of being a corpus. If one of them shows an
indicator (presence of a ‘metadata.tsv’ file, or of a ‘.git’ folder or any of the default folder names), returns
a list of all subdirectories.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.join_tsvs">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">join_tsvs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dfs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sort_cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#join_tsvs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.join_tsvs" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs outer join on the passed DataFrames based on ‘mc’ and ‘mc_onset’, if any.
Uses: functools.reduce(), sort_cols(), sort_note_lists()</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dfs</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">Collection</span></code>) – Collection of DataFrames to join.</p></li>
<li><p><strong>sort_cols</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – If you pass True, the columns after those defined in <code class="xref py py-attr docutils literal notranslate"><span class="pre">STANDARD_COLUMN_ORDER</span></code>
will be sorted alphabetically.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.parse_interval_index_column">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">parse_interval_index_column</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">closed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'left'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#parse_interval_index_column"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.parse_interval_index_column" title="Permalink to this definition">¶</a></dt>
<dd><p>Turns a column of strings in the form ‘[0.0, 1.1)’ into a <a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.IntervalIndex</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – </p></li>
<li><p><strong>column</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – Name of the column containing strings. If not specified, use the index.</p></li>
<li><p><strong>closed</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – On whot side the intervals should be closed. Defaults to ‘left’.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.IntervalIndex</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.load_tsv">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">load_tsv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sep</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'\t'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">converters</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dtype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stringtype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><span class="pre">DataFrame</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/ms3/utils.html#load_tsv"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.load_tsv" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads the TSV file <cite>path</cite> while applying correct type conversion and parsing tuples.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – Path to a TSV file as output by format_data().</p></li>
<li><p><strong>index_col</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#list" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a>, optional) – By default, the first two columns are loaded as MultiIndex.
The first level distinguishes pieces and the second level the elements within.</p></li>
<li><p><strong>converters</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#dict" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>, optional) – Enhances or overwrites the mapping from column names to types included the constants.</p></li>
<li><p><strong>dtype</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#dict" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>, optional) – Enhances or overwrites the mapping from column names to types included the constants.</p></li>
<li><p><strong>stringtype</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – If you’re using pandas &gt;= 1.0.0 you might want to set this to True in order
to be using the new <cite>string</cite> datatype that includes the new null type <cite>pd.NA</cite>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.make_csvw_jsonld">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">make_csvw_jsonld</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">columns</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Collection" title="(in Python v3.10)"><span class="pre">Collection</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">urls</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Collection" title="(in Python v3.10)"><span class="pre">Collection</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">description</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#dict" title="(in Python v3.10)"><span class="pre">dict</span></a></span></span><a class="reference internal" href="_modules/ms3/utils.html#make_csvw_jsonld"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.make_csvw_jsonld" title="Permalink to this definition">¶</a></dt>
<dd><p>W3C’s CSV on the Web Primer: <a class="reference external" href="https://www.w3.org/TR/tabular-data-primer/">https://www.w3.org/TR/tabular-data-primer/</a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.make_continuous_offset_series">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">make_continuous_offset_series</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">measures</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">quarters</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">negative_anacrusis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#make_continuous_offset_series"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.make_continuous_offset_series" title="Permalink to this definition">¶</a></dt>
<dd><p>Accepts a measure table without ‘quarterbeats’ column and computes each MC’s offset from the piece’s beginning.
Deal with voltas before passing the table.</p>
<p>If you need an offset_dict and the measures already come with a ‘quarterbeats’ column, you can call
<a class="reference internal" href="#ms3.utils.make_offset_dict_from_measures" title="ms3.utils.make_offset_dict_from_measures"><code class="xref py py-func docutils literal notranslate"><span class="pre">make_offset_dict_from_measures()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>measures</strong> (<a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – A measures table with ‘normal’ RangeIndex containing the column ‘act_durs’ and one of
‘mc’ or ‘mc_playthrough’ (if repeats were unfolded).</p></li>
<li><p><strong>quarters</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – By default, the continuous offsets are expressed in quarter notes. Pass false to leave them as fractions
of a whole note.</p></li>
<li><p><strong>negative_anacrusis</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/fractions.html#fractions.Fraction" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">fractions.Fraction</span></code></a>) – By default, the first value is 0. If you pass a fraction here, the first value will be its negative and the
second value will be 0.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Cumulative sum of the actual durations, shifted down by 1. Compared to the original DataFrame it has
length + 2 because it adds the end value twice, once with the next index value, and once with the index ‘end’.
Otherwise the end value would be lost due to the shifting.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.Series</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.make_offset_dict_from_measures">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">make_offset_dict_from_measures</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">measures</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><span class="pre">DataFrame</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">all_endings</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#dict" title="(in Python v3.10)"><span class="pre">dict</span></a></span></span><a class="reference internal" href="_modules/ms3/utils.html#make_offset_dict_from_measures"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.make_offset_dict_from_measures" title="Permalink to this definition">¶</a></dt>
<dd><p>Turn a measure table that comes with a ‘quarterbeats’ column into a dictionary that maps MCs (measure counts)
to their quarterbeat offset from the piece’s beginning, used for computing quarterbeats for other facets.</p>
<p>This function is used for the default case. If you need more options, e.g. an offset dict from unfolded
measures or expressed in whole notes or with negative anacrusis, use
<a class="reference internal" href="#ms3.utils.make_continuous_offset_series" title="ms3.utils.make_continuous_offset_series"><code class="xref py py-func docutils literal notranslate"><span class="pre">make_continuous_offset_series()</span></code></a> instead.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>measures</strong> – Measures table containing a ‘quarterbeats’ column.</p></li>
<li><p><strong>all_endings</strong> – Uses the column ‘quarterbeats_all_endings’ of the measures table if it has one, otherwise
falls back to the default ‘quarterbeats’.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>{MC -&gt; quarterbeat_offset}. Offsets are Fractions. If <code class="docutils literal notranslate"><span class="pre">all_endings</span></code> is not set to <code class="docutils literal notranslate"><span class="pre">True</span></code>,
values for MCs that are part of a first ending (or third or larger) are NA.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.make_id_tuples">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">make_id_tuples</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#make_id_tuples"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.make_id_tuples" title="Permalink to this definition">¶</a></dt>
<dd><p>For a given key, this function returns index tuples in the form [(key, 0), …, (key, n)]</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>indices in the form [(key, 0), …, (key, n)]</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#list" title="(in Python v3.10)">list</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.make_interval_index_from_breaks">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">make_interval_index_from_breaks</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">S</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">closed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'left'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'interval'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#make_interval_index_from_breaks"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.make_interval_index_from_breaks" title="Permalink to this definition">¶</a></dt>
<dd><p>Interpret a Series as interval breaks and make an IntervalIndex out of it.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>S</strong> (<a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.Series</span></code></a>) – Interval breaks. It is assumed that the breaks are sorted.</p></li>
<li><p><strong>end_value</strong> (<em>numeric</em><em>, </em><em>optional</em>) – Often you want to pass the right border of the last interval.</p></li>
<li><p><strong>closed</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – Defaults to ‘left’. Argument passed to to <a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.IntervalIndex.from_breaks.html#pandas.IntervalIndex.from_breaks" title="(in pandas v1.5.2)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pandas.IntervalIndex.from_breaks()</span></code></a>.</p></li>
<li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – Name of the created index. Defaults to ‘interval’.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.IntervalIndex</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.make_name_columns">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">make_name_columns</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#make_name_columns"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.make_name_columns" title="Permalink to this definition">¶</a></dt>
<dd><p>Relies on the columns <code class="docutils literal notranslate"><span class="pre">localkey</span></code> and <code class="docutils literal notranslate"><span class="pre">globalkey</span></code> to transform the columns <code class="docutils literal notranslate"><span class="pre">root</span></code> and <code class="docutils literal notranslate"><span class="pre">bass_notes</span></code> from
scale degrees (expressed as fifths) to absolute note names, e.g. in C major: 0 =&gt; ‘C’, 7 =&gt; ‘C#’, -5 =&gt; ‘Db’
Uses: transform(), scale_degree2name</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.make_playthrough2mc">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">make_playthrough2mc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">measures</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><span class="pre">DataFrame</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v1.5.2)"><span class="pre">Series</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/ms3/utils.html#make_playthrough2mc"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.make_playthrough2mc" title="Permalink to this definition">¶</a></dt>
<dd><p>Turns the column ‘next’ into a mapping of playthrough_mc -&gt; mc.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.make_playthrough_info">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">make_playthrough_info</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">measures</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><span class="pre">DataFrame</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><span class="pre">DataFrame</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v1.5.2)"><span class="pre">Series</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/ms3/utils.html#make_playthrough_info"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.make_playthrough_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Turns a measures table into a DataFrame or Series that can be passed as argument to <a class="reference internal" href="#ms3.utils.unfold_repeats" title="ms3.utils.unfold_repeats"><code class="xref py py-func docutils literal notranslate"><span class="pre">unfold_repeats()</span></code></a>.
The return type is DataFrame if the unfolded measures table contains an ‘mn_playthrough’ column, otherwise it
is equal to the result of <a class="reference internal" href="#ms3.utils.make_playthrough2mc" title="ms3.utils.make_playthrough2mc"><code class="xref py py-func docutils literal notranslate"><span class="pre">make_playthrough2mc()</span></code></a>. Hence, the purpose of the function is to add an
‘mn_playthrough’ column to unfolded facets whenever possible.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.map2elements">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">map2elements</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">e</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">f</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#map2elements"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.map2elements" title="Permalink to this definition">¶</a></dt>
<dd><p>If <cite>e</cite> is an iterable, <cite>f</cite> is applied to all elements.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.merge_ties">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">merge_ties</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_dropped</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">perform_checks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#merge_ties"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.merge_ties" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>In a note list, merge tied notes to single events with accumulated durations.</dt><dd><p>Input dataframe needs columns [‘duration’, ‘tied’, ‘midi’, ‘staff’]. This
function does not handle correctly overlapping ties on the same pitch since
it doesn’t take into account the notational layers (‘voice’).</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> – </p></li>
<li><p><strong>return_dropped</strong> – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.metadata2series">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">metadata2series</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#dict" title="(in Python v3.10)"><span class="pre">dict</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v1.5.2)"><span class="pre">Series</span></a></span></span><a class="reference internal" href="_modules/ms3/utils.html#metadata2series"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.metadata2series" title="Permalink to this definition">¶</a></dt>
<dd><p>Turns a metadata dict into a pd.Series() (for storing in a DataFrame)
Uses: ambitus2oneliner(), dict2oneliner(), parts_info()</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A series allowing for storing metadata as a row of a DataFrame.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.Series</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.midi2octave">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">midi2octave</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">midi</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">fifths</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span></span><a class="reference internal" href="_modules/ms3/utils.html#midi2octave"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.midi2octave" title="Permalink to this definition">¶</a></dt>
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">midi2octave</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">midi</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v1.5.2)"><span class="pre">Series</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">fifths</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v1.5.2)"><span class="pre">Series</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v1.5.2)"><span class="pre">Series</span></a></span></span></dt>
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">midi2octave</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">midi</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><span class="pre">ndarray</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Any" title="(in Python v3.10)"><span class="pre">Any</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.dtype.html#numpy.dtype" title="(in NumPy v1.23)"><span class="pre">dtype</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fifths</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><span class="pre">ndarray</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Any" title="(in Python v3.10)"><span class="pre">Any</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.dtype.html#numpy.dtype" title="(in NumPy v1.23)"><span class="pre">dtype</span></a><span class="p"><span class="pre">[</span></span><span class="pre">ScalarType</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><span class="pre">ndarray</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Any" title="(in Python v3.10)"><span class="pre">Any</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.dtype.html#numpy.dtype" title="(in NumPy v1.23)"><span class="pre">dtype</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span></dt>
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">midi2octave</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">midi</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fifths</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span></span></dt>
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">midi2octave</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">midi</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Tuple" title="(in Python v3.10)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fifths</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Tuple" title="(in Python v3.10)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Tuple" title="(in Python v3.10)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span></span></dt>
<dd><dl class="simple">
<dt>For a given MIDI pitch, calculate the octave. Middle octave = 4</dt><dd><p>Uses: midi_and_tpc2octave(), map2elements()</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>midi</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>) – MIDI pitch (positive integer)</p></li>
<li><p><strong>fifths</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>, optional) – To be precise, for some Tonal Pitch Classes, the octave deviates
from the simple formula <code class="docutils literal notranslate"><span class="pre">MIDI</span> <span class="pre">//</span> <span class="pre">12</span> <span class="pre">-</span> <span class="pre">1</span></code>, e.g. for B# or Cb.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.mn2int">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">mn2int</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mn_series</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#mn2int"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.mn2int" title="Permalink to this definition">¶</a></dt>
<dd><p>Turn a series of measure numbers parsed as strings into two integer columns ‘mn’ and ‘volta’.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.name2format">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">name2format</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'html'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'color_name'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#name2format"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.name2format" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a column with CSS3 names into ‘html’, ‘rgb’, or  ‘rgba’.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.name2fifths">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">name2fifths</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nn</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#name2fifths"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.name2fifths" title="Permalink to this definition">¶</a></dt>
<dd><p>Turn a note name such as <cite>Ab</cite> into a tonal pitch class, such that -1=F, 0=C, 1=G etc.
Uses: split_note_name()</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.name2pc">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">name2pc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nn</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#name2pc"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.name2pc" title="Permalink to this definition">¶</a></dt>
<dd><p>Turn a note name such as <cite>Ab</cite> into a tonal pitch class, such that -1=F, 0=C, 1=G etc.
Uses: split_note_name()</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.nan_eq">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">nan_eq</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">a</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#nan_eq"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.nan_eq" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True if a and b are equal or both null. Works on two Series or two elements.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.next2sequence">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">next2sequence</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">next_col</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v1.5.2)"><span class="pre">Series</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/ms3/utils.html#next2sequence"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.next2sequence" title="Permalink to this definition">¶</a></dt>
<dd><p>Turns a ‘next’ column into the correct sequence of MCs corresponding to unfolded repetitions.
Requires that the Series’ index be the MCs as in <code class="docutils literal notranslate"><span class="pre">measures.set_index('mc').next</span></code>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.no_collections_no_booleans">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">no_collections_no_booleans</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coll_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bool_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#no_collections_no_booleans"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.no_collections_no_booleans" title="Permalink to this definition">¶</a></dt>
<dd><p>Cleans the DataFrame columns [‘next’, ‘chord_tones’, ‘added_tones’, ‘volta_mcs] from tuples and the columns
[‘globalkey_is_minor’, ‘localkey_is_minor’] from booleans, converting them all to integers</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.parts_info">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">parts_info</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#parts_info"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.parts_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Turns a (nested) <code class="docutils literal notranslate"><span class="pre">metadata['parts']</span></code> dict into a flat dict based on staves.</p>
<div class="admonition-example admonition">
<p class="admonition-title">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">mscx</span><span class="o">.</span><span class="n">metadata_from_parsed</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">parts_info</span><span class="p">(</span><span class="n">d</span><span class="p">[</span><span class="s1">&#39;parts&#39;</span><span class="p">])</span>
<span class="go">{&#39;staff_1_instrument&#39;: &#39;Voice&#39;,</span>
<span class="go"> &#39;staff_1_ambitus&#39;: &#39;66-76 (F#4-E5)&#39;,</span>
<span class="go"> &#39;staff_2_instrument&#39;: &#39;Voice&#39;,</span>
<span class="go"> &#39;staff_2_ambitus&#39;: &#39;55-69 (G3-A4)&#39;,</span>
<span class="go"> &#39;staff_3_instrument&#39;: &#39;Voice&#39;,</span>
<span class="go"> &#39;staff_3_ambitus&#39;: &#39;48-67 (C3-G4)&#39;,</span>
<span class="go"> &#39;staff_4_instrument&#39;: &#39;Voice&#39;,</span>
<span class="go"> &#39;staff_4_ambitus&#39;: &#39;41-60 (F2-C4)&#39;}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.path2type">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">path2type</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#path2type"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.path2type" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine a file’s type by scanning its path for default components in the constant STANDARD_NAMES.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>path</strong> – </p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.pretty_dict">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">pretty_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ugly_dict</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#dict" title="(in Python v3.10)"><span class="pre">dict</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">heading_key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">heading_value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></span><a class="reference internal" href="_modules/ms3/utils.html#pretty_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.pretty_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Turns a dictionary into a string where the keys are printed in a column, separated by ‘-&gt;’.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.resolve_dir">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">resolve_dir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#resolve_dir"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.resolve_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Resolves ‘~’ to HOME directory and turns <code class="docutils literal notranslate"><span class="pre">d</span></code> into an absolute path.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.rgb2format">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">rgb2format</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'html'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">r_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'color_r'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">g_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'color_g'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'color_b'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#rgb2format"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.rgb2format" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts three RGB columns into a color_html or color_name column.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.rgb_tuple2format">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">rgb_tuple2format</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">t</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'html'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#rgb_tuple2format"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.rgb_tuple2format" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a single RGB tuple into ‘HTML’ or ‘name’.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.rgb_tuple2html">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">rgb_tuple2html</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">t</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#rgb_tuple2html"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.rgb_tuple2html" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a single RGB tuple into HTML.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.rgb_tuple2name">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">rgb_tuple2name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">t</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#rgb_tuple2name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.rgb_tuple2name" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a single RGB tuple into its CSS3 name or to HTML if there is none.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.roman_numeral2fifths">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">roman_numeral2fifths</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rn</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">global_minor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#roman_numeral2fifths"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.roman_numeral2fifths" title="Permalink to this definition">¶</a></dt>
<dd><p>Turn a Roman numeral into a TPC interval (e.g. for transposition purposes).
Uses: split_scale_degree()</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.roman_numeral2semitones">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">roman_numeral2semitones</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rn</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">global_minor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#roman_numeral2semitones"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.roman_numeral2semitones" title="Permalink to this definition">¶</a></dt>
<dd><p>Turn a Roman numeral into a semitone distance from the root (0-11).
Uses: split_scale_degree()</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.scale_degree2name">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">scale_degree2name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sd</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">localkey</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">globalkey</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#scale_degree2name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.scale_degree2name" title="Permalink to this definition">¶</a></dt>
<dd><p>For example, scale degree -1 (fifths, i.e. the subdominant) of the localkey of ‘VI’ within ‘E’ minor is ‘F’.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sd</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>) – Scale degree expressed as distance from the tonic in fifths.</p></li>
<li><p><strong>localkey</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – Local key in which the scale degree is situated, as Roman numeral (can include slash notation such as V/ii).</p></li>
<li><p><strong>globalkey</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – Global key as a note name. E.g. <cite>Ab</cite> for Ab major, or ‘c#’ for C# minor.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The given scale degree, expressed as a note name.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.scan_directory">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">scan_directory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">directory</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_re</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'.*'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">folder_re</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'.*'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude_re</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'^(\\.|_)'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recursive</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subdirs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">progress</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude_files_only</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_metadata</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#scan_directory"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.scan_directory" title="Permalink to this definition">¶</a></dt>
<dd><p>Generator of file names in <code class="docutils literal notranslate"><span class="pre">directory</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dir</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – Directory to be scanned for files.</p></li>
<li><p><strong>file_re</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a> or <code class="xref py py-obj docutils literal notranslate"><span class="pre">re.Pattern</span></code>, optional) – Regular expressions for filtering certain file names or folder names.
The regEx are checked with search(), not match(), allowing for fuzzy search.</p></li>
<li><p><strong>folder_re</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a> or <code class="xref py py-obj docutils literal notranslate"><span class="pre">re.Pattern</span></code>, optional) – Regular expressions for filtering certain file names or folder names.
The regEx are checked with search(), not match(), allowing for fuzzy search.</p></li>
<li><p><strong>recursive</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – By default, sub-directories are recursively scanned. Pass False to scan only <code class="docutils literal notranslate"><span class="pre">dir</span></code>.</p></li>
<li><p><strong>subdirs</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – By default, full file paths are returned. Pass True to return (path, name) tuples instead.</p></li>
<li><p><strong>progress</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – By default, the scanning process is shown. Pass False to prevent.</p></li>
<li><p><strong>exclude_files_only</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – By default, <code class="docutils literal notranslate"><span class="pre">exclude_re</span></code> excludes files and folder. Pass True to exclude only files matching the regEx.</p></li>
<li><p><strong>return_metadata</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Independent of file_re, files called ‘metadata.tsv’ are always yielded.</p></li>
</ul>
</dd>
<dt class="field-even">Yields<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a> – Full path.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.column_order">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">column_order</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">first_cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sort</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#column_order"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.column_order" title="Permalink to this definition">¶</a></dt>
<dd><p>Sort DataFrame columns so that they start with the order of <code class="docutils literal notranslate"><span class="pre">first_cols</span></code>, followed by those not included.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.sort_note_list">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">sort_note_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mc_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'mc'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mc_onset_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'mc_onset'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">midi_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'midi'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">duration_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'duration'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#sort_note_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.sort_note_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Sort every measure (MC) by [‘mc_onset’, ‘midi’, ‘duration’] while leaving gracenotes’ order (duration=0) intact.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> – </p></li>
<li><p><strong>mc_col</strong> – </p></li>
<li><p><strong>mc_onset_col</strong> – </p></li>
<li><p><strong>midi_col</strong> – </p></li>
<li><p><strong>duration_col</strong> – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.sort_tpcs">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">sort_tpcs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tpcs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ascending</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#sort_tpcs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.sort_tpcs" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Sort tonal pitch classes by order on the piano.</dt><dd><p>Uses: fifths2pc()</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tpcs</strong> (collection of <a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>) – Tonal pitch classes to sort.</p></li>
<li><p><strong>ascending</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Pass False to sort by descending order.</p></li>
<li><p><strong>start</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>, optional) – Start on or above this TPC.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.split_alternatives">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">split_alternatives</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'label'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">regex</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'-(?!(\\d|b+\\d|\\#+\\d))'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inplace</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alternatives_only</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#split_alternatives"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.split_alternatives" title="Permalink to this definition">¶</a></dt>
<dd><p>Splits labels that come with an alternative separated by ‘-’ and adds
a new column. Only one alternative is taken into account. <cite>df</cite> is
mutated inplace.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – Dataframe where one column contains DCML chord labels.</p></li>
<li><p><strong>column</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – Name of the column that holds the harmony labels.</p></li>
<li><p><strong>regex</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – The regular expression (or simple string) that detects the character combination used to separate alternative annotations.
By default, alternatives are separated by a ‘-’ that does not precede a scale degree such as ‘b6’ or ‘3’.</p></li>
<li><p><strong>max</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>, optional) – Maximum number of admitted alternatives, defaults to 2.</p></li>
<li><p><strong>inplace</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Pass True if you want to mutate <code class="docutils literal notranslate"><span class="pre">df</span></code>.</p></li>
<li><p><strong>alternatives_only</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – By default the alternatives are added to the original DataFrame (<code class="docutils literal notranslate"><span class="pre">inplace</span></code> or not).
Pass True if you just need the split alternatives.</p></li>
</ul>
</dd>
</dl>
<div class="admonition-example admonition">
<p class="admonition-title">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">labels</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;labels.csv&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">split_alternatives</span><span class="p">(</span><span class="n">labels</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.split_note_name">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">split_note_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nn</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">count</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#split_note_name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.split_note_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Splits a note name such as ‘Ab’ into accidentals and name.</p>
<dl>
<dt>nn<span class="classifier"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a></span></dt><dd><p>Note name.</p>
</dd>
<dt>count<span class="classifier"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional</span></dt><dd><p>Pass True to get the accidentals as integer rather than as string.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.split_scale_degree">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">split_scale_degree</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sd</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">count</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#split_scale_degree"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.split_scale_degree" title="Permalink to this definition">¶</a></dt>
<dd><p>Splits a scale degree such as ‘bbVI’ or ‘b6’ into accidentals and numeral.</p>
<dl>
<dt>sd<span class="classifier"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a></span></dt><dd><p>Scale degree.</p>
</dd>
<dt>count<span class="classifier"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional</span></dt><dd><p>Pass True to get the accidentals as integer rather than as string.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.transform">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">param2col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column_wise</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#transform"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.transform" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Compute a function for every row of a DataFrame, using several cols as arguments.</dt><dd><p>The result is the same as using df.apply(lambda r: func(param1=r.col1, param2=r.col2…), axis=1)
but it optimizes the procedure by precomputing <cite>func</cite> for all occurrent parameter combinations.
Uses: inspect.getfullargspec()</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a> or <a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.Series</span></code></a>) – Dataframe containing function parameters.</p></li>
<li><p><strong>func</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#callable" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">callable</span></code></a>) – The result of this function for every row will be returned.</p></li>
<li><p><strong>param2col</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#dict" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a> or <a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#list" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a>, optional) – Mapping from parameter names of <cite>func</cite> to column names.
If you pass a list of column names, the columns’ values are passed as positional arguments.
Pass None if you want to use all columns as positional arguments.</p></li>
<li><p><strong>column_wise</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Pass True if you want to map <code class="docutils literal notranslate"><span class="pre">func</span></code> to the elements of every column separately.
This is simply an optimized version of df.apply(func) but allows for naming
columns to use as function arguments. If param2col is None, <code class="docutils literal notranslate"><span class="pre">func</span></code> is mapped
to the elements of all columns, otherwise to all columns that are not named
as parameters in <code class="docutils literal notranslate"><span class="pre">param2col</span></code>.
In the case where <code class="docutils literal notranslate"><span class="pre">func</span></code> does not require a positional first element and
you want to pass the elements of the various columns as keyword argument,
give it as param2col={‘function_argument’: None}</p></li>
<li><p><strong>inplace</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Pass True if you want to mutate <code class="docutils literal notranslate"><span class="pre">df</span></code> rather than getting an altered copy.</p></li>
<li><p><strong>**kwargs</strong> (Other parameters passed to <code class="docutils literal notranslate"><span class="pre">func</span></code>.) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.adjacency_groups">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">adjacency_groups</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">S</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v1.5.2)"><span class="pre">Series</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">na_values</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prevent_merge</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Tuple" title="(in Python v3.10)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v1.5.2)"><span class="pre">Series</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Dict" title="(in Python v3.10)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Any" title="(in Python v3.10)"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/ms3/utils.html#adjacency_groups"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.adjacency_groups" title="Permalink to this definition">¶</a></dt>
<dd><p>Turns a Series into a Series of ascending integers starting from 0 that reflect groups of successive
equal values. There are several options of how to deal with NA values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>S</strong> (<a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.Series</span></code></a>) – Series in which to group identical adjacent values with each other.</p></li>
<li><p><strong>na_values</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – <div class="line-block">
<div class="line">How to treat (groups of) NA values. By default, NA values are being ignored.</div>
<div class="line">’group’ creates individual groups for NA values</div>
<div class="line">’backfill’ or ‘bfill’ groups NA values with the subsequent group</div>
<div class="line">’pad’, ‘ffill’ groups NA values with the preceding group</div>
<div class="line">Any other string works like ‘group’, with the difference that the groups will be named with this value.</div>
</div>
</p></li>
<li><p><strong>prevent_merge</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – By default, if you use the <cite>na_values</cite> argument to fill NA values, they might lead to two groups merging.
Pass True to prevent this. For example, take the sequence [‘a’, NA, ‘a’] with <code class="docutils literal notranslate"><span class="pre">na_values='ffill'</span></code>: By default,
it will be merged to one single group <code class="docutils literal notranslate"><span class="pre">[1,</span> <span class="pre">1,</span> <span class="pre">1],</span> <span class="pre">{1:</span> <span class="pre">'a'}</span></code>. However, passing <code class="docutils literal notranslate"><span class="pre">prevent_merge=True</span></code> will
result in <code class="docutils literal notranslate"><span class="pre">[1,</span> <span class="pre">1,</span> <span class="pre">2],</span> <span class="pre">{1:</span> <span class="pre">'a',</span> <span class="pre">2:</span> <span class="pre">'a'}</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.Series</span></code></a> – A series with increasing integers that can be used for grouping.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#dict" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a> – A dictionary mapping the integers to the grouped values.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.unfold_measures_table">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">unfold_measures_table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">measures</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><span class="pre">DataFrame</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><span class="pre">DataFrame</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/ms3/utils.html#unfold_measures_table"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.unfold_measures_table" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a copy of a measures table that corresponds through a succession of MCs when playing all repeats.
To distinguish between repeated MCs and MNs, it adds the continues column ‘mc_playthrough’ (starting at 1) and
‘mn_playthrough’ which contains the values of ‘mn’ as string with letters {‘a’, ‘b’, …} appended.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>measures</strong> – Measures table with columns [‘mc’, ‘next’, ‘dont_count’]</p>
</dd>
</dl>
<p>Returns:</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.unfold_repeats">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">unfold_repeats</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><span class="pre">DataFrame</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">playthrough_info</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v1.5.2)"><span class="pre">Series</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><span class="pre">DataFrame</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><span class="pre">DataFrame</span></a></span></span><a class="reference internal" href="_modules/ms3/utils.html#unfold_repeats"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.unfold_repeats" title="Permalink to this definition">¶</a></dt>
<dd><p>Use a succesion of MCs to bring a DataFrame in this succession. MCs may repeat.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> – DataFrame needs to have the columns ‘mc’. If ‘mn’ is present, the column ‘mn’ will be added, too.</p></li>
<li><p><strong>playthrough2mc</strong> – A Series of the format <code class="docutils literal notranslate"><span class="pre">{mc_playthrough:</span> <span class="pre">mc}</span></code> where <code class="docutils literal notranslate"><span class="pre">mc_playthrough</span></code> corresponds
to continuous MC</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A copy of the dataframe with the columns ‘mc_playthrough’ and ‘mn_playthrough’ (if ‘mn’ is present) inserted.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.capture_parse_logs">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">capture_parse_logs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">logger_object</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/logging.html#logging.Logger" title="(in Python v3.10)"><span class="pre">Logger</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">level</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'w'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">LogCapturer</span></span></span><a class="reference internal" href="_modules/ms3/utils.html#capture_parse_logs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.capture_parse_logs" title="Permalink to this definition">¶</a></dt>
<dd><p>Within the context, the given logger will have an additional handler that captures all messages with level
<code class="docutils literal notranslate"><span class="pre">level</span></code> or higher. At the end of the context, retrieve the message list via LocCapturer.content_list.</p>
<div class="admonition-example admonition">
<p class="admonition-title">Example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">capture_parse_logs</span><span class="p">(</span><span class="n">logger</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="s1">&#39;d&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">capturer</span><span class="p">:</span>
    <span class="c1"># do the stuff of which you want to capture</span>
    <span class="n">all_messages</span> <span class="o">=</span> <span class="n">capturer</span><span class="o">.</span><span class="n">content_list</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.write_metadata">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">write_metadata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">metadata_df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><span class="pre">DataFrame</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span></span><a class="reference internal" href="_modules/ms3/utils.html#write_metadata"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.write_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the DataFrame <code class="docutils literal notranslate"><span class="pre">metadata_df</span></code> to <code class="docutils literal notranslate"><span class="pre">path</span></code>, updating an existing file rather than overwriting it.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>metadata_df</strong> – DataFrame with one row per piece and an index of strings identifying pieces. The index is used for
updating a potentially pre-existent file, from which the first column ∈ (‘fname’, ‘fnames’, ‘name’, ‘names’)
will be used as index.</p></li>
<li><p><strong>path</strong> – If folder path, the filename ‘metadata.tsv’ will be appended; file_path will be used as is but a
warning is thrown if the extension is not .tsv</p></li>
<li><p><strong>index</strong> – Pass True if you want the first column of the output to be a RangeIndex starting from 0.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if the metadata were successfully written, False otherwise.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.enforce_fname_index_for_metadata">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">enforce_fname_index_for_metadata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">metadata_df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><span class="pre">DataFrame</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">append</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><span class="pre">DataFrame</span></a></span></span><a class="reference internal" href="_modules/ms3/utils.html#enforce_fname_index_for_metadata"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.enforce_fname_index_for_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a copy of the DataFrame that has an index level called ‘fname’.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.write_markdown">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">write_markdown</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">metadata_df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><span class="pre">DataFrame</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/constants.html#None" title="(in Python v3.10)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/ms3/utils.html#write_markdown"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.write_markdown" title="Permalink to this definition">¶</a></dt>
<dd><p>Write a subset of the DataFrame <code class="docutils literal notranslate"><span class="pre">metadata_df</span></code> to <code class="docutils literal notranslate"><span class="pre">path</span></code> in markdown format. If the file exists, it will be
scanned for a line containing the string ‘# Overview’ and overwritten from that line onwards.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>metadata_df</strong> – DataFrame containing metadata.</p></li>
<li><p><strong>file_path</strong> – Path of the markdown file.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.write_tsv">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">write_tsv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pre_process</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#write_tsv"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.write_tsv" title="Permalink to this definition">¶</a></dt>
<dd><p>Write a DataFrame to a TSV or CSV file based on the extension of ‘file_path’.
Uses: <a class="reference internal" href="#ms3.utils.no_collections_no_booleans" title="ms3.utils.no_collections_no_booleans"><code class="xref py py-func docutils literal notranslate"><span class="pre">no_collections_no_booleans()</span></code></a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – DataFrame to write.</p></li>
<li><p><strong>file_path</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – File to create or overwrite. If the extension is .tsv, the argument ‘sep’ will be set to ‘      ‘, otherwise the
extension is expected to be .csv and the default separator ‘,’ will be used.</p></li>
<li><p><strong>pre_process</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – By default, DataFrame cells containing lists and tuples will be transformed to strings and Booleans will be
converted to 0 and 1 (otherwise they will be written out as True and False). Pass False to prevent.</p></li>
<li><p><strong>kwargs</strong> – Additional keyword arguments will be passed on to <a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.to_csv.html#pandas.DataFrame.to_csv" title="(in pandas v1.5.2)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pandas.DataFrame.to_csv()</span></code></a>.
Defaults arguments are <code class="docutils literal notranslate"><span class="pre">index=False</span></code> and <code class="docutils literal notranslate"><span class="pre">sep='</span>&#160;&#160;&#160;&#160;&#160; <span class="pre">'</span></code> (assuming extension ‘.tsv’, see above).</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.abs2rel_key">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">abs2rel_key</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">absolute</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">localkey</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">global_minor</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></span><a class="reference internal" href="_modules/ms3/utils.html#abs2rel_key"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.abs2rel_key" title="Permalink to this definition">¶</a></dt>
<dd><p>Expresses a Roman numeral as scale degree relative to a given localkey.
The result changes depending on whether Roman numeral and localkey are
interpreted within a global major or minor key.</p>
<p>Uses: <a class="reference internal" href="#ms3.utils.split_scale_degree" title="ms3.utils.split_scale_degree"><code class="xref py py-func docutils literal notranslate"><span class="pre">split_scale_degree()</span></code></a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>absolute</strong> – Absolute key expressed as Roman scale degree of the local key.</p></li>
<li><p><strong>localkey</strong> – The local key in terms of which <code class="docutils literal notranslate"><span class="pre">absolute</span></code> will be expressed.</p></li>
<li><p><strong>global_minor</strong> – Has to be set to True if <cite>absolute</cite> and <cite>localkey</cite> are scale degrees of a global minor key.</p></li>
</ul>
</dd>
</dl>
<div class="admonition-examples admonition">
<p class="admonition-title">Examples</p>
<p>In a minor context, the key of II would appear within the key of vii as #III.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">abs2rel_key</span><span class="p">(</span><span class="s1">&#39;iv&#39;</span><span class="p">,</span> <span class="s1">&#39;VI&#39;</span><span class="p">,</span> <span class="n">global_minor</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">&#39;bvi&#39;       # F minor expressed with respect to A major</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abs2rel_key</span><span class="p">(</span><span class="s1">&#39;iv&#39;</span><span class="p">,</span> <span class="s1">&#39;vi&#39;</span><span class="p">,</span> <span class="n">global_minor</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">&#39;vi&#39;        # F minor expressed with respect to A minor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abs2rel_key</span><span class="p">(</span><span class="s1">&#39;iv&#39;</span><span class="p">,</span> <span class="s1">&#39;VI&#39;</span><span class="p">,</span> <span class="n">global_minor</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">&#39;vi&#39;        # F minor expressed with respect to Ab major</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abs2rel_key</span><span class="p">(</span><span class="s1">&#39;iv&#39;</span><span class="p">,</span> <span class="s1">&#39;vi&#39;</span><span class="p">,</span> <span class="n">global_minor</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">&#39;#vi&#39;       # F minor expressed with respect to Ab minor</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">abs2rel_key</span><span class="p">(</span><span class="s1">&#39;VI&#39;</span><span class="p">,</span> <span class="s1">&#39;IV&#39;</span><span class="p">,</span> <span class="n">global_minor</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">&#39;III&#39;       # A major expressed with respect to F major</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abs2rel_key</span><span class="p">(</span><span class="s1">&#39;VI&#39;</span><span class="p">,</span> <span class="s1">&#39;iv&#39;</span><span class="p">,</span> <span class="n">global_minor</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">&#39;#III&#39;       # A major expressed with respect to F minor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abs2rel_key</span><span class="p">(</span><span class="s1">&#39;VI&#39;</span><span class="p">,</span> <span class="s1">&#39;IV&#39;</span><span class="p">,</span> <span class="n">global_minor</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">&#39;bIII&#39;       # Ab major expressed with respect to F major</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abs2rel_key</span><span class="p">(</span><span class="s1">&#39;VI&#39;</span><span class="p">,</span> <span class="s1">&#39;iv&#39;</span><span class="p">,</span> <span class="n">global_minor</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">&#39;III&#39;       # Ab major expressed with respect to F minor</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.rel2abs_key">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">rel2abs_key</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">relative</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">localkey</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">global_minor</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#rel2abs_key"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.rel2abs_key" title="Permalink to this definition">¶</a></dt>
<dd><p>Expresses a Roman numeral that is expressed relative to a localkey
as scale degree of the global key. For local keys {III, iii, VI, vi, VII, vii}
the result changes depending on whether the global key is major or minor.</p>
<p>Uses: <a class="reference internal" href="#ms3.utils.split_scale_degree" title="ms3.utils.split_scale_degree"><code class="xref py py-func docutils literal notranslate"><span class="pre">split_scale_degree()</span></code></a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>relative</strong> – Relative key or chord expressed as Roman scale degree of the local key.</p></li>
<li><p><strong>localkey</strong> – The local key to which <cite>rel</cite> is relative.</p></li>
<li><p><strong>global_minor</strong> – Has to be set to True if <cite>localkey</cite> is a scale degree of a global minor key.</p></li>
</ul>
</dd>
</dl>
<div class="admonition-examples admonition">
<p class="admonition-title">Examples</p>
<p>If the label viio6/VI appears in the context of the local key VI or vi,
the absolute key to which viio6 applies depends on the global key.
The comments express the examples in relation to global C major or C minor.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">rel2abs_key</span><span class="p">(</span><span class="s1">&#39;vi&#39;</span><span class="p">,</span> <span class="s1">&#39;VI&#39;</span><span class="p">,</span> <span class="n">global_minor</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">&#39;#iv&#39;       # vi of A major = F# minor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rel2abs_key</span><span class="p">(</span><span class="s1">&#39;vi&#39;</span><span class="p">,</span> <span class="s1">&#39;vi&#39;</span><span class="p">,</span> <span class="n">global_minor</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">&#39;iv&#39;        # vi of A minor = F minor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rel2abs_key</span><span class="p">(</span><span class="s1">&#39;vi&#39;</span><span class="p">,</span> <span class="s1">&#39;VI&#39;</span><span class="p">,</span> <span class="n">global_minor</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">&#39;iv&#39;        # vi of Ab major = F minor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rel2abs_key</span><span class="p">(</span><span class="s1">&#39;vi&#39;</span><span class="p">,</span> <span class="s1">&#39;vi&#39;</span><span class="p">,</span> <span class="n">global_minor</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">&#39;biv&#39;       # vi of Ab minor = Fb minor</span>
</pre></div>
</div>
<p>The same examples hold if you’re expressing in terms of the global key
the root of a VI-chord within the local keys VI or vi.</p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.make_interval_index_from_durations">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">make_interval_index_from_durations</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">position_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'quarterbeats'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">duration_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'duration_qb'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">closed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'left'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">round</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'interval'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#make_interval_index_from_durations"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.make_interval_index_from_durations" title="Permalink to this definition">¶</a></dt>
<dd><p>Given an annotations table with positions and durations, create an <a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.IntervalIndex</span></code></a>.
Returns None if any row is underspecified.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – Annotation table containing the columns of <code class="docutils literal notranslate"><span class="pre">position_col</span></code> (default: ‘quarterbeats’) and <code class="docutils literal notranslate"><span class="pre">duration_col</span></code>
default: ‘duration_qb’).</p></li>
<li><p><strong>position_col</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – Name of the column containing positions, used as left boundaries.</p></li>
<li><p><strong>duration_col</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – Name of the column containing durations which will be added to the positions to obtain right boundaries.</p></li>
<li><p><strong>closed</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – ‘left’, ‘right’ or ‘both’ &lt;- defining the interval boundaries</p></li>
<li><p><strong>round</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>, optional) – To how many decimal places to round the intervals’ boundary values.</p></li>
<li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – Name of the created index. Defaults to ‘interval’.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A copy of <code class="docutils literal notranslate"><span class="pre">df</span></code> with the original index replaced and underspecified rows removed (those where no interval
could be coputed).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.IntervalIndex</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.replace_index_by_intervals">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">replace_index_by_intervals</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">position_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'quarterbeats'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">duration_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'duration_qb'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">closed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'left'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter_zero_duration</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">round</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'interval'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#replace_index_by_intervals"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.replace_index_by_intervals" title="Permalink to this definition">¶</a></dt>
<dd><p>Given an annotations table with positions and durations, replaces its index with an <a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.IntervalIndex</span></code></a>.
Underspecified rows are removed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – Annotation table containing the columns of <code class="docutils literal notranslate"><span class="pre">position_col</span></code> (default: ‘quarterbeats’) and <code class="docutils literal notranslate"><span class="pre">duration_col</span></code>
default: ‘duration_qb’).</p></li>
<li><p><strong>position_col</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – Name of the column containing positions.</p></li>
<li><p><strong>duration_col</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – Name of the column containing durations.</p></li>
<li><p><strong>closed</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – ‘left’, ‘right’ or ‘both’ &lt;- defining the interval boundaries</p></li>
<li><p><strong>filter_zero_duration</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Defaults to False, meaning that rows with zero durations are maintained. Pass True to remove them.</p></li>
<li><p><strong>round</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>, optional) – To how many decimal places to round the intervals’ boundary values.</p></li>
<li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – Name of the created index. Defaults to ‘interval’.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A copy of <code class="docutils literal notranslate"><span class="pre">df</span></code> with the original index replaced and underspecified rows removed (those where no interval
could be computed).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.boolean_mode_col2strings">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">boolean_mode_col2strings</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">S</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v1.5.2)"><span class="pre">Series</span></a></span></span><a class="reference internal" href="_modules/ms3/utils.html#boolean_mode_col2strings"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.boolean_mode_col2strings" title="Permalink to this definition">¶</a></dt>
<dd><p>Turn the boolean is_minor columns into string columns such that True =&gt; ‘minor’, False =&gt; ‘major’.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.replace_boolean_mode_by_strings">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">replace_boolean_mode_by_strings</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><span class="pre">DataFrame</span></a></span></span><a class="reference internal" href="_modules/ms3/utils.html#replace_boolean_mode_by_strings"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.replace_boolean_mode_by_strings" title="Permalink to this definition">¶</a></dt>
<dd><p>Replaces boolean ‘_is_minor’ columns with string columns renamed to ‘_mode’.
Example: df[‘some_col’, ‘some_name_is_minor’] =&gt; df[‘some_col’, ‘some_name_mode’]</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.resolve_relative_keys">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">resolve_relative_keys</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">relativeroot</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#resolve_relative_keys"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.resolve_relative_keys" title="Permalink to this definition">¶</a></dt>
<dd><p>Resolve nested relative keys, e.g. ‘V/V/V’ =&gt; ‘VI’.</p>
<p>Uses: <a class="reference internal" href="#ms3.utils.rel2abs_key" title="ms3.utils.rel2abs_key"><code class="xref py py-func docutils literal notranslate"><span class="pre">rel2abs_key()</span></code></a>, <a class="reference internal" href="#ms3.utils.str_is_minor" title="ms3.utils.str_is_minor"><code class="xref py py-func docutils literal notranslate"><span class="pre">str_is_minor()</span></code></a></p>
<dl>
<dt>relativeroot<span class="classifier"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a></span></dt><dd><p>One or several relative keys, e.g. iv/v/VI (fourth scale degree of the fifth scale degree of the sixth scale degree)</p>
</dd>
<dt>minor<span class="classifier"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional</span></dt><dd><p>Pass True if the last of the relative keys is to be interpreted within a minor context.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.series_is_minor">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">series_is_minor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">S</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#series_is_minor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.series_is_minor" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns boolean Series where every value in <code class="docutils literal notranslate"><span class="pre">S</span></code> representing a minor key/chord is True.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.str_is_minor">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">str_is_minor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tone</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#str_is_minor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.str_is_minor" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True if <code class="docutils literal notranslate"><span class="pre">tone</span></code> represents a minor key or chord.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.transpose_changes">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">transpose_changes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">changes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">old_num</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_num</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">old_minor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_minor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#transpose_changes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.transpose_changes" title="Permalink to this definition">¶</a></dt>
<dd><p>Since the interval sizes expressed by the changes of the DCML harmony syntax
depend on the numeral’s position in the scale, these may change if the numeral
is transposed. This function expresses the same changes for the new position.
Chord tone alterations (of 3 and 5) stay untouched.</p>
<p>Uses: <a class="reference internal" href="#ms3.utils.changes2tpc" title="ms3.utils.changes2tpc"><code class="xref py py-func docutils literal notranslate"><span class="pre">changes2tpc()</span></code></a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>changes</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – A string of changes following the DCML harmony standard.</p></li>
<li><p><strong>old_num</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>:) – Old numeral, new numeral.</p></li>
<li><p><strong>new_num</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>:) – Old numeral, new numeral.</p></li>
<li><p><strong>old_minor</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – For each numeral, pass True if it occurs in a minor context.</p></li>
<li><p><strong>new_minor</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – For each numeral, pass True if it occurs in a minor context.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.features2tpcs">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">features2tpcs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">numeral</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">form</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figbass</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">changes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">relativeroot</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'C'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">merge_tones</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bass_only</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#features2tpcs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.features2tpcs" title="Permalink to this definition">¶</a></dt>
<dd><p>Given the features of a chord label, this function returns the chord tones
in the order of the inversion, starting from the bass note. The tones are
expressed as tonal pitch classes, where -1=F, 0=C, 1=G etc.</p>
<p>Uses: <a class="reference internal" href="#ms3.utils.changes2list" title="ms3.utils.changes2list"><code class="xref py py-func docutils literal notranslate"><span class="pre">changes2list()</span></code></a>, <a class="reference internal" href="#ms3.utils.name2fifths" title="ms3.utils.name2fifths"><code class="xref py py-func docutils literal notranslate"><span class="pre">name2fifths()</span></code></a>, <a class="reference internal" href="#ms3.utils.resolve_relative_keys" title="ms3.utils.resolve_relative_keys"><code class="xref py py-func docutils literal notranslate"><span class="pre">resolve_relative_keys()</span></code></a>, <a class="reference internal" href="#ms3.utils.roman_numeral2fifths" title="ms3.utils.roman_numeral2fifths"><code class="xref py py-func docutils literal notranslate"><span class="pre">roman_numeral2fifths()</span></code></a>,
<a class="reference internal" href="#ms3.utils.sort_tpcs" title="ms3.utils.sort_tpcs"><code class="xref py py-func docutils literal notranslate"><span class="pre">sort_tpcs()</span></code></a>, <a class="reference internal" href="#ms3.utils.str_is_minor" title="ms3.utils.str_is_minor"><code class="xref py py-func docutils literal notranslate"><span class="pre">str_is_minor()</span></code></a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>numeral</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – Roman numeral of the chord’s root</p></li>
<li><p><strong>form</strong> (<em>{None</em><em>, </em><em>'M'</em><em>, </em><em>'o'</em><em>, </em><em>'+' '%'}</em><em>, </em><em>optional</em>) – Indicates the chord type if not a major or minor triad (for which <code class="docutils literal notranslate"><span class="pre">form</span></code> is None).
‘%’ and ‘M’ can only occur as tetrads, not as triads.</p></li>
<li><p><strong>figbass</strong> (<em>{None</em><em>, </em><em>'6'</em><em>, </em><em>'64'</em><em>, </em><em>'7'</em><em>, </em><em>'65'</em><em>, </em><em>'43'</em><em>, </em><em>'2'}</em><em>, </em><em>optional</em>) – Indicates chord’s inversion. Pass None for triad root position.</p></li>
<li><p><strong>changes</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – Added steps such as ‘+6’ or suspensions such as ‘4’ or any combination such as (9+64).
Numbers need to be in descending order.</p></li>
<li><p><strong>relativeroot</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – Pass a Roman scale degree if <cite>numeral</cite> is to be applied to a different scale
degree of the local key, as in ‘V65/V’</p></li>
<li><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a> or <a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>, optional) – The local key expressed as the root’s note name or a tonal pitch class.
If it is a name and <cite>minor</cite> is <cite>None</cite>, uppercase means major and lowercase minor.
If it is a tonal pitch class, <cite>minor</cite> needs to be specified.</p></li>
<li><p><strong>minor</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Pass True for minor and False for major. Can be omitted if <cite>key</cite> is a note name.
This affects calculation of chords related to III, VI and VII.</p></li>
<li><p><strong>merge_tones</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Pass False if you want the function to return two tuples, one with (potentially suspended)
chord tones and one with added notes.</p></li>
<li><p><strong>bass_only</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Return only the bass note instead of all chord tones.</p></li>
<li><p><strong>mc</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – Pass measure count to display it in warnings.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.path2parent_corpus">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">path2parent_corpus</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#path2parent_corpus"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.path2parent_corpus" title="Permalink to this definition">¶</a></dt>
<dd><p>Walk up the path and return the name of the first superdirectory that is a git repository or contains a ‘metadata.tsv’ file.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.chord2tpcs">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">chord2tpcs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">chord</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">regex</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#chord2tpcs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.chord2tpcs" title="Permalink to this definition">¶</a></dt>
<dd><p>Split a chord label into its features and apply features2tpcs().</p>
<p>Uses: features2tpcs()</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>chord</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – Chord label that can be split into the features [‘numeral’, ‘form’, ‘figbass’, ‘changes’, ‘relativeroot’].</p></li>
<li><p><strong>regex</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">re.Pattern</span></code>, optional) – Compiled regex with named groups for the five features. By default, the current version of the DCML harmony
annotation standard is used.</p></li>
<li><p><strong>**kwargs</strong> – arguments for features2tpcs (pass MC to show it in warnings!)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.transpose">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">transpose</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">e</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#transpose"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.transpose" title="Permalink to this definition">¶</a></dt>
<dd><p>Add <cite>n</cite> to all elements <cite>e</cite> recursively.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.ignored_warnings2dict">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">ignored_warnings2dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">messages</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Collection" title="(in Python v3.10)"><span class="pre">Collection</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Dict" title="(in Python v3.10)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Tuple" title="(in Python v3.10)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/ms3/utils.html#ignored_warnings2dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.ignored_warnings2dict" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>messages</strong> – </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>{logger_name -&gt; [ignored_warnings]} dict.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.parse_ignored_warnings_file">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">parse_ignored_warnings_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Dict" title="(in Python v3.10)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Tuple" title="(in Python v3.10)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Tuple" title="(in Python v3.10)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/ms3/utils.html#parse_ignored_warnings_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.parse_ignored_warnings_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse file with log messages that have to be ignored to the dict.
The expected structure of message: warning_type (warning_type_id, <a href="#id7"><span class="problematic" id="id8">*</span></a>integers) file
Example of message: INCORRECT_VOLTA_MN_WARNING (2, 94) ms3.Parse.mixed_files.Did03M-Son_regina-1762-Sarti.mscx.MeasureList</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – <div class="line-block">
<div class="line">Path to IGNORED_WARNINGS</div>
</div>
</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>{logger_name: [(message_id, label_of_message), (message_id, label_of_message), …]}.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>obj: dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.overlapping_chunk_per_interval">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">overlapping_chunk_per_interval</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><span class="pre">DataFrame</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">intervals</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Interval.html#pandas.Interval" title="(in pandas v1.5.2)"><span class="pre">Interval</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">truncate</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Dict" title="(in Python v3.10)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Interval.html#pandas.Interval" title="(in pandas v1.5.2)"><span class="pre">Interval</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><span class="pre">DataFrame</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/ms3/utils.html#overlapping_chunk_per_interval"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.overlapping_chunk_per_interval" title="Permalink to this definition">¶</a></dt>
<dd><p>For each interval, create a chunk of the given DataFrame based on its IntervalIndex.
This is an optimized algorithm compared to calling IntervalIndex.overlaps(interval) for each
given interval, with the additional advantage that it will not discard rows where the
interval is zero, such as [25.0, 25.0).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – The DataFrame is expected to come with an IntervalIndex and contain the columns ‘quarterbeats’ and ‘duration_qb’.
Those can be obtained through <code class="docutils literal notranslate"><span class="pre">Parse.get_lists(interval_index=True)</span></code> or
<code class="docutils literal notranslate"><span class="pre">Parse.iter_transformed(interval_index=True)</span></code>.</p></li>
<li><p><strong>intervals</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#list" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a> of <code class="xref py py-obj docutils literal notranslate"><span class="pre">pd.Interval</span></code>) – The intervals defining the chunks’ dimensions. Expected to be non-overlapping and monotonically increasing.</p></li>
<li><p><strong>truncate</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Defaults to True, meaning that the interval index and the ‘duration_qb’ will be adapted for overlapping intervals.
Pass False to get chunks with all overlapping intervals as they are.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>{interval -&gt; chunk}</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#dict" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.infer_tsv_type">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">infer_tsv_type</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><span class="pre">DataFrame</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/ms3/utils.html#infer_tsv_type"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.infer_tsv_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Infers the contents of a DataFrame from the presence of particular columns.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.reduce_dataframe_duration_to_first_row">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">reduce_dataframe_duration_to_first_row</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><span class="pre">DataFrame</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><span class="pre">DataFrame</span></a></span></span><a class="reference internal" href="_modules/ms3/utils.html#reduce_dataframe_duration_to_first_row"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.reduce_dataframe_duration_to_first_row" title="Permalink to this definition">¶</a></dt>
<dd><p>Reduces a DataFrame to its row and updates the duration_qb column to reflect the reduced duration.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>df</strong> – Dataframe of which to keep only the first row. If it has an IntervalIndex, the interval is updated to
reflect the whole duration.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>DataFrame with one row.</p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ms3.utils.File">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">File</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ix</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">fname</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">fext</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">subdir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">corpus_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">rel_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">full_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">directory</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">suffix</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">commit_sha</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#File"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.File" title="Permalink to this definition">¶</a></dt>
<dd><p>Storing path and file name information for one file.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.ask_user_to_choose">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">ask_user_to_choose</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">choices</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Collection" title="(in Python v3.10)"><span class="pre">Collection</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Any" title="(in Python v3.10)"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Any" title="(in Python v3.10)"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/ms3/utils.html#ask_user_to_choose"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.ask_user_to_choose" title="Permalink to this definition">¶</a></dt>
<dd><p>Ask user to input an integer and return the nth choice selected by the user.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.disambiguate_files">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">disambiguate_files</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">files</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Collection" title="(in Python v3.10)"><span class="pre">Collection</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#ms3.utils.File" title="ms3.utils.File"><span class="pre">File</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fname</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">choose</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Literal" title="(in Python v3.10)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'auto'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'ask'</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'auto'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#ms3.utils.File" title="ms3.utils.File"><span class="pre">File</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/ms3/utils.html#disambiguate_files"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.disambiguate_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Receives a collection of <a class="reference internal" href="#ms3.utils.File" title="ms3.utils.File"><code class="xref py py-obj docutils literal notranslate"><span class="pre">File</span></code></a> with the aim to pick one of them.
First, a dictionary is created where the keys are disambiguation strings based on the files’ paths and
suffixes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>files</strong> – </p></li>
<li><p><strong>choose</strong> – If ‘auto’ (default), the file with the shortest disambiguation string is chosen. Set to True
if you want to be asked to manually choose a file.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The selected file.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.files2disambiguation_dict">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">files2disambiguation_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">files</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Collection" title="(in Python v3.10)"><span class="pre">Collection</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#ms3.utils.File" title="ms3.utils.File"><span class="pre">File</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_disambiguator</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Dict" title="(in Python v3.10)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#ms3.utils.File" title="ms3.utils.File"><span class="pre">File</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/ms3/utils.html#files2disambiguation_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.files2disambiguation_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes a list of <a class="reference internal" href="#ms3.utils.File" title="ms3.utils.File"><code class="xref py py-class docutils literal notranslate"><span class="pre">File</span></code></a> returns a dictionary with disambiguating strings based on path components.
of distinct strings to distinguish files pertaining to the same type.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.literal_type2tuple">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">literal_type2tuple</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">typ</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.TypeVar" title="(in Python v3.10)"><span class="pre">TypeVar</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Tuple" title="(in Python v3.10)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/ms3/utils.html#literal_type2tuple"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.literal_type2tuple" title="Permalink to this definition">¶</a></dt>
<dd><p>Turns the first Literal included in the TypeVar into a list of values. The first literal value
needs to be a string, otherwise the function may lead to unexpected behaviour.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.argument_and_literal_type2list">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">argument_and_literal_type2list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">argument</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Tuple" title="(in Python v3.10)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Literal" title="(in Python v3.10)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="pre">None</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">typ</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.TypeVar" title="(in Python v3.10)"><span class="pre">TypeVar</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Tuple" title="(in Python v3.10)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">none_means_all</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/ms3/utils.html#argument_and_literal_type2list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.argument_and_literal_type2list" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes sure that an input value is a list of strings and that all strings are valid w.r.t. to
the type’s expected literal values (strings).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>argument</strong> – If string, wrapped in a list, otherwise expected to be a tuple of strings (passing a list will fail).
If None, a list of all possible values according to the type is returned if none_means_all.</p></li>
<li><p><strong>typ</strong> – A typing.Literal declaration or a TypeVar where the first component is one, or a tuple of allowed values.
All allowed values should be strings.</p></li>
<li><p><strong>none_means_all</strong> – By default, None values are replaced with all allowed values, if specified.
Pass False to return None in this case.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The list of accepted strings.
The list of rejected strings.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.resolve_facets_param">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">resolve_facets_param</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">facets</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">facet_type_var</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.TypeVar" title="(in Python v3.10)"><span class="pre">TypeVar</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">typing.Literal['scores',</span> <span class="pre">'measures',</span> <span class="pre">'notes',</span> <span class="pre">'rests',</span> <span class="pre">'notes_and_rests',</span> <span class="pre">'labels',</span> <span class="pre">'expanded',</span> <span class="pre">'form_labels',</span> <span class="pre">'cadences',</span> <span class="pre">'events',</span> <span class="pre">'chords',</span> <span class="pre">'unknown']</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">none_means_all</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#resolve_facets_param"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.resolve_facets_param" title="Permalink to this definition">¶</a></dt>
<dd><p>Like <a class="reference internal" href="#ms3.utils.argument_and_literal_type2list" title="ms3.utils.argument_and_literal_type2list"><code class="xref py py-func docutils literal notranslate"><span class="pre">argument_and_literal_type2list()</span></code></a>, but also resolves ‘tsv’ to all non-score facets.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.unpack_json_paths">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">unpack_json_paths</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">paths</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Collection" title="(in Python v3.10)"><span class="pre">Collection</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/constants.html#None" title="(in Python v3.10)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/ms3/utils.html#unpack_json_paths"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.unpack_json_paths" title="Permalink to this definition">¶</a></dt>
<dd><p>Mutates the list with paths by replacing .json files with the list (of paths) contained in them.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.compute_path_from_file">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">compute_path_from_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#ms3.utils.File" title="ms3.utils.File"><span class="pre">File</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">root_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">folder</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></span><a class="reference internal" href="_modules/ms3/utils.html#compute_path_from_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.compute_path_from_file" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Constructs a path based on the arguments.</p>
<dl>
<dt>Args:</dt><dd><p>file: This function uses the fields corpus_path, subdir, and type.
root_dir:</p>
<blockquote>
<div><p>Defaults to None, meaning that the path is constructed based on the corpus_path.
Pass a directory to construct the path relative to it instead. If <code class="docutils literal notranslate"><span class="pre">folder</span></code> is an absolute path,
<code class="docutils literal notranslate"><span class="pre">root_dir</span></code> is ignored.</p>
</div></blockquote>
<dl class="simple">
<dt>folder:</dt><dd><ul class="simple">
<li><p>If <code class="docutils literal notranslate"><span class="pre">folder</span></code> is None (default), the files’ type will be appended to the <code class="docutils literal notranslate"><span class="pre">root_dir</span></code>.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">folder</span></code> is an absolute path, <code class="docutils literal notranslate"><span class="pre">root_dir</span></code> will be ignored.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">folder</span></code> is a relative path starting with a dot <code class="docutils literal notranslate"><span class="pre">.</span></code> the relative path is appended to the file’s subdir.
For example, <a href="#id9"><span class="problematic" id="id10">``</span></a>..</p></li>
</ul>
</dd>
</dl>
</dd>
</dl>
</div></blockquote>
<dl>
<dt>otes`` will resolve to a sibling directory of the one where the <code class="docutils literal notranslate"><span class="pre">file</span></code> is located.</dt><dd><blockquote>
<div><ul class="simple">
<li><p>If <code class="docutils literal notranslate"><span class="pre">folder</span></code> is a relative path that does not begin with a dot <code class="docutils literal notranslate"><span class="pre">.</span></code>, it will be appended to the
<code class="docutils literal notranslate"><span class="pre">root_dir</span></code>.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">folder</span></code> == ‘’ (empty string), the result will be <cite>root_dir</cite>.</p></li>
</ul>
</div></blockquote>
<dl class="simple">
<dt>Returns:</dt><dd><p>The constructed directory path.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.make_file_path">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">make_file_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#ms3.utils.File" title="ms3.utils.File"><span class="pre">File</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">root_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">folder</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">suffix</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fext</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'.tsv'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#make_file_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.make_file_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructs a file path based on the arguments.</p>
<blockquote>
<div><dl>
<dt>Args:</dt><dd><p>file: This function uses the fields fname, corpus_path, subdir, and type.
root_dir:</p>
<blockquote>
<div><p>Defaults to None, meaning that the path is constructed based on the corpus_path.
Pass a directory to construct the path relative to it instead. If <code class="docutils literal notranslate"><span class="pre">folder</span></code> is an absolute path,
<code class="docutils literal notranslate"><span class="pre">root_dir</span></code> is ignored.</p>
</div></blockquote>
<dl class="simple">
<dt>folder:</dt><dd><p>Different behaviours are available. Note that only the third option ensures that file paths are distinct for
files that have identical fnames but are located in different subdirectories of the same corpus.</p>
<ul class="simple">
<li><p>If <code class="docutils literal notranslate"><span class="pre">folder</span></code> is None (default), the files’ type will be appended to the <code class="docutils literal notranslate"><span class="pre">root_dir</span></code>.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">folder</span></code> is an absolute path, <code class="docutils literal notranslate"><span class="pre">root_dir</span></code> will be ignored.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">folder</span></code> is a relative path starting with a dot <code class="docutils literal notranslate"><span class="pre">.</span></code> the relative path is appended to the file’s subdir.
For example, <a href="#id11"><span class="problematic" id="id12">``</span></a>..</p></li>
</ul>
</dd>
</dl>
</dd>
</dl>
</div></blockquote>
<dl>
<dt>otes`` will resolve to a sibling directory of the one where the <code class="docutils literal notranslate"><span class="pre">file</span></code> is located.</dt><dd><blockquote>
<div><blockquote>
<div><ul class="simple">
<li><p>If <code class="docutils literal notranslate"><span class="pre">folder</span></code> is a relative path that does not begin with a dot <code class="docutils literal notranslate"><span class="pre">.</span></code>, it will be appended to the
<code class="docutils literal notranslate"><span class="pre">root_dir</span></code>.</p></li>
</ul>
</div></blockquote>
<p>suffix: String to append to the file’s fname.
fext: File extension to append to the (fname+suffix). Defaults to <code class="docutils literal notranslate"><span class="pre">.tsv</span></code>.</p>
</div></blockquote>
<dl class="simple">
<dt>Returns:</dt><dd><p>The constructed file path.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.string2identifier">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">string2identifier</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">remove_leading_underscore</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></span><a class="reference internal" href="_modules/ms3/utils.html#string2identifier"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.string2identifier" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform a string in a way that it can be used as identifier (variable or attribute name).
Solution by Kenan Banks on <a class="reference external" href="https://stackoverflow.com/a/3303361">https://stackoverflow.com/a/3303361</a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.utils.parse_tsv_file_at_git_revision">
<span class="sig-prename descclassname"><span class="pre">ms3.utils.</span></span><span class="sig-name descname"><span class="pre">parse_tsv_file_at_git_revision</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#ms3.utils.File" title="ms3.utils.File"><span class="pre">File</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">git_revision</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">repo_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Tuple" title="(in Python v3.10)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#ms3.utils.File" title="ms3.utils.File"><span class="pre">File</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><span class="pre">DataFrame</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/ms3/utils.html#parse_tsv_file_at_git_revision"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.utils.parse_tsv_file_at_git_revision" title="Permalink to this definition">¶</a></dt>
<dd><p>Pass a File object of a TSV file and an identifier for a git revision to retrieve the parsed TSV file at that commit.
The file needs to have existed at the revision in question.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file</strong> – </p></li>
<li><p><strong>git_revision</strong> – </p></li>
<li><p><strong>repo_path</strong> – </p></li>
</ul>
</dd>
</dl>
<p>Returns:</p>
</dd></dl>

</section>
<section id="module-ms3.transformations">
<span id="transformations"></span><h2>Transformations<a class="headerlink" href="#module-ms3.transformations" title="Permalink to this heading">¶</a></h2>
<p>Functions for transforming DataFrames as output by ms3.</p>
<dl class="py function">
<dt class="sig sig-object py" id="ms3.transformations.make_note_name_and_octave_columns">
<span class="sig-prename descclassname"><span class="pre">ms3.transformations.</span></span><span class="sig-name descname"><span class="pre">make_note_name_and_octave_columns</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">notes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><span class="pre">DataFrame</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">staff2drums</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Dict" title="(in Python v3.10)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#dict" title="(in Python v3.10)"><span class="pre">dict</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><span class="pre">DataFrame</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v1.5.2)"><span class="pre">Series</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Tuple" title="(in Python v3.10)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v1.5.2)"><span class="pre">Series</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v1.5.2)"><span class="pre">Series</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/ms3/transformations.html#make_note_name_and_octave_columns"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.transformations.make_note_name_and_octave_columns" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes a notelist and maybe a {staff -&gt; {midi_pitch -&gt; ‘instrument_name’}} mapping and returns two columns named ‘name’ and ‘octave’.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.transformations.add_quarterbeats_col">
<span class="sig-prename descclassname"><span class="pre">ms3.transformations.</span></span><span class="sig-name descname"><span class="pre">add_quarterbeats_col</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><span class="pre">DataFrame</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset_dict</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v1.5.2)"><span class="pre">Series</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#dict" title="(in Python v3.10)"><span class="pre">dict</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interval_index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><span class="pre">DataFrame</span></a></span></span><a class="reference internal" href="_modules/ms3/transformations.html#add_quarterbeats_col"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.transformations.add_quarterbeats_col" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Insert a column measuring the distance of events from MC 1 in quarter notes. If no ‘mc_onset’ column is present,</dt><dd><p>the column corresponds to the values given in the offset_dict..</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – DataFrame with an <code class="docutils literal notranslate"><span class="pre">mc_playthrough</span></code> and an <code class="docutils literal notranslate"><span class="pre">mc_onset</span></code> column.</p></li>
<li><p><strong>offset_dict</strong> (<a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.Series</span></code></a> or <a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#dict" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>, optional) – <div class="line-block">
<div class="line">If unfolded: {mc_playthrough -&gt; offset}</div>
<div class="line">Otherwise: {mc -&gt; offset}</div>
<div class="line">You can create the dict using the function <code class="xref py py-meth docutils literal notranslate"><span class="pre">Parse.get_continuous_offsets()</span></code></div>
<div class="line">It is not required if the column ‘quarterbeats’ exists already.</div>
</div>
</p></li>
<li><p><strong>interval_index</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Defaults to False. Pass True to replace the index with an <a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.IntervalIndex</span></code></a> (depends on the successful
creation of the column <code class="docutils literal notranslate"><span class="pre">duration_qb</span></code>).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.transformations.add_weighted_grace_durations">
<span class="sig-prename descclassname"><span class="pre">ms3.transformations.</span></span><span class="sig-name descname"><span class="pre">add_weighted_grace_durations</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">notes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weight</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/transformations.html#add_weighted_grace_durations"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.transformations.add_weighted_grace_durations" title="Permalink to this definition">¶</a></dt>
<dd><p>For a given notes table, change the ‘duration’ value of all grace notes, weighting it by <code class="docutils literal notranslate"><span class="pre">weight</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>notes</strong> (<a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – Notes table containing the columns ‘duration’, ‘nominal_duration’, ‘scalar’</p></li>
<li><p><strong>weight</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">Fraction</span></code> or <a class="reference external" href="https://docs.python.org/3.10/library/functions.html#float" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code></a>) – Value by which to weight duration of all grace notes. Defaults to a half.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Copy of <code class="docutils literal notranslate"><span class="pre">notes</span></code> with altered duration values.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.transformations.compute_chord_tones">
<span class="sig-prename descclassname"><span class="pre">ms3.transformations.</span></span><span class="sig-name descname"><span class="pre">compute_chord_tones</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bass_only</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expand</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/transformations.html#compute_chord_tones"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.transformations.compute_chord_tones" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the chord tones for DCML harmony labels. They are returned as lists
of tonal pitch classes in close position, starting with the bass note. The
tonal pitch classes represent intervals relative to the local tonic:</p>
<p>-2: Second below tonic
-1: fifth below tonic
0: tonic
1: fifth above tonic
2: second above tonic, etc.</p>
<p>The labels need to have undergone <code class="xref py py-func docutils literal notranslate"><span class="pre">split_labels()</span></code> and <code class="xref py py-func docutils literal notranslate"><span class="pre">propagate_keys()</span></code>.
Pedal points are not taken into account.</p>
<p>Uses: <code class="xref py py-func docutils literal notranslate"><span class="pre">features2tpcs()</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – Dataframe containing DCML chord labels that have been split by split_labels()
and where the keys have been propagated using propagate_keys(add_bool=True).</p></li>
<li><p><strong>bass_only</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Pass True if you need only the bass note.</p></li>
<li><p><strong>expand</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Pass True if you need chord tones and added tones in separate columns.</p></li>
<li><p><strong>cols</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#dict" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>, optional) – <p>In case the column names for <code class="docutils literal notranslate"><span class="pre">['mc',</span> <span class="pre">'numeral',</span> <span class="pre">'form',</span> <span class="pre">'figbass',</span> <span class="pre">'changes',</span> <span class="pre">'relativeroot',</span> <span class="pre">'localkey',</span> <span class="pre">'globalkey']</span></code> deviate, pass a dict, such as</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s1">&#39;mc&#39;</span><span class="p">:</span>              <span class="s1">&#39;mc&#39;</span><span class="p">,</span>
 <span class="s1">&#39;numeral&#39;</span><span class="p">:</span>         <span class="s1">&#39;numeral_col_name&#39;</span><span class="p">,</span>
 <span class="s1">&#39;form&#39;</span><span class="p">:</span>            <span class="s1">&#39;form_col_name&#39;</span><span class="p">,</span>
 <span class="s1">&#39;figbass&#39;</span><span class="p">:</span>         <span class="s1">&#39;figbass_col_name&#39;</span><span class="p">,</span>
 <span class="s1">&#39;changes&#39;</span><span class="p">:</span>         <span class="s1">&#39;changes_col_name&#39;</span><span class="p">,</span>
 <span class="s1">&#39;relativeroot&#39;</span><span class="p">:</span>    <span class="s1">&#39;relativeroot_col_name&#39;</span><span class="p">,</span>
 <span class="s1">&#39;localkey&#39;</span><span class="p">:</span>        <span class="s1">&#39;localkey_col_name&#39;</span><span class="p">,</span>
 <span class="s1">&#39;globalkey&#39;</span><span class="p">:</span>       <span class="s1">&#39;globalkey_col_name&#39;</span><span class="p">}</span>
</pre></div>
</div>
<p>You may also deactivate columns by setting them to None, e.g. {‘changes’: None}</p>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>For every row of <cite>df</cite> one tuple with chord tones, expressed as tonal pitch classes.
If <cite>expand</cite> is True, the function returns a DataFrame with four columns:
Two with tuples for chord tones and added tones, one with the chord root,
and one with the bass note.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.Series</span></code></a> or <a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.transformations.dfs2quarterbeats">
<span class="sig-prename descclassname"><span class="pre">ms3.transformations.</span></span><span class="sig-name descname"><span class="pre">dfs2quarterbeats</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dfs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><span class="pre">DataFrame</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><span class="pre">DataFrame</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">measures</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><span class="pre">DataFrame</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">unfold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">quarterbeats</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interval_index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><span class="pre">DataFrame</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/ms3/transformations.html#dfs2quarterbeats"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.transformations.dfs2quarterbeats" title="Permalink to this definition">¶</a></dt>
<dd><p>Pass one or several DataFrames and one measures table to unfold repeats and/or add quarterbeats columns and/or index.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dfs</strong> – DataFrame(s) that are to be unfolded and/or receive quarterbeats.</p></li>
<li><p><strong>measures</strong> – </p></li>
<li><p><strong>unfold</strong> – </p></li>
<li><p><strong>quarterbeats</strong> – </p></li>
<li><p><strong>interval_index</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Altered copies of <cite>dfs</cite>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.transformations.get_chord_sequences">
<span class="sig-prename descclassname"><span class="pre">ms3.transformations.</span></span><span class="sig-name descname"><span class="pre">get_chord_sequences</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">at</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">major_minor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">level</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'chord'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/transformations.html#get_chord_sequences"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.transformations.get_chord_sequences" title="Permalink to this definition">¶</a></dt>
<dd><p>Transforms an annotation table into lists of chord symbols for n-gram analysis. If your table represents
several pieces, make sure to pass the groupby parameter <code class="docutils literal notranslate"><span class="pre">level</span></code> to avoid including inexistent transitions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>at</strong> (<a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – Annotation table.</p></li>
<li><p><strong>major_minor</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – <div class="line-block">
<div class="line">Defaults to True: the length of the chord sequences corresponds to localkey segments. The result comes as dict of dicts.</div>
<div class="line">If you pass False, chord sequences are returned as they are, potentially including incorrect transitions, e.g., when
the localkey changes. The result comes as list of lists, where the sublists result from the groupby if you specified <code class="docutils literal notranslate"><span class="pre">level</span></code>.</div>
</div>
</p></li>
<li><p><strong>level</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a> or <a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#list" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a>) – Argument passed to <a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby" title="(in pandas v1.5.2)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pandas.DataFrame.groupby()</span></code></a>. Defaults to -1, resulting in a GroupBy by all levels
except the last. Conversely, you can pass, for instance, 2 to group by the first two levels.</p></li>
<li><p><strong>column</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – Name of the column containing the chord symbols that compose the sequences.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><div class="line-block">
<div class="line">If <code class="docutils literal notranslate"><span class="pre">major_minor</span></code> is True, the sequences are returned as {<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a> -&gt; {‘localkey’ -&gt; <a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, ‘localkey_is_minor’ -&gt; <a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, ‘sequence’ -&gt; <a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#list" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a>} }</div>
<div class="line">If False, the sequences are returned as a list of lists</div>
</div>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#dict" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a> of <a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#dict" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a> or <a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#list" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a> of <a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#list" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.transformations.group_annotations_by_features">
<span class="sig-prename descclassname"><span class="pre">ms3.transformations.</span></span><span class="sig-name descname"><span class="pre">group_annotations_by_features</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">at</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">features</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'numeral'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/transformations.html#group_annotations_by_features"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.transformations.group_annotations_by_features" title="Permalink to this definition">¶</a></dt>
<dd><p>Drop exact repetitions of one or several feature columns when occurring under the same localkey (and pedal point).
For example, pass <code class="docutils literal notranslate"><span class="pre">features</span> <span class="pre">=</span> <span class="pre">['numeral',</span> <span class="pre">'form',</span> <span class="pre">'figbass']</span></code> to drop rows where all three features are identical
with the previous row _and_ the localkey stays the same. If the column <code class="docutils literal notranslate"><span class="pre">duration_qb</span></code> is present, it is updated
with the new durations, as would be the IntervalIndex if there is one.
Uses: nan_eq()</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>at</strong> (<a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – Annotation table</p></li>
<li><p><strong>features</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a> or <a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#list" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a>) – Feature or feature combination for which to remove immediate repetitions</p></li>
<li><p><strong>dropna</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>) – Also subsumes rows for which all <code class="docutils literal notranslate"><span class="pre">features</span></code> are NaN, rather than treating them as a new value.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></p>
</dd>
</dl>
<div class="admonition-example admonition">
<p class="admonition-title">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">+--------------+--------------+-------------+----------+---------------+---------+------+---------+---------+--------------+</span>
<span class="go">|              | quarterbeats | duration_qb | localkey | chord         | numeral | form | figbass | changes | relativeroot |</span>
<span class="go">+==============+==============+=============+==========+===============+=========+======+=========+=========+==============+</span>
<span class="go">| [37.5, 38.5) | 75/2         | 1.0         | I        | viio65(6b3)/V | vii     | o    | 65      | 6b3     | V            |</span>
<span class="go">+--------------+--------------+-------------+----------+---------------+---------+------+---------+---------+--------------+</span>
<span class="go">| [38.5, 40.5) | 77/2         | 2.0         | I        | Ger           | vii     | o    | 65      | b3      | V            |</span>
<span class="go">+--------------+--------------+-------------+----------+---------------+---------+------+---------+---------+--------------+</span>
<span class="go">| [40.5, 41.5) | 81/2         | 1.0         | I        | V(7v4)        | V       |      |         | 7v4     |              |</span>
<span class="go">+--------------+--------------+-------------+----------+---------------+---------+------+---------+---------+--------------+</span>
<span class="go">| [41.5, 43.5) | 83/2         | 2.0         | I        | V(64)         | V       |      |         | 64      |              |</span>
<span class="go">+--------------+--------------+-------------+----------+---------------+---------+------+---------+---------+--------------+</span>
<span class="go">| [43.5, 44.5) | 87/2         | 1.0         | I        | V7(9)         | V       |      | 7       | 9       |              |</span>
<span class="go">+--------------+--------------+-------------+----------+---------------+---------+------+---------+---------+--------------+</span>
<span class="go">| [44.5, 46.5) | 89/2         | 2.0         | I        | V7            | V       |      | 7       |         |              |</span>
<span class="go">+--------------+--------------+-------------+----------+---------------+---------+------+---------+---------+--------------+</span>
<span class="go">| [46.5, 48.0) | 93/2         | 1.5         | I        | I             | I       |      |         |         |              |</span>
<span class="go">+--------------+--------------+-------------+----------+---------------+---------+------+---------+---------+--------------+</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">group_annotations_by_features</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="go">+--------------+--------------+-------------+----------+--------------+---------+-------+</span>
<span class="go">|              | quarterbeats | duration_qb | localkey | relativeroot | numeral | chord |</span>
<span class="go">+==============+==============+=============+==========+==============+=========+=======+</span>
<span class="go">| [37.5, 40.5) | 75/2         | 3.0         | I        | V            | vii     | vii/V |</span>
<span class="go">+--------------+--------------+-------------+----------+--------------+---------+-------+</span>
<span class="go">| [40.5, 46.5) | 81/2         | 6.0         | I        | NaN          | V       | V     |</span>
<span class="go">+--------------+--------------+-------------+----------+--------------+---------+-------+</span>
<span class="go">| [46.5, 48.0) | 93/2         | 1.5         | I        | NaN          | I       | I     |</span>
<span class="go">+--------------+--------------+-------------+----------+--------------+---------+-------+</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.transformations.labels2global_tonic">
<span class="sig-prename descclassname"><span class="pre">ms3.transformations.</span></span><span class="sig-name descname"><span class="pre">labels2global_tonic</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inplace</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/transformations.html#labels2global_tonic"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.transformations.labels2global_tonic" title="Permalink to this definition">¶</a></dt>
<dd><p>Transposes all numerals to their position in the global major or minor scale.
This eliminates localkeys and relativeroots. The resulting chords are defined
by [<cite>numeral</cite>, <cite>figbass</cite>, <cite>changes</cite>, <cite>globalkey_is_minor</cite>] (and <cite>pedal</cite>).</p>
<p>Uses: <code class="xref py py-func docutils literal notranslate"><span class="pre">transform()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">rel2abs_key^,</span> <span class="pre">:py:func:`resolve_relative_keys()</span></code> -&gt; <code class="xref py py-func docutils literal notranslate"><span class="pre">str_is_minor()</span></code>
<code class="xref py py-func docutils literal notranslate"><span class="pre">transpose_changes()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">series_is_minor()</span></code>,</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – Dataframe containing DCML chord labels that have been split by split_labels()
and where the keys have been propagated using propagate_keys(add_bool=True).</p></li>
<li><p><strong>cols</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#dict" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>, optional) – <p>In case the column names for <code class="docutils literal notranslate"><span class="pre">['numeral',</span> <span class="pre">'form',</span> <span class="pre">'figbass',</span> <span class="pre">'changes',</span> <span class="pre">'relativeroot',</span> <span class="pre">'localkey',</span> <span class="pre">'globalkey']</span></code> deviate, pass a dict, such as</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s1">&#39;chord&#39;</span><span class="p">:</span>           <span class="s1">&#39;chord_col_name&#39;</span>
 <span class="s1">&#39;pedal&#39;</span><span class="p">:</span>           <span class="s1">&#39;pedal_col_name&#39;</span><span class="p">,</span>
 <span class="s1">&#39;numeral&#39;</span><span class="p">:</span>         <span class="s1">&#39;numeral_col_name&#39;</span><span class="p">,</span>
 <span class="s1">&#39;form&#39;</span><span class="p">:</span>            <span class="s1">&#39;form_col_name&#39;</span><span class="p">,</span>
 <span class="s1">&#39;figbass&#39;</span><span class="p">:</span>         <span class="s1">&#39;figbass_col_name&#39;</span><span class="p">,</span>
 <span class="s1">&#39;changes&#39;</span><span class="p">:</span>         <span class="s1">&#39;changes_col_name&#39;</span><span class="p">,</span>
 <span class="s1">&#39;relativeroot&#39;</span><span class="p">:</span>    <span class="s1">&#39;relativeroot_col_name&#39;</span><span class="p">,</span>
 <span class="s1">&#39;localkey&#39;</span><span class="p">:</span>        <span class="s1">&#39;localkey_col_name&#39;</span><span class="p">,</span>
 <span class="s1">&#39;globalkey&#39;</span><span class="p">:</span>       <span class="s1">&#39;globalkey_col_name&#39;</span><span class="p">}}</span>
</pre></div>
</div>
</p></li>
<li><p><strong>inplace</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Pass True if you want to mutate the input.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>If <cite>inplace=False</cite>, the relevant features of the transposed chords are returned.
Otherwise, the original DataFrame is mutated.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.transformations.make_gantt_data">
<span class="sig-prename descclassname"><span class="pre">ms3.transformations.</span></span><span class="sig-name descname"><span class="pre">make_gantt_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">at</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">last_mn</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">relativeroots</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode_agnostic_adjacency</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/transformations.html#make_gantt_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.transformations.make_gantt_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes an expanded DCML annotation table and returns a DataFrame with timings of the included key segments,
based on the column <code class="docutils literal notranslate"><span class="pre">localkey</span></code>. The column names are suited for the plotly library.
Uses: rel2abs_key, resolve_relative_keys, roman_numeral2fifths roman_numerals2semitones, labels2global_tonic</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>at</strong> (<a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – Expanded DCML annotation table.</p></li>
<li><p><strong>last_mn</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>, optional) – By default, the column <code class="docutils literal notranslate"><span class="pre">quarterbeats</span></code> is used for computing Start and Finish unless the column is not present,
in which case a continuous version of measure numbers (MN) is used. In the latter case you should pass the last
measure number of the piece in order to calculate the correct duration of the last key segment; otherwise it
will go until the end of the last label’s MN. As soon as you pass a value, the column <code class="docutils literal notranslate"><span class="pre">quarterbeats</span></code> is ignored
even if present. If you want to ignore it but don’t know the last MN, pass -1.</p></li>
<li><p><strong>relativeroots</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – By default, additional rows are added based on the column <code class="docutils literal notranslate"><span class="pre">relativeroot</span></code>. Pass False to prevent that.</p></li>
<li><p><strong>mode_agnostic_adjacency</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – By default (if <code class="docutils literal notranslate"><span class="pre">relativeroots</span></code> is True), additional rows are added for labels adjacent to temporarily tonicized
roots, no matter if the mode is identical or not. For example, before and after a V/V, all V _and_ v labels will
be grouped as adjacent segments. Pass False to group only labels with the same mode (only V labels in the example),
or None to include no adjacency at all.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.transformations.notes2pcvs">
<span class="sig-prename descclassname"><span class="pre">ms3.transformations.</span></span><span class="sig-name descname"><span class="pre">notes2pcvs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">notes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pitch_class_format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'tpc'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">normalize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">long</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fillna</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">additional_group_cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ensure_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/transformations.html#notes2pcvs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.transformations.notes2pcvs" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>notes</strong> (<a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – Note table to be transformed into a wide or long table of Pitch Class Vectors by grouping via the first (or only)
index level. The DataFrame needs containing at least the columns ‘duration_qb’ and ‘tpc’ or ‘midi’, depending
on <code class="docutils literal notranslate"><span class="pre">pitch_class_format</span></code>.</p></li>
<li><p><strong>pitch_class_format</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – <div class="line-block">
<div class="line">Defines the type of pitch classes to use for the vectors.</div>
<div class="line">’tpc’ (default): tonal pitch class, such that -1=F, 0=C, 1=G etc.</div>
<div class="line">’name’: tonal pitch class as spelled pitch, e.g. ‘C’, ‘F#’, ‘Abb’ etc.</div>
<div class="line">’pc’: chromatic pitch classes where 0=C, 1=C#/Db, … 11=B/Cb.</div>
<div class="line">’midi’: original MIDI numbers; the result are pitch vectors, not pitch class vectors.</div>
</div>
</p></li>
<li><p><strong>normalize</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – By default, the PCVs contain absolute durations in quarter notes. Pass True to normalize
the PCV for each group.</p></li>
<li><p><strong>long</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – By default, the resulting DataFrames have wide format, i.e. each row contains the PCV
for one slice. Pass True if you need long format instead, i.e. with a non-unique
<a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.IntervalIndex</span></code></a> and two columns, <code class="docutils literal notranslate"><span class="pre">[('tpc'|'midi'),</span> <span class="pre">'duration_qb']</span></code>
where the first column’s name depends on <code class="docutils literal notranslate"><span class="pre">pitch_class_format</span></code>.</p></li>
<li><p><strong>fillna</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – By default, if a Pitch class does not appear in a PCV, its value will be 0. Pass False if
you want NA instead.</p></li>
<li><p><strong>additional_group_cols</strong> ((<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#list" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a> of) <a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – If you would like to maintain some information from other columns of <code class="docutils literal notranslate"><span class="pre">notes</span></code> in additional index levels,
pass their names.</p></li>
<li><p><strong>ensure_columns</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">Iterable</span></code>, optional) – By default, pitch classes that don’t appear don’t get a column. Pass a value if you want to
ensure the presence of particular columns, even if empty. For example, if <code class="docutils literal notranslate"><span class="pre">pitch_class_format='pc'</span></code>
you could pass <code class="docutils literal notranslate"><span class="pre">ensure_columns=range(12)</span></code>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.transformations.resolve_all_relative_numerals">
<span class="sig-prename descclassname"><span class="pre">ms3.transformations.</span></span><span class="sig-name descname"><span class="pre">resolve_all_relative_numerals</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">at</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">additional_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inplace</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/transformations.html#resolve_all_relative_numerals"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.transformations.resolve_all_relative_numerals" title="Permalink to this definition">¶</a></dt>
<dd><p>Resolves Roman numerals that include slash notation such as ‘#vii/ii’ =&gt; ‘#i’ or ‘V/V/V’ =&gt; ‘VI’ in a major and
‘#VI’ in a minor key. The function expects the columns [‘globalkey_is_minor’, ‘localkey_is_minor’] to be present.
The former is necessary only if the column ‘localkey’ is present and needs resolving. Execution will be slightly
faster if performed on the entire DataFrame rather than using <a class="reference internal" href="#ms3.transformations.transform_multiple" title="ms3.transformations.transform_multiple"><code class="xref py py-meth docutils literal notranslate"><span class="pre">transform_multiple()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>at</strong> (<a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – Annotation table.</p></li>
<li><p><strong>additional_columns</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a> or <a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#list" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a>) – By default, the function resolves, if present, the columns [‘relativeroot’, ‘pedal’] but here you can name
other columns, too. They will be resolved based on the localkey’s mode.</p></li>
<li><p><strong>inplace</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – By default, a manipulated copy of <code class="docutils literal notranslate"><span class="pre">at</span></code> is returned. Pass True to mutate instead.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.transformations.segment_by_adjacency_groups">
<span class="sig-prename descclassname"><span class="pre">ms3.transformations.</span></span><span class="sig-name descname"><span class="pre">segment_by_adjacency_groups</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cols</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">na_values</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'group'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">group_keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/transformations.html#segment_by_adjacency_groups"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.transformations.segment_by_adjacency_groups" title="Permalink to this definition">¶</a></dt>
<dd><p>Drop exact adjacent repetitions within one or a combination of several feature columns and adapt the
IntervalIndex and the column ‘duration_qb’ accordingly.
Uses: <code class="xref py py-func docutils literal notranslate"><span class="pre">adjacency_groups()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">reduce_dataframe_duration_to_first_row()</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – DataFrame to be reduced, expected to contain the column <code class="docutils literal notranslate"><span class="pre">duration_qb</span></code>. In order to use the result as a
segmentation, it should have a <a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.IntervalIndex</span></code></a>.</p></li>
<li><p><strong>cols</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#list" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a>) – Feature columns which exact, adjacent repetitions should be grouped to a segment, keeping only the first row.</p></li>
<li><p><strong>na_values</strong> ((<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#list" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a> of) <a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a> or <code class="xref py py-obj docutils literal notranslate"><span class="pre">Any</span></code>, optional) – <div class="line-block">
<div class="line">Either pass a list of equal length as <code class="docutils literal notranslate"><span class="pre">cols</span></code> or a single value that is passed to <code class="xref py py-func docutils literal notranslate"><span class="pre">adjacency_groups()</span></code></div>
<div class="line">for each. Not dealing with NA values will lead to wrongly grouped segments. The default option is the safest.</div>
<div class="line">’group’ creates individual groups for NA values</div>
<div class="line">’backfill’ or ‘bfill’ groups NA values with the subsequent group</div>
<div class="line">’pad’, ‘ffill’ groups NA values with the preceding group</div>
<div class="line">Any other value works like ‘group’, with the difference that the created groups will be named with this value.</div>
</div>
</p></li>
<li><p><strong>group_keys</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – By default, the grouped values will be returned as an appended MultiIndex, differentiation groups via ascending
integers. If you want to duplicate the columns’ value, e.g. to account for a custom filling value for
<code class="docutils literal notranslate"><span class="pre">na_values</span></code>, pass True. Beware that this most often results in non-unique index levels.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Reduced DataFrame with updated ‘duration_qb’ column and <a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.IntervalIndex</span></code></a> on the first level
(if present).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.transformations.segment_by_criterion">
<span class="sig-prename descclassname"><span class="pre">ms3.transformations.</span></span><span class="sig-name descname"><span class="pre">segment_by_criterion</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><span class="pre">DataFrame</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">boolean_mask</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v1.5.2)"><span class="pre">Series</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">array</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">warn_na</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><span class="pre">DataFrame</span></a></span></span><a class="reference internal" href="_modules/ms3/transformations.html#segment_by_criterion"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.transformations.segment_by_criterion" title="Permalink to this definition">¶</a></dt>
<dd><p>Drop all rows where the boolean mask does not match and adapt the IntervalIndex and the column ‘duration_qb’ accordingly.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> – DataFrame to be reduced, expected to come with the column <code class="docutils literal notranslate"><span class="pre">duration_qb</span></code> and an <a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.IntervalIndex</span></code></a>.</p></li>
<li><p><strong>boolean_mask</strong> – Boolean mask where every True value starts a new segment.</p></li>
<li><p><strong>warn_na</strong> – If the boolean mask starts with any number of False, this first group will be missing from the result.
Set warn_na to True if you want the logger to throw a warning in this case.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Reduced DataFrame with updated ‘duration_qb’ column and <a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.IntervalIndex</span></code></a> on the first level.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.transformations.segment_by_interval_index">
<span class="sig-prename descclassname"><span class="pre">ms3.transformations.</span></span><span class="sig-name descname"><span class="pre">segment_by_interval_index</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">idx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">truncate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/transformations.html#segment_by_interval_index"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.transformations.segment_by_interval_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Segment a DataFrame into chunks based on a given IntervalIndex.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – DataFrame that has a <a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.IntervalIndex</span></code></a> to allow for its segmentation.</p></li>
<li><p><strong>idx</strong> (<a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.IntervalIndex</span></code></a> or <a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.MultiIndex.html#pandas.MultiIndex" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.MultiIndex</span></code></a>) – Intervals by which to segment <code class="docutils literal notranslate"><span class="pre">df</span></code>. The index will be prepended to differentiate between segments. If <code class="docutils literal notranslate"><span class="pre">idx</span></code>
is a <a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.MultiIndex.html#pandas.MultiIndex" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.MultiIndex</span></code></a>, the first level is expected to be a <a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.IntervalIndex</span></code></a>.</p></li>
<li><p><strong>truncate</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – By default, the intervals of the segmented DataFrame will be cut off at segment boundaries and the event’s
‘duration_qb’ will be adapted accordingly. Pass False to prevent that and duplicate overlapping events without
adapting their Intervals and ‘duration_qb’.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A copy of <code class="docutils literal notranslate"><span class="pre">df</span></code> where the index levels <code class="docutils literal notranslate"><span class="pre">idx</span></code> have been prepended and only rows of <code class="docutils literal notranslate"><span class="pre">df</span></code> with overlapping
intervals are included.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.transformations.slice_df">
<span class="sig-prename descclassname"><span class="pre">ms3.transformations.</span></span><span class="sig-name descname"><span class="pre">slice_df</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><span class="pre">DataFrame</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">quarters_per_slice</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.10/library/functions.html#float" title="(in Python v3.10)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.10/library/typing.html#typing.Dict" title="(in Python v3.10)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Interval.html#pandas.Interval" title="(in pandas v1.5.2)"><span class="pre">Interval</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><span class="pre">DataFrame</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/ms3/transformations.html#slice_df"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.transformations.slice_df" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a sliced version of the DataFrame. Slices appear in the IntervalIndex and the contained event’s
durations within the slice are shown in the column ‘duration_qb’.
Uses:</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – The DataFrame is expected to come with an IntervalIndex and contain the columns ‘quarterbeats’ and ‘duration_qb’.
Those can be obtained through <code class="docutils literal notranslate"><span class="pre">Parse.get_lists(interval_index=True)</span></code> or
<code class="docutils literal notranslate"><span class="pre">Parse.iter_transformed(interval_index=True)</span></code>.</p></li>
<li><p><strong>quarters_per_slice</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#float" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code></a>, optional) – By default, the slices have variable size, from onset to onset. If you pass a value, the slices will
have that constant size, measured in quarter notes. For example, pass 1.0 for all slices to have size 1 quarter.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.transformations.transform_multiple">
<span class="sig-prename descclassname"><span class="pre">ms3.transformations.</span></span><span class="sig-name descname"><span class="pre">transform_multiple</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">level</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/transformations.html#transform_multiple"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.transformations.transform_multiple" title="Permalink to this definition">¶</a></dt>
<dd><p>Applying transformation(s) separately to concatenated pieces that can be differentiated by index level(s).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – Concatenated tables with <a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.MultiIndex.html#pandas.MultiIndex" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.MultiIndex</span></code></a>.</p></li>
<li><p><strong>func</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/collections.abc.html#collections.abc.Callable" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Callable</span></code></a> or <a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – Function to be applied to the individual tables. For convenience, you can pass strings to call the standard
transformers for a particular table type. For example, pass ‘annotations’ to call <code class="docutils literal notranslate"><span class="pre">transform_annotations</span></code>.</p></li>
<li><p><strong>level</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a> or <a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#list" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a>) – Argument passed to <a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby" title="(in pandas v1.5.2)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pandas.DataFrame.groupby()</span></code></a>. Defaults to -1, resulting in a GroupBy by all levels
except the last. Conversely, you can pass, for instance, 2 to group by the first two levels.</p></li>
<li><p><strong>kwargs</strong> – Keyword arguments passed to <code class="docutils literal notranslate"><span class="pre">func</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.transformations.transform_annotations">
<span class="sig-prename descclassname"><span class="pre">ms3.transformations.</span></span><span class="sig-name descname"><span class="pre">transform_annotations</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">at</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">groupby_features</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resolve_relative</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/transformations.html#transform_annotations"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.transformations.transform_annotations" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper for applying several transformations to an annotation table.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>at</strong> (<a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – Annotation table corresponding to a single piece.</p></li>
<li><p><strong>groupby_features</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a> or <a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#list" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a>) – Argument <code class="docutils literal notranslate"><span class="pre">features</span></code> passed to <a class="reference internal" href="#ms3.transformations.group_annotations_by_features" title="ms3.transformations.group_annotations_by_features"><code class="xref py py-meth docutils literal notranslate"><span class="pre">group_annotations_by_features()</span></code></a>.</p></li>
<li><p><strong>resolve_relative</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>) – Resolves slash notation (e.g. ‘vii/V’) from Roman numerals in the columns [‘localkey’, ‘relativeroot’, ‘pedal’].</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.transformations.transpose_notes_to_localkey">
<span class="sig-prename descclassname"><span class="pre">ms3.transformations.</span></span><span class="sig-name descname"><span class="pre">transpose_notes_to_localkey</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">notes</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/transformations.html#transpose_notes_to_localkey"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.transformations.transpose_notes_to_localkey" title="Permalink to this definition">¶</a></dt>
<dd><p>Transpose the columns ‘tpc’ and ‘midi’ such that they reflect the local key as if it was C major/minor. This
operation is typically required for creating pitch class profiles.
Uses: <code class="xref py py-func docutils literal notranslate"><span class="pre">transform()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">name2fifths()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">roman_numeral2fifths()</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>notes</strong> (<a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – DataFrame that has at least the columns [‘globalkey’, ‘localkey’, ‘tpc’, ‘midi’].</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A copy of <code class="docutils literal notranslate"><span class="pre">notes</span></code> where the columns ‘tpc’ and ‘midi’ are shifted in such a way that tpc=0 and midi=60
match the local tonic (e.g. for the local key A major/minor, each pitch A will have tpc=0 and midi % 12 = 0).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.transformations.transform_columns">
<span class="sig-prename descclassname"><span class="pre">ms3.transformations.</span></span><span class="sig-name descname"><span class="pre">transform_columns</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">param2col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inplace</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/transformations.html#transform_columns"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.transformations.transform_columns" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper function to use transform() on df[columns], leaving the other columns untouched.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – DataFrame where columns (or column combinations) work as function arguments.</p></li>
<li><p><strong>func</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#callable" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">callable</span></code></a>) – Function you want to apply to all elements in <cite>columns</cite>.</p></li>
<li><p><strong>columns</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#list" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a>) – Columns to which you want to apply <cite>func</cite>.</p></li>
<li><p><strong>param2col</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#dict" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a> or <a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#list" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a>, optional) – Mapping from parameter names of <cite>func</cite> to column names.
If you pass a list of column names, the columns’ values are passed as positional arguments.
Pass None if you want to use all columns as positional arguments.</p></li>
<li><p><strong>inplace</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Pass True if you want to mutate <cite>df</cite> rather than getting an altered copy.</p></li>
<li><p><strong>**kwargs</strong> (<em>keyword arguments for transform</em><em>(</em><em>)</em>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.transformations.transform_note_columns">
<span class="sig-prename descclassname"><span class="pre">ms3.transformations.</span></span><span class="sig-name descname"><span class="pre">transform_note_columns</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">to</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">note_cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['chord_tones',</span> <span class="pre">'added_tones',</span> <span class="pre">'bass_note',</span> <span class="pre">'root']</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minor_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'localkey_is_minor'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inplace</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/transformations.html#transform_note_columns"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.transformations.transform_note_columns" title="Permalink to this definition">¶</a></dt>
<dd><p>Turns columns with line-of-fifth tonal pitch classes into another representation.</p>
<p>Uses: transform_columns()</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – DataFrame where columns (or column combinations) work as function arguments.</p></li>
<li><p><strong>to</strong> (<em>{'name'</em><em>, </em><em>'iv'</em><em>, </em><em>'pc'</em><em>, </em><em>'sd'</em><em>, </em><em>'rn'}</em>) – <p>The tone representation that you want to get from the <cite>note_cols</cite>.</p>
<ul>
<li><dl class="simple">
<dt>’name’: Note names. Should only be used if the stacked fifths actually represent</dt><dd><p>absolute tonal pitch classes rather than intervals over the local tonic.
In other words, make sure to use ‘name’ only if 0 means C rather than I.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>’iv’:   Intervals such that 0 = ‘P1’, 1 = ‘P5’, 4 = ‘M3’, -3 = ‘m3’, 6 = ‘A4’,</dt><dd><p>-6 = ‘D5’ etc.</p>
</dd>
</dl>
</li>
<li><p>’pc’:   (Relative) chromatic pitch class, or distance from tonic in semitones.</p></li>
<li><dl class="simple">
<dt>’sd’:   Scale degrees such that 0 = ‘1’, -1 = ‘4’, -2 = ‘b7’ in major, ‘7’ in minor etc.</dt><dd><p>This representation requires a boolean column <cite>minor_col</cite> which is
True in those rows where the stacks of fifths occur in a local minor
context and False for the others. Alternatively, if all pitches are
in the same mode or you simply want to express them as degrees of
particular mode, you can pass the boolean keyword argument <cite>minor</cite>.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>’rn’:   Roman numerals such that 0 = ‘I’, -2 = ‘bVII’ in major, ‘VII’ in minor etc.</dt><dd><p>Requires boolean ‘minor’ values, see ‘sd’.</p>
</dd>
</dl>
</li>
</ul>
</p></li>
<li><p><strong>note_cols</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#list" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a>, optional) – List of columns that hold integers or collections of integers that represent
stacks of fifth (0 = tonal center, 1 = fifth above, -1 = fourth above, etc).</p></li>
<li><p><strong>minor_col</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – If <cite>to</cite> is ‘sd’ or ‘rn’, specify a boolean column where the value is
True in those rows where the stacks of fifths occur in a local minor
context and False for the others.</p></li>
<li><p><strong>**kwargs</strong> (<em>keyword arguments for transform</em><em>(</em><em>)</em>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ms3.transformations.transpose_chord_tones_by_localkey">
<span class="sig-prename descclassname"><span class="pre">ms3.transformations.</span></span><span class="sig-name descname"><span class="pre">transpose_chord_tones_by_localkey</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">by_global</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/transformations.html#transpose_chord_tones_by_localkey"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ms3.transformations.transpose_chord_tones_by_localkey" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Returns a copy of the expanded table where the scale degrees in the chord tone columns</dt><dd><p>have been transposed by localkey (i.e. they express all chord tones as scale degrees of
the globalkey) or, if <code class="docutils literal notranslate"><span class="pre">by_global</span></code> is set to True, additionally by globalkey (i.e., chord
tones as tonal pitch classes TPC).</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – Expanded labels with chord tone columns.</p></li>
<li><p><strong>by_global</strong> (<a class="reference external" href="https://docs.python.org/3.10/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>) – By default, the transformed chord tone columns express chord tones as scale degrees (or
intervals) of the global tonic. If set to True, they correspond to tonal pitch classes
and can be further transformed to note names using transform_note_columns().</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></p>
</dd>
</dl>
</dd></dl>

</section>
<section id="the-commandline-interface">
<span id="cli-doc"></span><h2>The commandline interface<a class="headerlink" href="#the-commandline-interface" title="Permalink to this heading">¶</a></h2>
<p><div class="line-block">
<div class="line">Welcome to ms3 parsing |</div>
</div>
<p>The library offers you the following commands. Add the flag -h to one of them to learn about its parameters.</p>
</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">usage</span><span class="p">:</span> <span class="n">ms3</span> <span class="p">[</span><span class="o">-</span><span class="n">h</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">version</span><span class="p">]</span>
           <span class="p">{</span><span class="n">add</span><span class="p">,</span><span class="n">check</span><span class="p">,</span><span class="n">compare</span><span class="p">,</span><span class="n">convert</span><span class="p">,</span><span class="n">empty</span><span class="p">,</span><span class="n">extract</span><span class="p">,</span><span class="n">metadata</span><span class="p">,</span><span class="n">repair</span><span class="p">,</span><span class="n">review</span><span class="p">,</span><span class="n">transform</span><span class="p">,</span><span class="n">update</span><span class="p">}</span> <span class="o">...</span>
</pre></div>
</div>
<section id="Positional Arguments">
<h3>Positional Arguments<a class="headerlink" href="#Positional Arguments" title="Permalink to this heading">¶</a></h3>
<dl class="option-list">
<dt><kbd>action</kbd></dt>
<dd><p>Possible choices: add, check, compare, convert, empty, extract, metadata, repair, review, transform, update</p>
<p>The action that you want to perform.</p>
</dd>
</dl>
</section>
<section id="options">
<h3>options<a class="headerlink" href="#options" title="Permalink to this heading">¶</a></h3>
<dl class="option-list">
<dt><kbd>--version</kbd></dt>
<dd><p>show program’s version number and exit</p>
</dd>
</dl>
</section>
<section id="Sub-commands:">
<h3>Sub-commands:<a class="headerlink" href="#Sub-commands:" title="Permalink to this heading">¶</a></h3>
<section id="add">
<h4>add<a class="headerlink" href="#add" title="Permalink to this heading">¶</a></h4>
<p>Add labels from annotation tables to scores.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ms3</span> <span class="n">add</span> <span class="p">[</span><span class="o">-</span><span class="n">h</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">ask</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">use</span> <span class="p">{</span><span class="n">expanded</span><span class="p">,</span><span class="n">labels</span><span class="p">}]</span> <span class="p">[</span><span class="o">-</span><span class="n">d</span> <span class="n">DIR</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">o</span> <span class="n">OUT_DIR</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">n</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">a</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">i</span> <span class="n">REGEX</span><span class="p">]</span>
        <span class="p">[</span><span class="o">-</span><span class="n">e</span> <span class="n">REGEX</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">f</span> <span class="n">REGEX</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">m</span> <span class="p">[</span><span class="n">PATH</span><span class="p">]]</span> <span class="p">[</span><span class="o">--</span><span class="n">reviewed</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">files</span> <span class="n">PATHs</span> <span class="p">[</span><span class="n">PATHs</span> <span class="o">...</span><span class="p">]]</span> <span class="p">[</span><span class="o">--</span><span class="n">iterative</span><span class="p">]</span>
        <span class="p">[</span><span class="o">-</span><span class="n">l</span> <span class="p">{</span><span class="n">c</span><span class="p">,</span> <span class="n">e</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">d</span><span class="p">}]</span> <span class="p">[</span><span class="o">--</span><span class="n">log</span> <span class="p">[</span><span class="n">LOG</span><span class="p">]]</span> <span class="p">[</span><span class="o">-</span><span class="n">t</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">v</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">s</span> <span class="n">SUFFIX</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">replace</span><span class="p">]</span>
</pre></div>
</div>
<section id="options_repeat1">
<h5>options<a class="headerlink" href="#options_repeat1" title="Permalink to this heading">¶</a></h5>
<dl class="option-list">
<dt><kbd>--ask</kbd></dt>
<dd><p>If several files are available for the selected facet (default: ‘expanded’, see –use), I will pick one automatically. Add –ask if you want me to have you select which ones to compare with the scores.</p>
<p>Default: False</p>
</dd>
<dt><kbd>--use</kbd></dt>
<dd><p>Possible choices: expanded, labels</p>
<p>Which type of labels you want to compare with the ones in the score. Defaults to ‘expanded’, i.e., DCML labels. Set –use labels to use other labels available as TSV and set –ask if several sets of labels are available that you want to choose from.</p>
<p>Default: “expanded”</p>
</dd>
<dt><kbd>-d, --dir</kbd></dt>
<dd><p>Folder(s) that will be scanned for input files. Defaults to current working directory if no individual files are passed via -f.</p>
<p>Default: /home/hentsche/PycharmProjects/ms3/docs</p>
</dd>
<dt><kbd>-o, --out</kbd></dt>
<dd><p>Output directory.</p>
</dd>
<dt><kbd>-n, --nonrecursive</kbd></dt>
<dd><p>Treat DIR as single corpus even if it contains corpus directories itself.</p>
<p>Default: False</p>
</dd>
<dt><kbd>-a, --all</kbd></dt>
<dd><p>By default, only files listed in the ‘fname’ column of a ‘metadata.tsv’ file are parsed. With this option, all files will be parsed.</p>
<p>Default: False</p>
</dd>
<dt><kbd>-i, --include</kbd></dt>
<dd><p>Select only files whose names include this string or regular expression.</p>
</dd>
<dt><kbd>-e, --exclude</kbd></dt>
<dd><p>Any files or folders (and their subfolders) including this regex will be disregarded.By default, files including ‘_reviewed’ or starting with . or _ or ‘concatenated’ are excluded.</p>
</dd>
<dt><kbd>-f, --folders</kbd></dt>
<dd><p>Select only folders whose names include this string or regular expression.</p>
</dd>
<dt><kbd>-m, --musescore</kbd></dt>
<dd><dl class="simple">
<dt>Command or path of your MuseScore 3 executable. -m by itself will set ‘auto’ (attempt to use standard path for your system).</dt><dd><p>Other shortcuts are -m win, -m mac, and -m mscore (for Linux).</p>
</dd>
</dl>
</dd>
<dt><kbd>--reviewed</kbd></dt>
<dd><p>By default, review files and folder are excluded from parsing. With this option, they will be included, too.</p>
<p>Default: False</p>
</dd>
<dt><kbd>--files</kbd></dt>
<dd><p>(Deprecated) The paths are expected to be within DIR. They will be converted into a view that includes only the indicated files. This is equivalent to specifying the file names as a regex via –include (assuming that file names are unique amongst corpora.</p>
</dd>
<dt><kbd>--iterative</kbd></dt>
<dd><p>Do not use all available CPU cores in parallel to speed up batch jobs.</p>
<p>Default: False</p>
</dd>
<dt><kbd>-l, --level</kbd></dt>
<dd><p>Choose how many log messages you want to see: c (none), e, w, i, d (maximum)</p>
<p>Default: “i”</p>
</dd>
<dt><kbd>--log</kbd></dt>
<dd><p>Can be a file path or directory path. Relative paths are interpreted relative to the current directory.</p>
</dd>
<dt><kbd>-t, --test</kbd></dt>
<dd><p>No data is written to disk.</p>
<p>Default: False</p>
</dd>
<dt><kbd>-v, --verbose</kbd></dt>
<dd><p>Show more output such as files discarded from parsing.</p>
<p>Default: False</p>
</dd>
<dt><kbd>-s, --suffix</kbd></dt>
<dd><p>Suffix of the new scores with inserted labels. Defaults to _annotated.</p>
<p>Default: “_annotated”</p>
</dd>
<dt><kbd>--replace</kbd></dt>
<dd><p>Remove existing labels from the scores prior to adding. Like calling ms3 empty first.</p>
<p>Default: False</p>
</dd>
</dl>
</section>
</section>
<section id="check">
<h4>check<a class="headerlink" href="#check" title="Permalink to this heading">¶</a></h4>
<p>Parse MSCX files and look for errors.
In particular, check DCML harmony labels for syntactic correctness.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ms3</span> <span class="n">check</span> <span class="p">[</span><span class="o">-</span><span class="n">h</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">ignore_scores</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">ignore_labels</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">fail</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">d</span> <span class="n">DIR</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">o</span> <span class="n">OUT_DIR</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">n</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">a</span><span class="p">]</span>
          <span class="p">[</span><span class="o">-</span><span class="n">i</span> <span class="n">REGEX</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">e</span> <span class="n">REGEX</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">f</span> <span class="n">REGEX</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">m</span> <span class="p">[</span><span class="n">PATH</span><span class="p">]]</span> <span class="p">[</span><span class="o">--</span><span class="n">reviewed</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">files</span> <span class="n">PATHs</span> <span class="p">[</span><span class="n">PATHs</span> <span class="o">...</span><span class="p">]]</span>
          <span class="p">[</span><span class="o">--</span><span class="n">iterative</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">l</span> <span class="p">{</span><span class="n">c</span><span class="p">,</span> <span class="n">e</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">d</span><span class="p">}]</span> <span class="p">[</span><span class="o">--</span><span class="n">log</span> <span class="p">[</span><span class="n">LOG</span><span class="p">]]</span> <span class="p">[</span><span class="o">-</span><span class="n">t</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">v</span><span class="p">]</span>
</pre></div>
</div>
<section id="options_repeat2">
<h5>options<a class="headerlink" href="#options_repeat2" title="Permalink to this heading">¶</a></h5>
<dl class="option-list">
<dt><kbd>--ignore_scores</kbd></dt>
<dd><p>Don’t check scores for encoding errors.</p>
<p>Default: False</p>
</dd>
<dt><kbd>--ignore_labels</kbd></dt>
<dd><p>Don’t check DCML labels for syntactic correctness.</p>
<p>Default: False</p>
</dd>
<dt><kbd>--fail</kbd></dt>
<dd><p>If you pass this argument the process will deliberately fail with an AssertionError when there are any mistakes.</p>
<p>Default: False</p>
</dd>
<dt><kbd>-d, --dir</kbd></dt>
<dd><p>Folder(s) that will be scanned for input files. Defaults to current working directory if no individual files are passed via -f.</p>
<p>Default: /home/hentsche/PycharmProjects/ms3/docs</p>
</dd>
<dt><kbd>-o, --out</kbd></dt>
<dd><p>Output directory.</p>
</dd>
<dt><kbd>-n, --nonrecursive</kbd></dt>
<dd><p>Treat DIR as single corpus even if it contains corpus directories itself.</p>
<p>Default: False</p>
</dd>
<dt><kbd>-a, --all</kbd></dt>
<dd><p>By default, only files listed in the ‘fname’ column of a ‘metadata.tsv’ file are parsed. With this option, all files will be parsed.</p>
<p>Default: False</p>
</dd>
<dt><kbd>-i, --include</kbd></dt>
<dd><p>Select only files whose names include this string or regular expression.</p>
</dd>
<dt><kbd>-e, --exclude</kbd></dt>
<dd><p>Any files or folders (and their subfolders) including this regex will be disregarded.By default, files including ‘_reviewed’ or starting with . or _ or ‘concatenated’ are excluded.</p>
</dd>
<dt><kbd>-f, --folders</kbd></dt>
<dd><p>Select only folders whose names include this string or regular expression.</p>
</dd>
<dt><kbd>-m, --musescore</kbd></dt>
<dd><dl class="simple">
<dt>Command or path of your MuseScore 3 executable. -m by itself will set ‘auto’ (attempt to use standard path for your system).</dt><dd><p>Other shortcuts are -m win, -m mac, and -m mscore (for Linux).</p>
</dd>
</dl>
</dd>
<dt><kbd>--reviewed</kbd></dt>
<dd><p>By default, review files and folder are excluded from parsing. With this option, they will be included, too.</p>
<p>Default: False</p>
</dd>
<dt><kbd>--files</kbd></dt>
<dd><p>(Deprecated) The paths are expected to be within DIR. They will be converted into a view that includes only the indicated files. This is equivalent to specifying the file names as a regex via –include (assuming that file names are unique amongst corpora.</p>
</dd>
<dt><kbd>--iterative</kbd></dt>
<dd><p>Do not use all available CPU cores in parallel to speed up batch jobs.</p>
<p>Default: False</p>
</dd>
<dt><kbd>-l, --level</kbd></dt>
<dd><p>Choose how many log messages you want to see: c (none), e, w, i, d (maximum)</p>
<p>Default: “i”</p>
</dd>
<dt><kbd>--log</kbd></dt>
<dd><p>Can be a file path or directory path. Relative paths are interpreted relative to the current directory.</p>
</dd>
<dt><kbd>-t, --test</kbd></dt>
<dd><p>No data is written to disk.</p>
<p>Default: False</p>
</dd>
<dt><kbd>-v, --verbose</kbd></dt>
<dd><p>Show more output such as files discarded from parsing.</p>
<p>Default: False</p>
</dd>
</dl>
</section>
</section>
<section id="compare">
<h4>compare<a class="headerlink" href="#compare" title="Permalink to this heading">¶</a></h4>
<p>For MSCX files for which annotation tables exist, create another MSCX file with a coloured label comparison if differences are found.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ms3</span> <span class="n">compare</span> <span class="p">[</span><span class="o">-</span><span class="n">h</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">ask</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">use</span> <span class="p">{</span><span class="n">expanded</span><span class="p">,</span><span class="n">labels</span><span class="p">}]</span> <span class="p">[</span><span class="o">--</span><span class="n">flip</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">safe</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">d</span> <span class="n">DIR</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">o</span> <span class="n">OUT_DIR</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">n</span><span class="p">]</span>
            <span class="p">[</span><span class="o">-</span><span class="n">a</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">i</span> <span class="n">REGEX</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">e</span> <span class="n">REGEX</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">f</span> <span class="n">REGEX</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">m</span> <span class="p">[</span><span class="n">PATH</span><span class="p">]]</span> <span class="p">[</span><span class="o">--</span><span class="n">reviewed</span><span class="p">]</span>
            <span class="p">[</span><span class="o">--</span><span class="n">files</span> <span class="n">PATHs</span> <span class="p">[</span><span class="n">PATHs</span> <span class="o">...</span><span class="p">]]</span> <span class="p">[</span><span class="o">--</span><span class="n">iterative</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">l</span> <span class="p">{</span><span class="n">c</span><span class="p">,</span> <span class="n">e</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">d</span><span class="p">}]</span> <span class="p">[</span><span class="o">--</span><span class="n">log</span> <span class="p">[</span><span class="n">LOG</span><span class="p">]]</span> <span class="p">[</span><span class="o">-</span><span class="n">t</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">v</span><span class="p">]</span>
            <span class="p">[</span><span class="o">-</span><span class="n">c</span> <span class="n">GIT_REVISION</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">s</span> <span class="n">SUFFIX</span><span class="p">]</span>
</pre></div>
</div>
<section id="options_repeat3">
<h5>options<a class="headerlink" href="#options_repeat3" title="Permalink to this heading">¶</a></h5>
<dl class="option-list">
<dt><kbd>--ask</kbd></dt>
<dd><p>If several files are available for the selected facet (default: ‘expanded’, see –use), I will pick one automatically. Add –ask if you want me to have you select which ones to compare with the scores.</p>
<p>Default: False</p>
</dd>
<dt><kbd>--use</kbd></dt>
<dd><p>Possible choices: expanded, labels</p>
<p>Which type of labels you want to compare with the ones in the score. Defaults to ‘expanded’, i.e., DCML labels. Set –use labels to use other labels available as TSV and set –ask if several sets of labels are available that you want to choose from.</p>
<p>Default: “expanded”</p>
</dd>
<dt><kbd>--flip</kbd></dt>
<dd><p>Pass this flag to treat the annotation tables as if updating the scores instead of the other way around, effectively resulting in a swap of the colors in the output files.</p>
<p>Default: False</p>
</dd>
<dt><kbd>--safe</kbd></dt>
<dd><p>Don’t overwrite existing files.</p>
<p>Default: True</p>
</dd>
<dt><kbd>-d, --dir</kbd></dt>
<dd><p>Folder(s) that will be scanned for input files. Defaults to current working directory if no individual files are passed via -f.</p>
<p>Default: /home/hentsche/PycharmProjects/ms3/docs</p>
</dd>
<dt><kbd>-o, --out</kbd></dt>
<dd><p>Output directory.</p>
</dd>
<dt><kbd>-n, --nonrecursive</kbd></dt>
<dd><p>Treat DIR as single corpus even if it contains corpus directories itself.</p>
<p>Default: False</p>
</dd>
<dt><kbd>-a, --all</kbd></dt>
<dd><p>By default, only files listed in the ‘fname’ column of a ‘metadata.tsv’ file are parsed. With this option, all files will be parsed.</p>
<p>Default: False</p>
</dd>
<dt><kbd>-i, --include</kbd></dt>
<dd><p>Select only files whose names include this string or regular expression.</p>
</dd>
<dt><kbd>-e, --exclude</kbd></dt>
<dd><p>Any files or folders (and their subfolders) including this regex will be disregarded.By default, files including ‘_reviewed’ or starting with . or _ or ‘concatenated’ are excluded.</p>
</dd>
<dt><kbd>-f, --folders</kbd></dt>
<dd><p>Select only folders whose names include this string or regular expression.</p>
</dd>
<dt><kbd>-m, --musescore</kbd></dt>
<dd><dl class="simple">
<dt>Command or path of your MuseScore 3 executable. -m by itself will set ‘auto’ (attempt to use standard path for your system).</dt><dd><p>Other shortcuts are -m win, -m mac, and -m mscore (for Linux).</p>
</dd>
</dl>
</dd>
<dt><kbd>--reviewed</kbd></dt>
<dd><p>By default, review files and folder are excluded from parsing. With this option, they will be included, too.</p>
<p>Default: False</p>
</dd>
<dt><kbd>--files</kbd></dt>
<dd><p>(Deprecated) The paths are expected to be within DIR. They will be converted into a view that includes only the indicated files. This is equivalent to specifying the file names as a regex via –include (assuming that file names are unique amongst corpora.</p>
</dd>
<dt><kbd>--iterative</kbd></dt>
<dd><p>Do not use all available CPU cores in parallel to speed up batch jobs.</p>
<p>Default: False</p>
</dd>
<dt><kbd>-l, --level</kbd></dt>
<dd><p>Choose how many log messages you want to see: c (none), e, w, i, d (maximum)</p>
<p>Default: “i”</p>
</dd>
<dt><kbd>--log</kbd></dt>
<dd><p>Can be a file path or directory path. Relative paths are interpreted relative to the current directory.</p>
</dd>
<dt><kbd>-t, --test</kbd></dt>
<dd><p>No data is written to disk.</p>
<p>Default: False</p>
</dd>
<dt><kbd>-v, --verbose</kbd></dt>
<dd><p>Show more output such as files discarded from parsing.</p>
<p>Default: False</p>
</dd>
<dt><kbd>-c, --compare</kbd></dt>
<dd><p>By default, the _reviewed file displays removed labels in red and added labels in green, compared to the version currently represented in the present TSV files, if any. If instead you want a comparison with the TSV files from another Git commit, pass its specifier, e.g. ‘HEAD~3’, &lt;branch-name&gt;, &lt;commit SHA&gt; etc.</p>
<p>Default: “”</p>
</dd>
<dt><kbd>-s, --suffix</kbd></dt>
<dd><p>Suffix of the newly created comparison files. Defaults to _compared</p>
<p>Default: “_compared”</p>
</dd>
</dl>
</section>
</section>
<section id="convert">
<h4>convert<a class="headerlink" href="#convert" title="Permalink to this heading">¶</a></h4>
<p>Use your local install of MuseScore to convert MuseScore files.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ms3</span> <span class="n">convert</span> <span class="p">[</span><span class="o">-</span><span class="n">h</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">d</span> <span class="n">DIR</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">o</span> <span class="n">OUT_DIR</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">n</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">a</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">i</span> <span class="n">REGEX</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">e</span> <span class="n">REGEX</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">f</span> <span class="n">REGEX</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">m</span> <span class="p">[</span><span class="n">PATH</span><span class="p">]]</span>
            <span class="p">[</span><span class="o">--</span><span class="n">reviewed</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">files</span> <span class="n">PATHs</span> <span class="p">[</span><span class="n">PATHs</span> <span class="o">...</span><span class="p">]]</span> <span class="p">[</span><span class="o">--</span><span class="n">iterative</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">l</span> <span class="p">{</span><span class="n">c</span><span class="p">,</span> <span class="n">e</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">d</span><span class="p">}]</span>
            <span class="p">[</span><span class="o">--</span><span class="n">log</span> <span class="p">[</span><span class="n">LOG</span><span class="p">]]</span> <span class="p">[</span><span class="o">-</span><span class="n">t</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">v</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">s</span> <span class="n">SUFFIX</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="nb">format</span> <span class="n">FORMAT</span><span class="p">]</span>
            <span class="p">[</span><span class="o">--</span><span class="n">extensions</span> <span class="n">EXTENSIONS</span> <span class="p">[</span><span class="n">EXTENSIONS</span> <span class="o">...</span><span class="p">]]</span> <span class="p">[</span><span class="o">--</span><span class="n">safe</span><span class="p">]</span>
</pre></div>
</div>
<section id="options_repeat4">
<h5>options<a class="headerlink" href="#options_repeat4" title="Permalink to this heading">¶</a></h5>
<dl class="option-list">
<dt><kbd>-d, --dir</kbd></dt>
<dd><p>Folder(s) that will be scanned for input files. Defaults to current working directory if no individual files are passed via -f.</p>
<p>Default: /home/hentsche/PycharmProjects/ms3/docs</p>
</dd>
<dt><kbd>-o, --out</kbd></dt>
<dd><p>Output directory.</p>
</dd>
<dt><kbd>-n, --nonrecursive</kbd></dt>
<dd><p>Treat DIR as single corpus even if it contains corpus directories itself.</p>
<p>Default: False</p>
</dd>
<dt><kbd>-a, --all</kbd></dt>
<dd><p>By default, only files listed in the ‘fname’ column of a ‘metadata.tsv’ file are parsed. With this option, all files will be parsed.</p>
<p>Default: False</p>
</dd>
<dt><kbd>-i, --include</kbd></dt>
<dd><p>Select only files whose names include this string or regular expression.</p>
</dd>
<dt><kbd>-e, --exclude</kbd></dt>
<dd><p>Any files or folders (and their subfolders) including this regex will be disregarded.By default, files including ‘_reviewed’ or starting with . or _ or ‘concatenated’ are excluded.</p>
</dd>
<dt><kbd>-f, --folders</kbd></dt>
<dd><p>Select only folders whose names include this string or regular expression.</p>
</dd>
<dt><kbd>-m, --musescore</kbd></dt>
<dd><dl class="simple">
<dt>Command or path of your MuseScore 3 executable. -m by itself will set ‘auto’ (attempt to use standard path for your system).</dt><dd><p>Other shortcuts are -m win, -m mac, and -m mscore (for Linux).</p>
</dd>
</dl>
</dd>
<dt><kbd>--reviewed</kbd></dt>
<dd><p>By default, review files and folder are excluded from parsing. With this option, they will be included, too.</p>
<p>Default: False</p>
</dd>
<dt><kbd>--files</kbd></dt>
<dd><p>(Deprecated) The paths are expected to be within DIR. They will be converted into a view that includes only the indicated files. This is equivalent to specifying the file names as a regex via –include (assuming that file names are unique amongst corpora.</p>
</dd>
<dt><kbd>--iterative</kbd></dt>
<dd><p>Do not use all available CPU cores in parallel to speed up batch jobs.</p>
<p>Default: False</p>
</dd>
<dt><kbd>-l, --level</kbd></dt>
<dd><p>Choose how many log messages you want to see: c (none), e, w, i, d (maximum)</p>
<p>Default: “i”</p>
</dd>
<dt><kbd>--log</kbd></dt>
<dd><p>Can be a file path or directory path. Relative paths are interpreted relative to the current directory.</p>
</dd>
<dt><kbd>-t, --test</kbd></dt>
<dd><p>No data is written to disk.</p>
<p>Default: False</p>
</dd>
<dt><kbd>-v, --verbose</kbd></dt>
<dd><p>Show more output such as files discarded from parsing.</p>
<p>Default: False</p>
</dd>
<dt><kbd>-s, --suffix</kbd></dt>
<dd><p>Suffix of the converted files. Defaults to .</p>
<p>Default: “”</p>
</dd>
<dt><kbd>--format</kbd></dt>
<dd><p>Output format of converted files. Defaults to mscx. Other options are {png, svg, pdf, mscz, wav, mp3, flac, ogg, xml, mxl, mid}</p>
<p>Default: “mscx”</p>
</dd>
<dt><kbd>--extensions</kbd></dt>
<dd><p>Those file extensions that you want to be converted, separated by spaces. Defaults to mscx mscz</p>
<p>Default: [‘mscx’, ‘mscz’]</p>
</dd>
<dt><kbd>--safe</kbd></dt>
<dd><p>Don’t overwrite existing files.</p>
<p>Default: True</p>
</dd>
</dl>
</section>
</section>
<section id="empty">
<h4>empty<a class="headerlink" href="#empty" title="Permalink to this heading">¶</a></h4>
<p>Remove harmony annotations and store the MuseScore files without them.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ms3</span> <span class="n">empty</span> <span class="p">[</span><span class="o">-</span><span class="n">h</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">d</span> <span class="n">DIR</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">o</span> <span class="n">OUT_DIR</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">n</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">a</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">i</span> <span class="n">REGEX</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">e</span> <span class="n">REGEX</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">f</span> <span class="n">REGEX</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">m</span> <span class="p">[</span><span class="n">PATH</span><span class="p">]]</span>
          <span class="p">[</span><span class="o">--</span><span class="n">reviewed</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">files</span> <span class="n">PATHs</span> <span class="p">[</span><span class="n">PATHs</span> <span class="o">...</span><span class="p">]]</span> <span class="p">[</span><span class="o">--</span><span class="n">iterative</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">l</span> <span class="p">{</span><span class="n">c</span><span class="p">,</span> <span class="n">e</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">d</span><span class="p">}]</span> <span class="p">[</span><span class="o">--</span><span class="n">log</span> <span class="p">[</span><span class="n">LOG</span><span class="p">]]</span>
          <span class="p">[</span><span class="o">-</span><span class="n">t</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">v</span><span class="p">]</span>
</pre></div>
</div>
<section id="options_repeat5">
<h5>options<a class="headerlink" href="#options_repeat5" title="Permalink to this heading">¶</a></h5>
<dl class="option-list">
<dt><kbd>-d, --dir</kbd></dt>
<dd><p>Folder(s) that will be scanned for input files. Defaults to current working directory if no individual files are passed via -f.</p>
<p>Default: /home/hentsche/PycharmProjects/ms3/docs</p>
</dd>
<dt><kbd>-o, --out</kbd></dt>
<dd><p>Output directory.</p>
</dd>
<dt><kbd>-n, --nonrecursive</kbd></dt>
<dd><p>Treat DIR as single corpus even if it contains corpus directories itself.</p>
<p>Default: False</p>
</dd>
<dt><kbd>-a, --all</kbd></dt>
<dd><p>By default, only files listed in the ‘fname’ column of a ‘metadata.tsv’ file are parsed. With this option, all files will be parsed.</p>
<p>Default: False</p>
</dd>
<dt><kbd>-i, --include</kbd></dt>
<dd><p>Select only files whose names include this string or regular expression.</p>
</dd>
<dt><kbd>-e, --exclude</kbd></dt>
<dd><p>Any files or folders (and their subfolders) including this regex will be disregarded.By default, files including ‘_reviewed’ or starting with . or _ or ‘concatenated’ are excluded.</p>
</dd>
<dt><kbd>-f, --folders</kbd></dt>
<dd><p>Select only folders whose names include this string or regular expression.</p>
</dd>
<dt><kbd>-m, --musescore</kbd></dt>
<dd><dl class="simple">
<dt>Command or path of your MuseScore 3 executable. -m by itself will set ‘auto’ (attempt to use standard path for your system).</dt><dd><p>Other shortcuts are -m win, -m mac, and -m mscore (for Linux).</p>
</dd>
</dl>
</dd>
<dt><kbd>--reviewed</kbd></dt>
<dd><p>By default, review files and folder are excluded from parsing. With this option, they will be included, too.</p>
<p>Default: False</p>
</dd>
<dt><kbd>--files</kbd></dt>
<dd><p>(Deprecated) The paths are expected to be within DIR. They will be converted into a view that includes only the indicated files. This is equivalent to specifying the file names as a regex via –include (assuming that file names are unique amongst corpora.</p>
</dd>
<dt><kbd>--iterative</kbd></dt>
<dd><p>Do not use all available CPU cores in parallel to speed up batch jobs.</p>
<p>Default: False</p>
</dd>
<dt><kbd>-l, --level</kbd></dt>
<dd><p>Choose how many log messages you want to see: c (none), e, w, i, d (maximum)</p>
<p>Default: “i”</p>
</dd>
<dt><kbd>--log</kbd></dt>
<dd><p>Can be a file path or directory path. Relative paths are interpreted relative to the current directory.</p>
</dd>
<dt><kbd>-t, --test</kbd></dt>
<dd><p>No data is written to disk.</p>
<p>Default: False</p>
</dd>
<dt><kbd>-v, --verbose</kbd></dt>
<dd><p>Show more output such as files discarded from parsing.</p>
<p>Default: False</p>
</dd>
</dl>
</section>
</section>
<section id="extract">
<h4>extract<a class="headerlink" href="#extract" title="Permalink to this heading">¶</a></h4>
<p>Extract selected information from MuseScore files and store it in TSV files.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ms3</span> <span class="n">extract</span> <span class="p">[</span><span class="o">-</span><span class="n">h</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">M</span> <span class="p">[</span><span class="n">folder</span><span class="p">]]</span> <span class="p">[</span><span class="o">-</span><span class="n">N</span> <span class="p">[</span><span class="n">folder</span><span class="p">]]</span> <span class="p">[</span><span class="o">-</span><span class="n">R</span> <span class="p">[</span><span class="n">folder</span><span class="p">]]</span> <span class="p">[</span><span class="o">-</span><span class="n">L</span> <span class="p">[</span><span class="n">folder</span><span class="p">]]</span> <span class="p">[</span><span class="o">-</span><span class="n">X</span> <span class="p">[</span><span class="n">folder</span><span class="p">]]</span>
            <span class="p">[</span><span class="o">-</span><span class="n">F</span> <span class="p">[</span><span class="n">folder</span><span class="p">]]</span> <span class="p">[</span><span class="o">-</span><span class="n">E</span> <span class="p">[</span><span class="n">folder</span><span class="p">]]</span> <span class="p">[</span><span class="o">-</span><span class="n">C</span> <span class="p">[</span><span class="n">folder</span><span class="p">]]</span> <span class="p">[</span><span class="o">-</span><span class="n">D</span> <span class="p">[</span><span class="n">suffix</span><span class="p">]]</span> <span class="p">[</span><span class="o">-</span><span class="n">s</span> <span class="p">[</span><span class="n">SUFFIX</span> <span class="o">...</span><span class="p">]]</span> <span class="p">[</span><span class="o">-</span><span class="n">p</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">raw</span><span class="p">]</span>
            <span class="p">[</span><span class="o">-</span><span class="n">u</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">interval_index</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">d</span> <span class="n">DIR</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">o</span> <span class="n">OUT_DIR</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">n</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">a</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">i</span> <span class="n">REGEX</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">e</span> <span class="n">REGEX</span><span class="p">]</span>
            <span class="p">[</span><span class="o">-</span><span class="n">f</span> <span class="n">REGEX</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">m</span> <span class="p">[</span><span class="n">PATH</span><span class="p">]]</span> <span class="p">[</span><span class="o">--</span><span class="n">reviewed</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">files</span> <span class="n">PATHs</span> <span class="p">[</span><span class="n">PATHs</span> <span class="o">...</span><span class="p">]]</span> <span class="p">[</span><span class="o">--</span><span class="n">iterative</span><span class="p">]</span>
            <span class="p">[</span><span class="o">-</span><span class="n">l</span> <span class="p">{</span><span class="n">c</span><span class="p">,</span> <span class="n">e</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">d</span><span class="p">}]</span> <span class="p">[</span><span class="o">--</span><span class="n">log</span> <span class="p">[</span><span class="n">LOG</span><span class="p">]]</span> <span class="p">[</span><span class="o">-</span><span class="n">t</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">v</span><span class="p">]</span>
</pre></div>
</div>
<section id="options_repeat6">
<h5>options<a class="headerlink" href="#options_repeat6" title="Permalink to this heading">¶</a></h5>
<dl class="option-list">
<dt><kbd>-M, --measures</kbd></dt>
<dd><p>Folder where to store TSV files with measure information needed for tasks such as unfolding repetitions.</p>
</dd>
<dt><kbd>-N, --notes</kbd></dt>
<dd><p>Folder where to store TSV files with information on all notes.</p>
</dd>
<dt><kbd>-R, --rests</kbd></dt>
<dd><p>Folder where to store TSV files with information on all rests.</p>
</dd>
<dt><kbd>-L, --labels</kbd></dt>
<dd><p>Folder where to store TSV files with information on all annotation labels.</p>
</dd>
<dt><kbd>-X, --expanded</kbd></dt>
<dd><p>Folder where to store TSV files with expanded DCML labels.</p>
</dd>
<dt><kbd>-F, --form_labels</kbd></dt>
<dd><p>Folder where to store TSV files with all form labels.</p>
</dd>
<dt><kbd>-E, --events</kbd></dt>
<dd><p>Folder where to store TSV files with all events (notes, rests, articulation, etc.) without further processing.</p>
</dd>
<dt><kbd>-C, --chords</kbd></dt>
<dd><p>Folder where to store TSV files with &lt;chord&gt; tags, i.e. groups of notes in the same voice with identical onset and duration. The tables include lyrics, slurs, and other markup.</p>
</dd>
<dt><kbd>-D, --metadata</kbd></dt>
<dd><p>Set -D to update the ‘metadata.tsv’ files of the respective corpora with the parsed scores. Add a suffix if you want to update ‘metadata{suffix}.tsv’ instead.</p>
</dd>
<dt><kbd>-s, --suffix</kbd></dt>
<dd><p>Pass -s to use standard suffixes or -s SUFFIX to choose your own. In the latter case they will be assigned to the extracted aspects in the order in which they are listed above (capital letter arguments).</p>
</dd>
<dt><kbd>-p, --positioning</kbd></dt>
<dd><p>When extracting labels, include manually shifted position coordinates in order to restore them when re-inserting.</p>
<p>Default: False</p>
</dd>
<dt><kbd>--raw</kbd></dt>
<dd><p>When extracting labels, leave chord symbols encoded instead of turning them into a single column of strings.</p>
<p>Default: True</p>
</dd>
<dt><kbd>-u, --unfold</kbd></dt>
<dd><p>Unfold the repeats for all stored DataFrames.</p>
<p>Default: False</p>
</dd>
<dt><kbd>--interval_index</kbd></dt>
<dd><p>Prepend a column with [start, end) intervals to the TSV files.</p>
<p>Default: False</p>
</dd>
<dt><kbd>-d, --dir</kbd></dt>
<dd><p>Folder(s) that will be scanned for input files. Defaults to current working directory if no individual files are passed via -f.</p>
<p>Default: /home/hentsche/PycharmProjects/ms3/docs</p>
</dd>
<dt><kbd>-o, --out</kbd></dt>
<dd><p>Output directory.</p>
</dd>
<dt><kbd>-n, --nonrecursive</kbd></dt>
<dd><p>Treat DIR as single corpus even if it contains corpus directories itself.</p>
<p>Default: False</p>
</dd>
<dt><kbd>-a, --all</kbd></dt>
<dd><p>By default, only files listed in the ‘fname’ column of a ‘metadata.tsv’ file are parsed. With this option, all files will be parsed.</p>
<p>Default: False</p>
</dd>
<dt><kbd>-i, --include</kbd></dt>
<dd><p>Select only files whose names include this string or regular expression.</p>
</dd>
<dt><kbd>-e, --exclude</kbd></dt>
<dd><p>Any files or folders (and their subfolders) including this regex will be disregarded.By default, files including ‘_reviewed’ or starting with . or _ or ‘concatenated’ are excluded.</p>
</dd>
<dt><kbd>-f, --folders</kbd></dt>
<dd><p>Select only folders whose names include this string or regular expression.</p>
</dd>
<dt><kbd>-m, --musescore</kbd></dt>
<dd><dl class="simple">
<dt>Command or path of your MuseScore 3 executable. -m by itself will set ‘auto’ (attempt to use standard path for your system).</dt><dd><p>Other shortcuts are -m win, -m mac, and -m mscore (for Linux).</p>
</dd>
</dl>
</dd>
<dt><kbd>--reviewed</kbd></dt>
<dd><p>By default, review files and folder are excluded from parsing. With this option, they will be included, too.</p>
<p>Default: False</p>
</dd>
<dt><kbd>--files</kbd></dt>
<dd><p>(Deprecated) The paths are expected to be within DIR. They will be converted into a view that includes only the indicated files. This is equivalent to specifying the file names as a regex via –include (assuming that file names are unique amongst corpora.</p>
</dd>
<dt><kbd>--iterative</kbd></dt>
<dd><p>Do not use all available CPU cores in parallel to speed up batch jobs.</p>
<p>Default: False</p>
</dd>
<dt><kbd>-l, --level</kbd></dt>
<dd><p>Choose how many log messages you want to see: c (none), e, w, i, d (maximum)</p>
<p>Default: “i”</p>
</dd>
<dt><kbd>--log</kbd></dt>
<dd><p>Can be a file path or directory path. Relative paths are interpreted relative to the current directory.</p>
</dd>
<dt><kbd>-t, --test</kbd></dt>
<dd><p>No data is written to disk.</p>
<p>Default: False</p>
</dd>
<dt><kbd>-v, --verbose</kbd></dt>
<dd><p>Show more output such as files discarded from parsing.</p>
<p>Default: False</p>
</dd>
</dl>
</section>
</section>
<section id="metadata">
<h4>metadata<a class="headerlink" href="#metadata" title="Permalink to this heading">¶</a></h4>
<p>Update MSCX files with changes made in metadata.tsv (created via ms3 extract -D).</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ms3</span> <span class="n">metadata</span> <span class="p">[</span><span class="o">-</span><span class="n">h</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">d</span> <span class="n">DIR</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">o</span> <span class="n">OUT_DIR</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">n</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">a</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">i</span> <span class="n">REGEX</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">e</span> <span class="n">REGEX</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">f</span> <span class="n">REGEX</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">m</span> <span class="p">[</span><span class="n">PATH</span><span class="p">]]</span>
             <span class="p">[</span><span class="o">--</span><span class="n">reviewed</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">files</span> <span class="n">PATHs</span> <span class="p">[</span><span class="n">PATHs</span> <span class="o">...</span><span class="p">]]</span> <span class="p">[</span><span class="o">--</span><span class="n">iterative</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">l</span> <span class="p">{</span><span class="n">c</span><span class="p">,</span> <span class="n">e</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">d</span><span class="p">}]</span>
             <span class="p">[</span><span class="o">--</span><span class="n">log</span> <span class="p">[</span><span class="n">LOG</span><span class="p">]]</span> <span class="p">[</span><span class="o">-</span><span class="n">t</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">v</span><span class="p">]</span>
</pre></div>
</div>
<section id="options_repeat7">
<h5>options<a class="headerlink" href="#options_repeat7" title="Permalink to this heading">¶</a></h5>
<dl class="option-list">
<dt><kbd>-d, --dir</kbd></dt>
<dd><p>Folder(s) that will be scanned for input files. Defaults to current working directory if no individual files are passed via -f.</p>
<p>Default: /home/hentsche/PycharmProjects/ms3/docs</p>
</dd>
<dt><kbd>-o, --out</kbd></dt>
<dd><p>Output directory.</p>
</dd>
<dt><kbd>-n, --nonrecursive</kbd></dt>
<dd><p>Treat DIR as single corpus even if it contains corpus directories itself.</p>
<p>Default: False</p>
</dd>
<dt><kbd>-a, --all</kbd></dt>
<dd><p>By default, only files listed in the ‘fname’ column of a ‘metadata.tsv’ file are parsed. With this option, all files will be parsed.</p>
<p>Default: False</p>
</dd>
<dt><kbd>-i, --include</kbd></dt>
<dd><p>Select only files whose names include this string or regular expression.</p>
</dd>
<dt><kbd>-e, --exclude</kbd></dt>
<dd><p>Any files or folders (and their subfolders) including this regex will be disregarded.By default, files including ‘_reviewed’ or starting with . or _ or ‘concatenated’ are excluded.</p>
</dd>
<dt><kbd>-f, --folders</kbd></dt>
<dd><p>Select only folders whose names include this string or regular expression.</p>
</dd>
<dt><kbd>-m, --musescore</kbd></dt>
<dd><dl class="simple">
<dt>Command or path of your MuseScore 3 executable. -m by itself will set ‘auto’ (attempt to use standard path for your system).</dt><dd><p>Other shortcuts are -m win, -m mac, and -m mscore (for Linux).</p>
</dd>
</dl>
</dd>
<dt><kbd>--reviewed</kbd></dt>
<dd><p>By default, review files and folder are excluded from parsing. With this option, they will be included, too.</p>
<p>Default: False</p>
</dd>
<dt><kbd>--files</kbd></dt>
<dd><p>(Deprecated) The paths are expected to be within DIR. They will be converted into a view that includes only the indicated files. This is equivalent to specifying the file names as a regex via –include (assuming that file names are unique amongst corpora.</p>
</dd>
<dt><kbd>--iterative</kbd></dt>
<dd><p>Do not use all available CPU cores in parallel to speed up batch jobs.</p>
<p>Default: False</p>
</dd>
<dt><kbd>-l, --level</kbd></dt>
<dd><p>Choose how many log messages you want to see: c (none), e, w, i, d (maximum)</p>
<p>Default: “i”</p>
</dd>
<dt><kbd>--log</kbd></dt>
<dd><p>Can be a file path or directory path. Relative paths are interpreted relative to the current directory.</p>
</dd>
<dt><kbd>-t, --test</kbd></dt>
<dd><p>No data is written to disk.</p>
<p>Default: False</p>
</dd>
<dt><kbd>-v, --verbose</kbd></dt>
<dd><p>Show more output such as files discarded from parsing.</p>
<p>Default: False</p>
</dd>
</dl>
</section>
</section>
<section id="repair">
<h4>repair<a class="headerlink" href="#repair" title="Permalink to this heading">¶</a></h4>
<p>Apply automatic repairs to your uncompressed MuseScore files.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ms3</span> <span class="n">repair</span> <span class="p">[</span><span class="o">-</span><span class="n">h</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">d</span> <span class="n">DIR</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">o</span> <span class="n">OUT_DIR</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">n</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">a</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">i</span> <span class="n">REGEX</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">e</span> <span class="n">REGEX</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">f</span> <span class="n">REGEX</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">m</span> <span class="p">[</span><span class="n">PATH</span><span class="p">]]</span>
           <span class="p">[</span><span class="o">--</span><span class="n">reviewed</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">files</span> <span class="n">PATHs</span> <span class="p">[</span><span class="n">PATHs</span> <span class="o">...</span><span class="p">]]</span> <span class="p">[</span><span class="o">--</span><span class="n">iterative</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">l</span> <span class="p">{</span><span class="n">c</span><span class="p">,</span> <span class="n">e</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">d</span><span class="p">}]</span>
           <span class="p">[</span><span class="o">--</span><span class="n">log</span> <span class="p">[</span><span class="n">LOG</span><span class="p">]]</span> <span class="p">[</span><span class="o">-</span><span class="n">t</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">v</span><span class="p">]</span>
</pre></div>
</div>
<section id="options_repeat8">
<h5>options<a class="headerlink" href="#options_repeat8" title="Permalink to this heading">¶</a></h5>
<dl class="option-list">
<dt><kbd>-d, --dir</kbd></dt>
<dd><p>Folder(s) that will be scanned for input files. Defaults to current working directory if no individual files are passed via -f.</p>
<p>Default: /home/hentsche/PycharmProjects/ms3/docs</p>
</dd>
<dt><kbd>-o, --out</kbd></dt>
<dd><p>Output directory.</p>
</dd>
<dt><kbd>-n, --nonrecursive</kbd></dt>
<dd><p>Treat DIR as single corpus even if it contains corpus directories itself.</p>
<p>Default: False</p>
</dd>
<dt><kbd>-a, --all</kbd></dt>
<dd><p>By default, only files listed in the ‘fname’ column of a ‘metadata.tsv’ file are parsed. With this option, all files will be parsed.</p>
<p>Default: False</p>
</dd>
<dt><kbd>-i, --include</kbd></dt>
<dd><p>Select only files whose names include this string or regular expression.</p>
</dd>
<dt><kbd>-e, --exclude</kbd></dt>
<dd><p>Any files or folders (and their subfolders) including this regex will be disregarded.By default, files including ‘_reviewed’ or starting with . or _ or ‘concatenated’ are excluded.</p>
</dd>
<dt><kbd>-f, --folders</kbd></dt>
<dd><p>Select only folders whose names include this string or regular expression.</p>
</dd>
<dt><kbd>-m, --musescore</kbd></dt>
<dd><dl class="simple">
<dt>Command or path of your MuseScore 3 executable. -m by itself will set ‘auto’ (attempt to use standard path for your system).</dt><dd><p>Other shortcuts are -m win, -m mac, and -m mscore (for Linux).</p>
</dd>
</dl>
</dd>
<dt><kbd>--reviewed</kbd></dt>
<dd><p>By default, review files and folder are excluded from parsing. With this option, they will be included, too.</p>
<p>Default: False</p>
</dd>
<dt><kbd>--files</kbd></dt>
<dd><p>(Deprecated) The paths are expected to be within DIR. They will be converted into a view that includes only the indicated files. This is equivalent to specifying the file names as a regex via –include (assuming that file names are unique amongst corpora.</p>
</dd>
<dt><kbd>--iterative</kbd></dt>
<dd><p>Do not use all available CPU cores in parallel to speed up batch jobs.</p>
<p>Default: False</p>
</dd>
<dt><kbd>-l, --level</kbd></dt>
<dd><p>Choose how many log messages you want to see: c (none), e, w, i, d (maximum)</p>
<p>Default: “i”</p>
</dd>
<dt><kbd>--log</kbd></dt>
<dd><p>Can be a file path or directory path. Relative paths are interpreted relative to the current directory.</p>
</dd>
<dt><kbd>-t, --test</kbd></dt>
<dd><p>No data is written to disk.</p>
<p>Default: False</p>
</dd>
<dt><kbd>-v, --verbose</kbd></dt>
<dd><p>Show more output such as files discarded from parsing.</p>
<p>Default: False</p>
</dd>
</dl>
</section>
</section>
<section id="review">
<h4>review<a class="headerlink" href="#review" title="Permalink to this heading">¶</a></h4>
<p>Extract facets, check labels, and create _reviewed files.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ms3</span> <span class="n">review</span> <span class="p">[</span><span class="o">-</span><span class="n">h</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">ignore_scores</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">ignore_labels</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">fail</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">ask</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">use</span> <span class="p">{</span><span class="n">expanded</span><span class="p">,</span><span class="n">labels</span><span class="p">}]</span>
           <span class="p">[</span><span class="o">--</span><span class="n">flip</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">safe</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">M</span> <span class="p">[</span><span class="n">folder</span><span class="p">]]</span> <span class="p">[</span><span class="o">-</span><span class="n">N</span> <span class="p">[</span><span class="n">folder</span><span class="p">]]</span> <span class="p">[</span><span class="o">-</span><span class="n">R</span> <span class="p">[</span><span class="n">folder</span><span class="p">]]</span> <span class="p">[</span><span class="o">-</span><span class="n">L</span> <span class="p">[</span><span class="n">folder</span><span class="p">]]</span> <span class="p">[</span><span class="o">-</span><span class="n">X</span> <span class="p">[</span><span class="n">folder</span><span class="p">]]</span>
           <span class="p">[</span><span class="o">-</span><span class="n">F</span> <span class="p">[</span><span class="n">folder</span><span class="p">]]</span> <span class="p">[</span><span class="o">-</span><span class="n">E</span> <span class="p">[</span><span class="n">folder</span><span class="p">]]</span> <span class="p">[</span><span class="o">-</span><span class="n">C</span> <span class="p">[</span><span class="n">folder</span><span class="p">]]</span> <span class="p">[</span><span class="o">-</span><span class="n">D</span> <span class="p">[</span><span class="n">suffix</span><span class="p">]]</span> <span class="p">[</span><span class="o">-</span><span class="n">s</span> <span class="p">[</span><span class="n">SUFFIX</span> <span class="o">...</span><span class="p">]]</span> <span class="p">[</span><span class="o">-</span><span class="n">p</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">raw</span><span class="p">]</span>
           <span class="p">[</span><span class="o">-</span><span class="n">u</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">interval_index</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">d</span> <span class="n">DIR</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">o</span> <span class="n">OUT_DIR</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">n</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">a</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">i</span> <span class="n">REGEX</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">e</span> <span class="n">REGEX</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">f</span> <span class="n">REGEX</span><span class="p">]</span>
           <span class="p">[</span><span class="o">-</span><span class="n">m</span> <span class="p">[</span><span class="n">PATH</span><span class="p">]]</span> <span class="p">[</span><span class="o">--</span><span class="n">reviewed</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">files</span> <span class="n">PATHs</span> <span class="p">[</span><span class="n">PATHs</span> <span class="o">...</span><span class="p">]]</span> <span class="p">[</span><span class="o">--</span><span class="n">iterative</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">l</span> <span class="p">{</span><span class="n">c</span><span class="p">,</span> <span class="n">e</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">d</span><span class="p">}]</span>
           <span class="p">[</span><span class="o">--</span><span class="n">log</span> <span class="p">[</span><span class="n">LOG</span><span class="p">]]</span> <span class="p">[</span><span class="o">-</span><span class="n">t</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">v</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">c</span> <span class="p">[</span><span class="n">GIT_REVISION</span><span class="p">]]</span> <span class="p">[</span><span class="o">--</span><span class="n">threshold</span> <span class="n">THRESHOLD</span><span class="p">]</span>
</pre></div>
</div>
<section id="options_repeat9">
<h5>options<a class="headerlink" href="#options_repeat9" title="Permalink to this heading">¶</a></h5>
<dl class="option-list">
<dt><kbd>--ignore_scores</kbd></dt>
<dd><p>Don’t check scores for encoding errors.</p>
<p>Default: False</p>
</dd>
<dt><kbd>--ignore_labels</kbd></dt>
<dd><p>Don’t check DCML labels for syntactic correctness.</p>
<p>Default: False</p>
</dd>
<dt><kbd>--fail</kbd></dt>
<dd><p>If you pass this argument the process will deliberately fail with an AssertionError when there are any mistakes.</p>
<p>Default: False</p>
</dd>
<dt><kbd>--ask</kbd></dt>
<dd><p>If several files are available for the selected facet (default: ‘expanded’, see –use), I will pick one automatically. Add –ask if you want me to have you select which ones to compare with the scores.</p>
<p>Default: False</p>
</dd>
<dt><kbd>--use</kbd></dt>
<dd><p>Possible choices: expanded, labels</p>
<p>Which type of labels you want to compare with the ones in the score. Defaults to ‘expanded’, i.e., DCML labels. Set –use labels to use other labels available as TSV and set –ask if several sets of labels are available that you want to choose from.</p>
<p>Default: “expanded”</p>
</dd>
<dt><kbd>--flip</kbd></dt>
<dd><p>Pass this flag to treat the annotation tables as if updating the scores instead of the other way around, effectively resulting in a swap of the colors in the output files.</p>
<p>Default: False</p>
</dd>
<dt><kbd>--safe</kbd></dt>
<dd><p>Don’t overwrite existing files.</p>
<p>Default: True</p>
</dd>
<dt><kbd>-M, --measures</kbd></dt>
<dd><p>Folder where to store TSV files with measure information needed for tasks such as unfolding repetitions.</p>
</dd>
<dt><kbd>-N, --notes</kbd></dt>
<dd><p>Folder where to store TSV files with information on all notes.</p>
</dd>
<dt><kbd>-R, --rests</kbd></dt>
<dd><p>Folder where to store TSV files with information on all rests.</p>
</dd>
<dt><kbd>-L, --labels</kbd></dt>
<dd><p>Folder where to store TSV files with information on all annotation labels.</p>
</dd>
<dt><kbd>-X, --expanded</kbd></dt>
<dd><p>Folder where to store TSV files with expanded DCML labels.</p>
</dd>
<dt><kbd>-F, --form_labels</kbd></dt>
<dd><p>Folder where to store TSV files with all form labels.</p>
</dd>
<dt><kbd>-E, --events</kbd></dt>
<dd><p>Folder where to store TSV files with all events (notes, rests, articulation, etc.) without further processing.</p>
</dd>
<dt><kbd>-C, --chords</kbd></dt>
<dd><p>Folder where to store TSV files with &lt;chord&gt; tags, i.e. groups of notes in the same voice with identical onset and duration. The tables include lyrics, slurs, and other markup.</p>
</dd>
<dt><kbd>-D, --metadata</kbd></dt>
<dd><p>Set -D to update the ‘metadata.tsv’ files of the respective corpora with the parsed scores. Add a suffix if you want to update ‘metadata{suffix}.tsv’ instead.</p>
</dd>
<dt><kbd>-s, --suffix</kbd></dt>
<dd><p>Pass -s to use standard suffixes or -s SUFFIX to choose your own. In the latter case they will be assigned to the extracted aspects in the order in which they are listed above (capital letter arguments).</p>
</dd>
<dt><kbd>-p, --positioning</kbd></dt>
<dd><p>When extracting labels, include manually shifted position coordinates in order to restore them when re-inserting.</p>
<p>Default: False</p>
</dd>
<dt><kbd>--raw</kbd></dt>
<dd><p>When extracting labels, leave chord symbols encoded instead of turning them into a single column of strings.</p>
<p>Default: True</p>
</dd>
<dt><kbd>-u, --unfold</kbd></dt>
<dd><p>Unfold the repeats for all stored DataFrames.</p>
<p>Default: False</p>
</dd>
<dt><kbd>--interval_index</kbd></dt>
<dd><p>Prepend a column with [start, end) intervals to the TSV files.</p>
<p>Default: False</p>
</dd>
<dt><kbd>-d, --dir</kbd></dt>
<dd><p>Folder(s) that will be scanned for input files. Defaults to current working directory if no individual files are passed via -f.</p>
<p>Default: /home/hentsche/PycharmProjects/ms3/docs</p>
</dd>
<dt><kbd>-o, --out</kbd></dt>
<dd><p>Output directory.</p>
</dd>
<dt><kbd>-n, --nonrecursive</kbd></dt>
<dd><p>Treat DIR as single corpus even if it contains corpus directories itself.</p>
<p>Default: False</p>
</dd>
<dt><kbd>-a, --all</kbd></dt>
<dd><p>By default, only files listed in the ‘fname’ column of a ‘metadata.tsv’ file are parsed. With this option, all files will be parsed.</p>
<p>Default: False</p>
</dd>
<dt><kbd>-i, --include</kbd></dt>
<dd><p>Select only files whose names include this string or regular expression.</p>
</dd>
<dt><kbd>-e, --exclude</kbd></dt>
<dd><p>Any files or folders (and their subfolders) including this regex will be disregarded.By default, files including ‘_reviewed’ or starting with . or _ or ‘concatenated’ are excluded.</p>
</dd>
<dt><kbd>-f, --folders</kbd></dt>
<dd><p>Select only folders whose names include this string or regular expression.</p>
</dd>
<dt><kbd>-m, --musescore</kbd></dt>
<dd><dl class="simple">
<dt>Command or path of your MuseScore 3 executable. -m by itself will set ‘auto’ (attempt to use standard path for your system).</dt><dd><p>Other shortcuts are -m win, -m mac, and -m mscore (for Linux).</p>
</dd>
</dl>
</dd>
<dt><kbd>--reviewed</kbd></dt>
<dd><p>By default, review files and folder are excluded from parsing. With this option, they will be included, too.</p>
<p>Default: False</p>
</dd>
<dt><kbd>--files</kbd></dt>
<dd><p>(Deprecated) The paths are expected to be within DIR. They will be converted into a view that includes only the indicated files. This is equivalent to specifying the file names as a regex via –include (assuming that file names are unique amongst corpora.</p>
</dd>
<dt><kbd>--iterative</kbd></dt>
<dd><p>Do not use all available CPU cores in parallel to speed up batch jobs.</p>
<p>Default: False</p>
</dd>
<dt><kbd>-l, --level</kbd></dt>
<dd><p>Choose how many log messages you want to see: c (none), e, w, i, d (maximum)</p>
<p>Default: “i”</p>
</dd>
<dt><kbd>--log</kbd></dt>
<dd><p>Can be a file path or directory path. Relative paths are interpreted relative to the current directory.</p>
</dd>
<dt><kbd>-t, --test</kbd></dt>
<dd><p>No data is written to disk.</p>
<p>Default: False</p>
</dd>
<dt><kbd>-v, --verbose</kbd></dt>
<dd><p>Show more output such as files discarded from parsing.</p>
<p>Default: False</p>
</dd>
<dt><kbd>-c, --compare</kbd></dt>
<dd><p>Pass -c if you want the _reviewed file to display removed labels in red and added labels in green, compared to the version currently represented in the present TSV files, if any. If instead you want a comparison with the TSV files from another Git commit, additionally pass its specifier, e.g. ‘HEAD~3’, &lt;branch-name&gt;, &lt;commit SHA&gt; etc.</p>
</dd>
<dt><kbd>--threshold</kbd></dt>
<dd><p>Harmony segments where the ratio of non-chord tones vs. chord tones lies above this threshold will be printed in a warning and will cause the check to fail if the –fail flag is set. Defaults to 0.6 (3:2).</p>
<p>Default: 0.6</p>
</dd>
</dl>
</section>
</section>
<section id="transform">
<h4>transform<a class="headerlink" href="#transform" title="Permalink to this heading">¶</a></h4>
<p>Concatenate and transform TSV data from one or several corpora. Available transformations are unfolding repeats and adding an interval index.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ms3</span> <span class="n">transform</span> <span class="p">[</span><span class="o">-</span><span class="n">h</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">d</span> <span class="n">DIR</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">o</span> <span class="n">OUT_DIR</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">n</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">a</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">i</span> <span class="n">REGEX</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">e</span> <span class="n">REGEX</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">f</span> <span class="n">REGEX</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">m</span> <span class="p">[</span><span class="n">PATH</span><span class="p">]]</span>
              <span class="p">[</span><span class="o">--</span><span class="n">reviewed</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">files</span> <span class="n">PATHs</span> <span class="p">[</span><span class="n">PATHs</span> <span class="o">...</span><span class="p">]]</span> <span class="p">[</span><span class="o">--</span><span class="n">iterative</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">l</span> <span class="p">{</span><span class="n">c</span><span class="p">,</span> <span class="n">e</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">d</span><span class="p">}]</span>
              <span class="p">[</span><span class="o">--</span><span class="n">log</span> <span class="p">[</span><span class="n">LOG</span><span class="p">]]</span> <span class="p">[</span><span class="o">-</span><span class="n">t</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">v</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">M</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">N</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">R</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">L</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">X</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">F</span> <span class="p">[</span><span class="n">folder</span><span class="p">]]</span> <span class="p">[</span><span class="o">-</span><span class="n">E</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">C</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">D</span><span class="p">]</span>
              <span class="p">[</span><span class="o">-</span><span class="n">s</span> <span class="p">[</span><span class="n">SUFFIX</span> <span class="o">...</span><span class="p">]]</span> <span class="p">[</span><span class="o">-</span><span class="n">u</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">interval_index</span><span class="p">]</span>
</pre></div>
</div>
<section id="options_repeat10">
<h5>options<a class="headerlink" href="#options_repeat10" title="Permalink to this heading">¶</a></h5>
<dl class="option-list">
<dt><kbd>-d, --dir</kbd></dt>
<dd><p>Folder(s) that will be scanned for input files. Defaults to current working directory if no individual files are passed via -f.</p>
<p>Default: /home/hentsche/PycharmProjects/ms3/docs</p>
</dd>
<dt><kbd>-o, --out</kbd></dt>
<dd><p>Output directory.</p>
</dd>
<dt><kbd>-n, --nonrecursive</kbd></dt>
<dd><p>Treat DIR as single corpus even if it contains corpus directories itself.</p>
<p>Default: False</p>
</dd>
<dt><kbd>-a, --all</kbd></dt>
<dd><p>By default, only files listed in the ‘fname’ column of a ‘metadata.tsv’ file are parsed. With this option, all files will be parsed.</p>
<p>Default: False</p>
</dd>
<dt><kbd>-i, --include</kbd></dt>
<dd><p>Select only files whose names include this string or regular expression.</p>
</dd>
<dt><kbd>-e, --exclude</kbd></dt>
<dd><p>Any files or folders (and their subfolders) including this regex will be disregarded.By default, files including ‘_reviewed’ or starting with . or _ or ‘concatenated’ are excluded.</p>
</dd>
<dt><kbd>-f, --folders</kbd></dt>
<dd><p>Select only folders whose names include this string or regular expression.</p>
</dd>
<dt><kbd>-m, --musescore</kbd></dt>
<dd><dl class="simple">
<dt>Command or path of your MuseScore 3 executable. -m by itself will set ‘auto’ (attempt to use standard path for your system).</dt><dd><p>Other shortcuts are -m win, -m mac, and -m mscore (for Linux).</p>
</dd>
</dl>
</dd>
<dt><kbd>--reviewed</kbd></dt>
<dd><p>By default, review files and folder are excluded from parsing. With this option, they will be included, too.</p>
<p>Default: False</p>
</dd>
<dt><kbd>--files</kbd></dt>
<dd><p>(Deprecated) The paths are expected to be within DIR. They will be converted into a view that includes only the indicated files. This is equivalent to specifying the file names as a regex via –include (assuming that file names are unique amongst corpora.</p>
</dd>
<dt><kbd>--iterative</kbd></dt>
<dd><p>Do not use all available CPU cores in parallel to speed up batch jobs.</p>
<p>Default: False</p>
</dd>
<dt><kbd>-l, --level</kbd></dt>
<dd><p>Choose how many log messages you want to see: c (none), e, w, i, d (maximum)</p>
<p>Default: “i”</p>
</dd>
<dt><kbd>--log</kbd></dt>
<dd><p>Can be a file path or directory path. Relative paths are interpreted relative to the current directory.</p>
</dd>
<dt><kbd>-t, --test</kbd></dt>
<dd><p>No data is written to disk.</p>
<p>Default: False</p>
</dd>
<dt><kbd>-v, --verbose</kbd></dt>
<dd><p>Show more output such as files discarded from parsing.</p>
<p>Default: False</p>
</dd>
<dt><kbd>-M, --measures</kbd></dt>
<dd><p>Concatenate measures TSVs for all selected pieces.</p>
<p>Default: False</p>
</dd>
<dt><kbd>-N, --notes</kbd></dt>
<dd><p>Concatenate notes TSVs for all selected pieces.</p>
<p>Default: False</p>
</dd>
<dt><kbd>-R, --rests</kbd></dt>
<dd><p>Concatenate rests TSVs for all selected pieces (use ms3 extract -R to create those).</p>
<p>Default: False</p>
</dd>
<dt><kbd>-L, --labels</kbd></dt>
<dd><p>Concatenate raw harmony label TSVs for all selected pieces (use ms3 extract -L to create those).</p>
<p>Default: False</p>
</dd>
<dt><kbd>-X, --expanded</kbd></dt>
<dd><p>Concatenate expanded DCML label TSVs for all selected pieces.</p>
<p>Default: False</p>
</dd>
<dt><kbd>-F, --form_labels</kbd></dt>
<dd><p>Concatenate form label TSVs for all selected pieces.</p>
</dd>
<dt><kbd>-E, --events</kbd></dt>
<dd><p>Concatenate events TSVs (notes, rests, articulation, etc.) for all selected pieces (use ms3 extract -E to create those).</p>
<p>Default: False</p>
</dd>
<dt><kbd>-C, --chords</kbd></dt>
<dd><p>Concatenate harmony chords TSVs (lyrics, slurs, and other markup) for all selected pieces (use ms3 extract -C to create those).</p>
<p>Default: False</p>
</dd>
<dt><kbd>-D, --metadata</kbd></dt>
<dd><p>Output ‘concatenated_metadata.tsv’ with one row per selected piece.</p>
<p>Default: False</p>
</dd>
<dt><kbd>-s, --suffix</kbd></dt>
<dd><p>Pass -s to use standard suffixes or -s SUFFIX to choose your own. In the latter case they will be assigned to the extracted aspects in the order in which they are listed above (capital letter arguments).</p>
</dd>
<dt><kbd>-u, --unfold</kbd></dt>
<dd><p>Unfold the repeats for all concatenated DataFrames.</p>
<p>Default: False</p>
</dd>
<dt><kbd>--interval_index</kbd></dt>
<dd><p>Prepend a column with [start, end) intervals to the TSV files.</p>
<p>Default: False</p>
</dd>
</dl>
</section>
</section>
<section id="update">
<h4>update<a class="headerlink" href="#update" title="Permalink to this heading">¶</a></h4>
<p>Convert MSCX files to the latest MuseScore version and move all chord annotations to the Roman Numeral Analysis layer. This command overwrites existing files!!!</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ms3</span> <span class="n">update</span> <span class="p">[</span><span class="o">-</span><span class="n">h</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">d</span> <span class="n">DIR</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">o</span> <span class="n">OUT_DIR</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">n</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">a</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">i</span> <span class="n">REGEX</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">e</span> <span class="n">REGEX</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">f</span> <span class="n">REGEX</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">m</span> <span class="p">[</span><span class="n">PATH</span><span class="p">]]</span>
           <span class="p">[</span><span class="o">--</span><span class="n">reviewed</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">files</span> <span class="n">PATHs</span> <span class="p">[</span><span class="n">PATHs</span> <span class="o">...</span><span class="p">]]</span> <span class="p">[</span><span class="o">--</span><span class="n">iterative</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">l</span> <span class="p">{</span><span class="n">c</span><span class="p">,</span> <span class="n">e</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">d</span><span class="p">}]</span>
           <span class="p">[</span><span class="o">--</span><span class="n">log</span> <span class="p">[</span><span class="n">LOG</span><span class="p">]]</span> <span class="p">[</span><span class="o">-</span><span class="n">t</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">v</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">s</span> <span class="n">SUFFIX</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">above</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">safe</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">staff</span> <span class="n">STAFF</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="nb">type</span> <span class="n">TYPE</span><span class="p">]</span>
</pre></div>
</div>
<section id="options_repeat11">
<h5>options<a class="headerlink" href="#options_repeat11" title="Permalink to this heading">¶</a></h5>
<dl class="option-list">
<dt><kbd>-d, --dir</kbd></dt>
<dd><p>Folder(s) that will be scanned for input files. Defaults to current working directory if no individual files are passed via -f.</p>
<p>Default: /home/hentsche/PycharmProjects/ms3/docs</p>
</dd>
<dt><kbd>-o, --out</kbd></dt>
<dd><p>Output directory.</p>
</dd>
<dt><kbd>-n, --nonrecursive</kbd></dt>
<dd><p>Treat DIR as single corpus even if it contains corpus directories itself.</p>
<p>Default: False</p>
</dd>
<dt><kbd>-a, --all</kbd></dt>
<dd><p>By default, only files listed in the ‘fname’ column of a ‘metadata.tsv’ file are parsed. With this option, all files will be parsed.</p>
<p>Default: False</p>
</dd>
<dt><kbd>-i, --include</kbd></dt>
<dd><p>Select only files whose names include this string or regular expression.</p>
</dd>
<dt><kbd>-e, --exclude</kbd></dt>
<dd><p>Any files or folders (and their subfolders) including this regex will be disregarded.By default, files including ‘_reviewed’ or starting with . or _ or ‘concatenated’ are excluded.</p>
</dd>
<dt><kbd>-f, --folders</kbd></dt>
<dd><p>Select only folders whose names include this string or regular expression.</p>
</dd>
<dt><kbd>-m, --musescore</kbd></dt>
<dd><dl class="simple">
<dt>Command or path of your MuseScore 3 executable. -m by itself will set ‘auto’ (attempt to use standard path for your system).</dt><dd><p>Other shortcuts are -m win, -m mac, and -m mscore (for Linux).</p>
</dd>
</dl>
</dd>
<dt><kbd>--reviewed</kbd></dt>
<dd><p>By default, review files and folder are excluded from parsing. With this option, they will be included, too.</p>
<p>Default: False</p>
</dd>
<dt><kbd>--files</kbd></dt>
<dd><p>(Deprecated) The paths are expected to be within DIR. They will be converted into a view that includes only the indicated files. This is equivalent to specifying the file names as a regex via –include (assuming that file names are unique amongst corpora.</p>
</dd>
<dt><kbd>--iterative</kbd></dt>
<dd><p>Do not use all available CPU cores in parallel to speed up batch jobs.</p>
<p>Default: False</p>
</dd>
<dt><kbd>-l, --level</kbd></dt>
<dd><p>Choose how many log messages you want to see: c (none), e, w, i, d (maximum)</p>
<p>Default: “i”</p>
</dd>
<dt><kbd>--log</kbd></dt>
<dd><p>Can be a file path or directory path. Relative paths are interpreted relative to the current directory.</p>
</dd>
<dt><kbd>-t, --test</kbd></dt>
<dd><p>No data is written to disk.</p>
<p>Default: False</p>
</dd>
<dt><kbd>-v, --verbose</kbd></dt>
<dd><p>Show more output such as files discarded from parsing.</p>
<p>Default: False</p>
</dd>
<dt><kbd>-s, --suffix</kbd></dt>
<dd><p>Add this suffix to the filename of every new file.</p>
</dd>
<dt><kbd>--above</kbd></dt>
<dd><p>Display Roman Numerals above the system.</p>
<p>Default: False</p>
</dd>
<dt><kbd>--safe</kbd></dt>
<dd><p>Only moves labels if their temporal positions stay intact.</p>
<p>Default: False</p>
</dd>
<dt><kbd>--staff</kbd></dt>
<dd><p>Which staff you want to move the annotations to. 1=upper staff; -1=lowest staff (default)</p>
<p>Default: -1</p>
</dd>
<dt><kbd>--type</kbd></dt>
<dd><p>defaults to 1, i.e. moves labels to Roman Numeral layer. Other types have not been tested!</p>
<p>Default: 1</p>
</dd>
</dl>
</section>
</section>
</section>
</section>
<section id="developing-a-new-parser">
<h2>Developing a new parser<a class="headerlink" href="#developing-a-new-parser" title="Permalink to this heading">¶</a></h2>
<p>Every new parser needs to fulfil the following interface requirements.</p>
<section id="methods">
<h3>Methods<a class="headerlink" href="#methods" title="Permalink to this heading">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">add_label</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">label</span><span class="p">,</span> <span class="n">mc</span><span class="p">,</span> <span class="n">mc_onset</span><span class="p">,</span> <span class="n">staff</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">voice</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Adds a single label to the current XML in form of a new</span>
<span class="sd">    &lt;Harmony&gt; (and maybe also &lt;location&gt;) tag.</span>
<span class="sd">    &quot;&quot;&quot;</span>

<span class="k">def</span> <span class="nf">delete_label</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mc</span><span class="p">,</span> <span class="n">staff</span><span class="p">,</span> <span class="n">voice</span><span class="p">,</span> <span class="n">mc_onset</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Delete a label from a particular position (if there is one).</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    mc : :obj:`int`</span>
<span class="sd">        Measure count.</span>
<span class="sd">    staff, voice</span>
<span class="sd">        Notational layer in which to delete the label.</span>
<span class="sd">    mc_onset : :obj:`fractions.Fraction`</span>
<span class="sd">        mc_onset</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    :obj:`bool`</span>
<span class="sd">        Whether a label was deleted or not.</span>
<span class="sd">    &quot;&quot;&quot;</span>

<span class="k">def</span> <span class="nf">get_chords</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">staff</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">voice</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;auto&#39;</span><span class="p">,</span> <span class="n">lyrics</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">staff_text</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">dynamics</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">articulation</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">spanners</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Retrieve a customized chord list, e.g. one including less of the processed features or additional,</span>
<span class="sd">    unprocessed ones compared to the standard chord list.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    staff : :obj:`int`</span>
<span class="sd">        Get information from a particular staff only (1 = upper staff)</span>
<span class="sd">    voice : :obj:`int`</span>
<span class="sd">        Get information from a particular voice only (1 = only the first layer of every staff)</span>
<span class="sd">    mode : {&#39;auto&#39;, &#39;all&#39;, &#39;strict&#39;}, optional</span>
<span class="sd">        Defaults to &#39;auto&#39;, meaning that those aspects are automatically included that occur in the score; the resulting</span>
<span class="sd">            DataFrame has no empty columns except for those parameters that are set to True.</span>
<span class="sd">        &#39;all&#39;: Columns for all aspects are created, even if they don&#39;t occur in the score (e.g. lyrics).</span>
<span class="sd">        &#39;strict&#39;: Create columns for exactly those parameters that are set to True, regardless which aspects occur in the score.</span>
<span class="sd">    lyrics : :obj:`bool`, optional</span>
<span class="sd">        Include lyrics.</span>
<span class="sd">    staff_text : :obj:`bool`, optional</span>
<span class="sd">        Include staff text such as tempo markings.</span>
<span class="sd">    dynamics : :obj:`bool`, optional</span>
<span class="sd">        Include dynamic markings such as f or p.</span>
<span class="sd">    articulation : :obj:`bool`, optional</span>
<span class="sd">        Include articulation such as arpeggios.</span>
<span class="sd">    spanners : :obj:`bool`, optional</span>
<span class="sd">        Include spanners such as slurs, 8va lines, pedal lines etc.</span>
<span class="sd">    **kwargs : :obj:`bool`, optional</span>
<span class="sd">        Set a particular keyword to True in order to include all columns from the _events DataFrame</span>
<span class="sd">        whose names include that keyword. Column names include the tag names from the MSCX source code.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    :obj:`pandas.DataFrame`</span>
<span class="sd">        DataFrame representing all &lt;Chord&gt; tags in the score with the selected features.</span>
<span class="sd">    &quot;&quot;&quot;</span>

<span class="k">def</span> <span class="nf">infer_mc</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mn</span><span class="p">,</span> <span class="n">mn_onset</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">volta</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Shortcut for ``MSCX.parsed.infer_mc()``.</span>
<span class="sd">    Tries to convert a ``(mn, mn_onset)`` into a ``(mc, mc_onset)`` tuple on the basis of this MuseScore file.</span>
<span class="sd">    In other words, a human readable score position such as &quot;measure number 32b (i.e., a second ending), beat</span>
<span class="sd">    3&quot; needs to be converted to ``(32, 1/2, 2)`` if &quot;beat&quot; has length 1/4, or--if the meter is, say 9/8 and &quot;beat&quot;</span>
<span class="sd">    has a length of 3/8-- to ``(32, 6/8, 2)``. The resulting ``(mc, mc_onset)`` tuples are required for attaching</span>
<span class="sd">    a label to a score. This is only necessary for labels that were not originally extracted by ms3.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    mn : :obj:`int` or :obj:`str`</span>
<span class="sd">        Measure number as in a reference print edition.</span>
<span class="sd">    mn_onset : :obj:`fractions.Fraction`, optional</span>
<span class="sd">        Distance of the requested position from beat 1 of the complete measure (MN), expressed as</span>
<span class="sd">        fraction of a whole note. Defaults to 0, i.e. the position of beat 1.</span>
<span class="sd">    volta : :obj:`int`, optional</span>
<span class="sd">        In the case of first and second endings, which bear the same measure number, a MN might have to be</span>
<span class="sd">        disambiguated by passing 1 for first ending, 2 for second, and so on. Alternatively, the MN</span>
<span class="sd">        can be disambiguated traditionally by passing it as string with a letter attached. In other words,</span>
<span class="sd">        ``infer_mc(mn=32, volta=1)`` is equivalent to ``infer_mc(mn=&#39;32a&#39;)``.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    :obj:`int`</span>
<span class="sd">        Measure count (MC), denoting particular &lt;Measure&gt; tags in the score.</span>
<span class="sd">    :obj:`fractions.Fraction`</span>

<span class="sd">    &quot;&quot;&quot;</span>

<span class="k">def</span> <span class="nf">parse_measures</span><span class="p">()</span>
</pre></div>
</div>
</section>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<div class="sphinx-toc sphinxglobaltoc">
<h3><a href="index.html">Table of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="quick.html">Quick Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="manual.html">Manual</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Developers' Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#module-ms3.parse">The Parse class</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-ms3.corpus">The Corpus class</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-ms3.piece">The Piece class</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-ms3.view">The View class</a></li>
<li class="toctree-l2"><a class="reference internal" href="#the-score-class">The Score class</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#the-mscx-class">The MSCX class</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-ms3.annotations">The Annotations class</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-ms3.bs4_parser">The BeautifulSoup parser</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-ms3.expand_dcml">The expand_dcml module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-ms3.utils">Utils</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-ms3.transformations">Transformations</a></li>
<li class="toctree-l2"><a class="reference internal" href="#the-commandline-interface">The commandline interface</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#Positional Arguments">Positional Arguments</a></li>
<li class="toctree-l3"><a class="reference internal" href="#options">options</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Sub-commands:">Sub-commands:</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#add">add</a></li>
<li class="toctree-l4"><a class="reference internal" href="#check">check</a></li>
<li class="toctree-l4"><a class="reference internal" href="#compare">compare</a></li>
<li class="toctree-l4"><a class="reference internal" href="#convert">convert</a></li>
<li class="toctree-l4"><a class="reference internal" href="#empty">empty</a></li>
<li class="toctree-l4"><a class="reference internal" href="#extract">extract</a></li>
<li class="toctree-l4"><a class="reference internal" href="#metadata">metadata</a></li>
<li class="toctree-l4"><a class="reference internal" href="#repair">repair</a></li>
<li class="toctree-l4"><a class="reference internal" href="#review">review</a></li>
<li class="toctree-l4"><a class="reference internal" href="#transform">transform</a></li>
<li class="toctree-l4"><a class="reference internal" href="#update">update</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#developing-a-new-parser">Developing a new parser</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#methods">Methods</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="authors.html">Authors</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a></li>
</ul>
</div>
  <div class="sphinxprev">
    <h4>Previous page</h4>
    <p class="topless"><a href="manual.html"
                          title="Previous page">&larr; Manual</a></p>
  </div>
  <div class="sphinxnext">
    <h4>Next page</h4>
    <p class="topless"><a href="license.html"
                          title="Next page">&rarr; License</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/reference.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
    
    
        <div class="sidebar-toggle-group no-js">
            
            <button class="sidebar-toggle" id="sidebar-hide" title="Hide the sidebar menu">
                 «
                <span class="show-for-small">hide menu</span>
                
            </button>
            <button class="sidebar-toggle" id="sidebar-show" title="Show the sidebar menu">
                
                <span class="show-for-small">menu</span>
                <span class="hide-for-small">sidebar</span>
                 »
            </button>
        </div>
    
      <div class="clearer"></div>
    </div>
    <div class="relbar-bottom">
        
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="license.html" title="License"
             >next</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="manual.html" title="Manual"
             >previous</a> &nbsp; &nbsp;</li>
    <li><a href="index.html">ms3 1.0.3 documentation</a> &#187;</li>

        <li class="nav-item nav-item-this"><a href="">Developers’ Reference</a></li> 
      </ul>
    </div>
    </div>

    <div class="footer" role="contentinfo">
        &#169; Copyright 2020, johentsch.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 5.1.1.
    </div>
    <!-- cloud_sptheme 1.4 -->
  </body>
</html>