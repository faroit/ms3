


<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Developers’ Reference &#8212; ms3 0.4.9 documentation</title>
    <link rel="stylesheet" href="_static/cloud.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/ansi.css" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noticia+Text:400,i,b,bi|Open+Sans:400,i,b,bi|Roboto+Mono:400,i,b,bi&amp;display=swap" type="text/css" />
    
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>

    
    
     
        <script src="_static/jquery.cookie.js"></script>
    

    
     
        <script src="_static/cloud.base.js"></script>
    

    
     
        <script src="_static/cloud.js"></script>
    

    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="License" href="license.html" />
    <link rel="prev" title="Manual" href="manual.html" /> 
        <meta name="viewport" content="width=device-width, initial-scale=1">
  </head><body>
    <div class="relbar-top">
        
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="license.html" title="License"
             accesskey="N">next</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="manual.html" title="Manual"
             accesskey="P">previous</a> &nbsp; &nbsp;</li>
    <li><a href="index.html">ms3 0.4.9 documentation</a> &#187;</li>

        <li class="nav-item nav-item-this"><a href="">Developers’ Reference</a></li> 
      </ul>
    </div>
    </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="developers-reference">
<h1>Developers’ Reference<a class="headerlink" href="#developers-reference" title="Permalink to this headline">¶</a></h1>
<p>The library installs a couple of commands to your system. The documentation for these commands can be found
<a class="reference internal" href="#cli-doc"><span class="std std-ref">below</span></a> or by executing <code class="docutils literal notranslate"><span class="pre">ms3</span> <span class="pre">-h</span></code>.</p>
<p>When using ms3 as a module, we are dealing with four main object types:</p>
<ol class="arabic simple">
<li><p><a class="reference internal" href="#ms3.score.MSCX" title="ms3.score.MSCX"><code class="xref py py-class docutils literal notranslate"><span class="pre">MSCX</span></code></a> objects hold the information of a single
parsed MuseScore file;</p></li>
<li><p><a class="reference internal" href="#ms3.annotations.Annotations" title="ms3.annotations.Annotations"><code class="xref py py-class docutils literal notranslate"><span class="pre">Annotations</span></code></a> objects hold a set of annotation labels
which can be either attached to a score (i.e., contained in its XML structure),
or detached.</p></li>
<li><p>Both types of objects are contained within a <a class="reference internal" href="#ms3.score.Score" title="ms3.score.Score"><code class="xref py py-class docutils literal notranslate"><span class="pre">Score</span></code></a> object.
For example, a set of <a class="reference internal" href="#ms3.annotations.Annotations" title="ms3.annotations.Annotations"><code class="xref py py-class docutils literal notranslate"><span class="pre">Annotations</span></code></a> read from a TSV
file can be attached to the XML of an <a class="reference internal" href="#ms3.score.MSCX" title="ms3.score.MSCX"><code class="xref py py-class docutils literal notranslate"><span class="pre">MSCX</span></code></a> object, which
can then be output as a MuseScore file.</p></li>
<li><p>To manipulate many <a class="reference internal" href="#ms3.score.Score" title="ms3.score.Score"><code class="xref py py-class docutils literal notranslate"><span class="pre">Score</span></code></a> objects at once, for example
those of an entire corpus, we use <a class="reference internal" href="#ms3.parse.Parse" title="ms3.parse.Parse"><code class="xref py py-class docutils literal notranslate"><span class="pre">Parse</span></code></a> objects.</p></li>
</ol>
<p>Since <a class="reference internal" href="#ms3.score.MSCX" title="ms3.score.MSCX"><code class="xref py py-class docutils literal notranslate"><span class="pre">MSCX</span></code></a> and <a class="reference internal" href="#ms3.annotations.Annotations" title="ms3.annotations.Annotations"><code class="xref py py-class docutils literal notranslate"><span class="pre">Annotations</span></code></a>
objects are always attached to a <a class="reference internal" href="#ms3.score.Score" title="ms3.score.Score"><code class="xref py py-class docutils literal notranslate"><span class="pre">Score</span></code></a>, the documentation
starts with this central class.</p>
<div class="section" id="the-score-class">
<h2>The Score class<a class="headerlink" href="#the-score-class" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="ms3.score.Score">
<em class="property">class </em><code class="sig-prename descclassname">ms3.score.</code><code class="sig-name descname">Score</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">musescore_file</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">infer_label_types</span><span class="o">=</span><span class="default_value">['dcml']</span></em>, <em class="sig-param"><span class="n">read_only</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">labels_cfg</span><span class="o">=</span><span class="default_value">{}</span></em>, <em class="sig-param"><span class="n">logger_cfg</span><span class="o">=</span><span class="default_value">{}</span></em>, <em class="sig-param"><span class="n">parser</span><span class="o">=</span><span class="default_value">'bs4'</span></em>, <em class="sig-param"><span class="n">ms</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/score.html#Score"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.score.Score" title="Permalink to this definition">¶</a></dt>
<dd><p>Object representing a score.</p>
<dl class="py attribute">
<dt id="ms3.score.Score.ABS_REGEX">
<code class="sig-name descname">ABS_REGEX</code><em class="property"> = '^\\(?[A-G|a-g](b*|#*).*?(/[A-G|a-g](b*|#*))?$'</em><a class="headerlink" href="#ms3.score.Score.ABS_REGEX" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>
Class variable with a regular expression that
recognizes absolute chord symbols in their decoded (string) form; they start with a note name.</p>
</dd></dl>

<dl class="py attribute">
<dt id="ms3.score.Score.NASHVILLE_REGEX">
<code class="sig-name descname">NASHVILLE_REGEX</code><em class="property"> = '^(b*|#*)(\\d).*$'</em><a class="headerlink" href="#ms3.score.Score.NASHVILLE_REGEX" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>
Class variable with a regular expression that
recognizes labels representing a Nashville numeral, which MuseScore is able to encode.</p>
</dd></dl>

<dl class="py attribute">
<dt id="ms3.score.Score.RN_REGEX">
<code class="sig-name descname">RN_REGEX</code><em class="property"> = '^$'</em><a class="headerlink" href="#ms3.score.Score.RN_REGEX" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>
Class variable with a regular expression for Roman numerals that
momentarily matches nothing because ms3 tries interpreting Roman Numerals
als DCML harmony annotations.</p>
</dd></dl>

<dl class="py attribute">
<dt id="ms3.score.Score.native_formats">
<code class="sig-name descname">native_formats</code><em class="property"> = ('mscx', 'mscz')</em><a class="headerlink" href="#ms3.score.Score.native_formats" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#tuple" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tuple</span></code></a>
Formats that MS3 reads without having to convert.</p>
</dd></dl>

<dl class="py attribute">
<dt id="ms3.score.Score.convertible_formats">
<code class="sig-name descname">convertible_formats</code><em class="property"> = ('cap', 'capx', 'midi', 'mid', 'musicxml', 'mxl', 'xml')</em><a class="headerlink" href="#ms3.score.Score.convertible_formats" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#tuple" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tuple</span></code></a>
Formats that have to be converted before parsing.</p>
</dd></dl>

<dl class="py attribute">
<dt id="ms3.score.Score.parseable_formats">
<code class="sig-name descname">parseable_formats</code><em class="property"> = ('mscx', 'mscz', 'cap', 'capx', 'midi', 'mid', 'musicxml', 'mxl', 'xml')</em><a class="headerlink" href="#ms3.score.Score.parseable_formats" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#tuple" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tuple</span></code></a>
Formats that ms3 can parse.</p>
</dd></dl>

<dl class="py attribute">
<dt id="ms3.score.Score.full_paths">
<code class="sig-name descname">full_paths</code><a class="headerlink" href="#ms3.score.Score.full_paths" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#dict" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>
<code class="docutils literal notranslate"><span class="pre">{KEY:</span> <span class="pre">{i:</span> <span class="pre">full_path}}</span></code> dictionary holding the full paths of all parsed MuseScore and TSV files,
including file names. Handled internally by <a class="reference internal" href="#ms3.score.Score._handle_path" title="ms3.score.Score._handle_path"><code class="xref py py-meth docutils literal notranslate"><span class="pre">_handle_path()</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt id="ms3.score.Score.paths">
<code class="sig-name descname">paths</code><a class="headerlink" href="#ms3.score.Score.paths" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#dict" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>
<code class="docutils literal notranslate"><span class="pre">{KEY:</span> <span class="pre">{i:</span> <span class="pre">file</span> <span class="pre">path}}</span></code> dictionary holding the paths of all parsed MuseScore and TSV files,
excluding file names. Handled internally by <a class="reference internal" href="#ms3.score.Score._handle_path" title="ms3.score.Score._handle_path"><code class="xref py py-meth docutils literal notranslate"><span class="pre">_handle_path()</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt id="ms3.score.Score.files">
<code class="sig-name descname">files</code><a class="headerlink" href="#ms3.score.Score.files" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#dict" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>
<code class="docutils literal notranslate"><span class="pre">{KEY:</span> <span class="pre">{i:</span> <span class="pre">file</span> <span class="pre">name</span> <span class="pre">with</span> <span class="pre">extension}}</span></code> dictionary holding the complete file name  of each parsed file,
including the extension. Handled internally by <a class="reference internal" href="#ms3.score.Score._handle_path" title="ms3.score.Score._handle_path"><code class="xref py py-meth docutils literal notranslate"><span class="pre">_handle_path()</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt id="ms3.score.Score.fnames">
<code class="sig-name descname">fnames</code><a class="headerlink" href="#ms3.score.Score.fnames" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#dict" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>
<code class="docutils literal notranslate"><span class="pre">{KEY:</span> <span class="pre">{i:</span> <span class="pre">file</span> <span class="pre">name</span> <span class="pre">without</span> <span class="pre">extension}}</span></code> dictionary holding the file name  of each parsed file,
without its extension. Handled internally by <a class="reference internal" href="#ms3.score.Score._handle_path" title="ms3.score.Score._handle_path"><code class="xref py py-meth docutils literal notranslate"><span class="pre">_handle_path()</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt id="ms3.score.Score.fexts">
<code class="sig-name descname">fexts</code><a class="headerlink" href="#ms3.score.Score.fexts" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#dict" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>
<code class="docutils literal notranslate"><span class="pre">{KEY:</span> <span class="pre">{i:</span> <span class="pre">file</span> <span class="pre">extension}}</span></code> dictionary holding the file extension of each parsed file.
Handled internally by <a class="reference internal" href="#ms3.score.Score._handle_path" title="ms3.score.Score._handle_path"><code class="xref py py-meth docutils literal notranslate"><span class="pre">_handle_path()</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt id="ms3.score.Score.ms">
<code class="sig-name descname">ms</code><a class="headerlink" href="#ms3.score.Score.ms" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>
Path or command of the local MuseScore 3 installation if specified by the user.</p>
</dd></dl>

<dl class="py attribute">
<dt id="ms3.score.Score._mscx">
<code class="sig-name descname">_mscx</code><a class="headerlink" href="#ms3.score.Score._mscx" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="#ms3.score.MSCX" title="ms3.score.MSCX"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MSCX</span></code></a>
The object representing the parsed MuseScore file.</p>
</dd></dl>

<dl class="py attribute">
<dt id="ms3.score.Score._detached_annotations">
<code class="sig-name descname">_detached_annotations</code><a class="headerlink" href="#ms3.score.Score._detached_annotations" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#dict" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>
<code class="docutils literal notranslate"><span class="pre">{(key,</span> <span class="pre">i):</span> <span class="pre">Annotations</span> <span class="pre">object}</span></code> dictionary for accessing all detached <a class="reference internal" href="#ms3.annotations.Annotations" title="ms3.annotations.Annotations"><code class="xref py py-class docutils literal notranslate"><span class="pre">Annotations</span></code></a> objects.</p>
</dd></dl>

<dl class="py attribute">
<dt id="ms3.score.Score._types_to_infer">
<code class="sig-name descname">_types_to_infer</code><a class="headerlink" href="#ms3.score.Score._types_to_infer" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#list" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a>
Current order in which types are being recognized.</p>
</dd></dl>

<dl class="py attribute">
<dt id="ms3.score.Score._label_types">
<code class="sig-name descname">_label_types</code><a class="headerlink" href="#ms3.score.Score._label_types" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#dict" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>
Mapping label types to their descriptions.
0: “Simple string (does not begin with a note name, otherwise MS3 will turn it into type 3; prevent through leading dot)”,
1: “MuseScore’s Roman Numeral Annotation format”,
2: “MuseScore’s Nashville Number format”,
3: “Absolute chord encoded by MuseScore”,
‘dcml’: “Latest version of the DCML harmonic annotation standard.”,</p>
</dd></dl>

<dl class="py attribute">
<dt id="ms3.score.Score._label_regex">
<code class="sig-name descname">_label_regex</code><a class="headerlink" href="#ms3.score.Score._label_regex" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#dict" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>
Mapping label types to their corresponding regex. Managed via the property <a class="reference internal" href="#ms3.score.Score.infer_label_types" title="ms3.score.Score.infer_label_types"><code class="xref py py-meth docutils literal notranslate"><span class="pre">infer_label_types()</span></code></a>.
1: self.RN_REGEX,
2: self.NASHVILLE_REGEX,
3: self.ABS_REGEX,
‘dcml’: utils.DCML_REGEX,</p>
</dd></dl>

<dl class="py attribute">
<dt id="ms3.score.Score.labels_cfg">
<code class="sig-name descname">labels_cfg</code><a class="headerlink" href="#ms3.score.Score.labels_cfg" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#dict" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>
Configuration dictionary to determine the output format of the <a class="reference internal" href="#ms3.annotations.Annotations" title="ms3.annotations.Annotations"><code class="xref py py-class docutils literal notranslate"><span class="pre">Annotations</span></code></a>
objects contained in the current object, especially when calling <a class="reference internal" href="#ms3.score.MSCX.labels" title="ms3.score.MSCX.labels"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Score.mscx.labels</span></code></a>.
The default options correspond to the default parameters of
<a class="reference internal" href="#ms3.annotations.Annotations.get_labels" title="ms3.annotations.Annotations.get_labels"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Annotations.get_labels()</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt id="ms3.score.Score.parser">
<code class="sig-name descname">parser</code><a class="headerlink" href="#ms3.score.Score.parser" title="Permalink to this definition">¶</a></dt>
<dd><p>{‘bs4’}
Currently only one XML parser has been implemented which uses BeautifulSoup 4.</p>
</dd></dl>

<dl class="py method">
<dt id="ms3.score.Score.infer_label_types">
<em class="property">property </em><code class="sig-name descname">infer_label_types</code><a class="headerlink" href="#ms3.score.Score.infer_label_types" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#list" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a> or <a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#dict" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>, optional
The order in which label types are to be inferred.
Assigning a new value results in a call to <code class="xref py py-meth docutils literal notranslate"><span class="pre">infer_types()</span></code>.
Passing a {label type: regex} dictionary is a shortcut to update type regex’s or to add new ones.
The inference will take place in the order in which they appear in the dictionary. To reuse an existing
regex will updating others, you can refer to them as None, e.g. <code class="docutils literal notranslate"><span class="pre">{'dcml':</span> <span class="pre">None,</span> <span class="pre">'my_own':</span> <span class="pre">r'^(PAC|HC)$'}</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt id="ms3.score.Score.has_detached_annotations">
<em class="property">property </em><code class="sig-name descname">has_detached_annotations</code><a class="headerlink" href="#ms3.score.Score.has_detached_annotations" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>
Is True as long as the score contains <a class="reference internal" href="#ms3.annotations.Annotations" title="ms3.annotations.Annotations"><code class="xref py py-class docutils literal notranslate"><span class="pre">Annotations</span></code></a> objects, that are not attached to the <a class="reference internal" href="#ms3.score.MSCX" title="ms3.score.MSCX"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MSCX</span></code></a> object.</p>
</dd></dl>

<dl class="py method">
<dt id="ms3.score.Score.mscx">
<em class="property">property </em><code class="sig-name descname">mscx</code><a class="headerlink" href="#ms3.score.Score.mscx" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="#ms3.score.MSCX" title="ms3.score.MSCX"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MSCX</span></code></a>
Standard way of accessing the parsed MuseScore file.</p>
</dd></dl>

<dl class="py method">
<dt id="ms3.score.Score.types">
<em class="property">property </em><code class="sig-name descname">types</code><a class="headerlink" href="#ms3.score.Score.types" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#dict" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>
Shows the mapping of label types to their descriptions.</p>
</dd></dl>

<dl class="py method">
<dt id="ms3.score.Score.attach_labels">
<code class="sig-name descname">attach_labels</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">key</span></em>, <em class="sig-param"><span class="n">staff</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">voice</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">label_type</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">check_for_clashes</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">remove_detached</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/score.html#Score.attach_labels"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.score.Score.attach_labels" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert detached labels <code class="docutils literal notranslate"><span class="pre">key</span></code> into this score’s <a class="reference internal" href="#ms3.score.MSCX" title="ms3.score.MSCX"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MSCX</span></code></a> object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – Key of the detached labels you want to insert into the score.</p></li>
<li><p><strong>staff</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>, optional) – Pass one or both of these arguments to change the original annotation layer or if there was none.</p></li>
<li><p><strong>voice</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>, optional) – Pass one or both of these arguments to change the original annotation layer or if there was none.</p></li>
<li><p><strong>label_type</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>, optional) – By default, the labels are written into the staff’s layer for absolute (‘guitar’) chords, meaning that when
opened next time, MuseScore will split and encode those beginning with a note name (internal label_type 3).
In order to influence how MuseScore treats the labels pass one of these values:
1: Roman Numeral Analysis
2: Nashville Numbers</p></li>
<li><p><strong>check_for_clashes</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Defaults to True, meaning that the positions where the labels will be inserted will be checked for existing
labels.</p></li>
<li><p><strong>remove_detached</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – By default, the detached <a class="reference internal" href="#ms3.annotations.Annotations" title="ms3.annotations.Annotations"><code class="xref py py-class docutils literal notranslate"><span class="pre">Annotations</span></code></a> object is removed after successfully attaching it.
Pass False to have it remain in detached state.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a> – Number of newly attached labels.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a> – Number of labels that were to be attached.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ms3.score.Score.change_labels_cfg">
<code class="sig-name descname">change_labels_cfg</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">labels_cfg</span><span class="o">=</span><span class="default_value">{}</span></em>, <em class="sig-param"><span class="n">staff</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">voice</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">label_type</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">positioning</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">decode</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">column_name</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">color_format</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/score.html#Score.change_labels_cfg"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.score.Score.change_labels_cfg" title="Permalink to this definition">¶</a></dt>
<dd><p>Update <a class="reference internal" href="#ms3.score.Score.labels_cfg" title="ms3.score.Score.labels_cfg"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Score.labels_cfg</span></code></a> and <a class="reference internal" href="#ms3.score.MSCX.labels_cfg" title="ms3.score.MSCX.labels_cfg"><code class="xref py py-attr docutils literal notranslate"><span class="pre">MSCX.labels_cfg</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>labels_cfg</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#dict" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>) – Using an entire dictionary or, to change only particular options, choose from:</p></li>
<li><p><strong>staff</strong> – Arguments as they will be passed to <a class="reference internal" href="#ms3.annotations.Annotations.get_labels" title="ms3.annotations.Annotations.get_labels"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_labels()</span></code></a></p></li>
<li><p><strong>voice</strong> – Arguments as they will be passed to <a class="reference internal" href="#ms3.annotations.Annotations.get_labels" title="ms3.annotations.Annotations.get_labels"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_labels()</span></code></a></p></li>
<li><p><strong>label_type</strong> – Arguments as they will be passed to <a class="reference internal" href="#ms3.annotations.Annotations.get_labels" title="ms3.annotations.Annotations.get_labels"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_labels()</span></code></a></p></li>
<li><p><strong>positioning</strong> – Arguments as they will be passed to <a class="reference internal" href="#ms3.annotations.Annotations.get_labels" title="ms3.annotations.Annotations.get_labels"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_labels()</span></code></a></p></li>
<li><p><strong>decode</strong> – Arguments as they will be passed to <a class="reference internal" href="#ms3.annotations.Annotations.get_labels" title="ms3.annotations.Annotations.get_labels"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_labels()</span></code></a></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ms3.score.Score.check_labels">
<code class="sig-name descname">check_labels</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">keys</span><span class="o">=</span><span class="default_value">'annotations'</span></em>, <em class="sig-param"><span class="n">regex</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">label_type</span><span class="o">=</span><span class="default_value">'dcml'</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/score.html#Score.check_labels"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.score.Score.check_labels" title="Permalink to this definition">¶</a></dt>
<dd><p>Tries to match the labels <code class="docutils literal notranslate"><span class="pre">keys</span></code> against the given <code class="docutils literal notranslate"><span class="pre">regex</span></code> or the one of the registered <code class="docutils literal notranslate"><span class="pre">label_type</span></code>.
Returns wrong labels.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>keys</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a> or <code class="xref py py-obj docutils literal notranslate"><span class="pre">Collection</span></code>, optional) – The key(s) of the Annotation objects you want to check. Defaults to ‘annotations’, the attached labels.</p></li>
<li><p><strong>regex</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – Pass a regular expression against which to check the labels if you don’t want to use the one of an existing
<code class="docutils literal notranslate"><span class="pre">label_type</span></code> or in order to register a new one on the fly by passing the new name as <code class="docutils literal notranslate"><span class="pre">label_type</span></code>.</p></li>
<li><p><strong>label_type</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – To use the regular expression of a registered type, pass its name, defaults to ‘dcml’. Pass a new name and
a <code class="docutils literal notranslate"><span class="pre">regex</span></code> to register a new label type on the fly.</p></li>
<li><p><strong>kwargs</strong> – Parameters passed to <a class="reference internal" href="#ms3.utils.check_labels" title="ms3.utils.check_labels"><code class="xref py py-func docutils literal notranslate"><span class="pre">check_labels()</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Labels not matching the regex.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.3.3)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ms3.score.Score.compare_labels">
<code class="sig-name descname">compare_labels</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">detached_key</span></em>, <em class="sig-param"><span class="n">new_color</span><span class="o">=</span><span class="default_value">'ms3_darkgreen'</span></em>, <em class="sig-param"><span class="n">old_color</span><span class="o">=</span><span class="default_value">'ms3_darkred'</span></em>, <em class="sig-param"><span class="n">detached_is_newer</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">add_to_rna</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/score.html#Score.compare_labels"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.score.Score.compare_labels" title="Permalink to this definition">¶</a></dt>
<dd><p>Compare detached labels <code class="docutils literal notranslate"><span class="pre">key</span></code> to the ones attached to the Score.
By default, the attached labels are considered as the reviewed version and changes are colored in green;
Changes with respect to the detached labels are attached to the Score in red.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>detached_key</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – Key of the detached labels you want to compare to the ones in the score.</p></li>
<li><p><strong>new_color</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a> or <a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#tuple" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tuple</span></code></a>, optional) – The colors by which new and old labels are differentiated. Identical labels remain unchanged.</p></li>
<li><p><strong>old_color</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a> or <a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#tuple" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tuple</span></code></a>, optional) – The colors by which new and old labels are differentiated. Identical labels remain unchanged.</p></li>
<li><p><strong>detached_is_newer</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Pass True if the detached labels are to be added with <code class="docutils literal notranslate"><span class="pre">new_color</span></code> whereas the attached changed labels
will turn <code class="docutils literal notranslate"><span class="pre">old_color</span></code>, as opposed to the default.</p></li>
<li><p><strong>add_to_rna</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – By default, new labels are attached to the Roman Numeral layer. Pass false to attach them to the chord layer instead.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ms3.score.Score.detach_labels">
<code class="sig-name descname">detach_labels</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">key</span></em>, <em class="sig-param"><span class="n">staff</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">voice</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">label_type</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">delete</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/score.html#Score.detach_labels"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.score.Score.detach_labels" title="Permalink to this definition">¶</a></dt>
<dd><p>Detach all annotations labels from this score’s <a class="reference internal" href="#ms3.score.MSCX" title="ms3.score.MSCX"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MSCX</span></code></a> object or just a selection of them.
The extracted labels are stored as a new <a class="reference internal" href="#ms3.annotations.Annotations" title="ms3.annotations.Annotations"><code class="xref py py-class docutils literal notranslate"><span class="pre">Annotations</span></code></a> object that is accessible via <code class="docutils literal notranslate"><span class="pre">Score.{key}</span></code>.
By default, <code class="docutils literal notranslate"><span class="pre">delete</span></code> is set to True, meaning that if you call <a class="reference internal" href="#ms3.score.Score.store_mscx" title="ms3.score.Score.store_mscx"><code class="xref py py-meth docutils literal notranslate"><span class="pre">store_mscx()</span></code></a> afterwards,
the created MuseScore file will not contain the detached labels.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – Specify a new key for accessing the detached set of annotations. The string needs to be usable
as an identifier, e.g. not start with a number, not contain special characters etc. In return you
may use it as a property: For example, passing <code class="docutils literal notranslate"><span class="pre">'chords'</span></code> lets you access the detached labels as
<code class="docutils literal notranslate"><span class="pre">Score.chords</span></code>. The key ‘annotations’ is reserved for all annotations attached to the score.</p></li>
<li><p><strong>staff</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>, optional) – Pass a staff ID to select only labels from this staff. The upper staff has ID 1.</p></li>
<li><p><strong>voice</strong> (<em>{1</em><em>, </em><em>2</em><em>, </em><em>3</em><em>, </em><em>4}</em><em>, </em><em>optional</em>) – Can be used to select only labels from one of the four notational layers.
Layer 1 is MuseScore’s main, ‘upper voice’ layer, coloured in blue.</p></li>
<li><p><strong>label_type</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a> or <a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – Select one of the predefined or custom label types to select only labels of this type.
Predefined types are {0, 1, 2, 3, ‘dcml’} (see <a class="reference internal" href="#ms3.score.Score._label_types" title="ms3.score.Score._label_types"><code class="xref py py-attr docutils literal notranslate"><span class="pre">_label_types</span></code></a>).</p></li>
<li><p><strong>delete</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – By default, the labels are removed from the XML structure in <a class="reference internal" href="#ms3.score.MSCX" title="ms3.score.MSCX"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MSCX</span></code></a>.
Pass False if you want them to remain. This could be useful if you only want to extract a subset
of the annotations for storing them separately but without removing the labels from the score.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ms3.score.Score.get_infer_regex">
<code class="sig-name descname">get_infer_regex</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/score.html#Score.get_infer_regex"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.score.Score.get_infer_regex" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Mapping of label types to the corresponding regular expressions
in the order in which they are currently set to be inferred.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#dict" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ms3.score.Score.new_type">
<code class="sig-name descname">new_type</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em>, <em class="sig-param"><span class="n">regex</span></em>, <em class="sig-param"><span class="n">description</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">infer</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/score.html#Score.new_type"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.score.Score.new_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Declare a custom label type. A type consists of a name, a regular expression and,
falculatively, of a description.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a> or <a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>) – Name of the custom label type.</p></li>
<li><p><strong>regex</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – Regular expression that matches all labels of the custom type.</p></li>
<li><p><strong>description</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – Human readable description that appears when calling the property <code class="docutils literal notranslate"><span class="pre">Score.types</span></code>.</p></li>
<li><p><strong>infer</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – By default, the labels of all <a class="reference internal" href="#ms3.annotations.Annotations" title="ms3.annotations.Annotations"><code class="xref py py-class docutils literal notranslate"><span class="pre">Annotations</span></code></a> objects are matched against the new type.
Pass False to not change any label’s type.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ms3.score.Score.load_annotations">
<code class="sig-name descname">load_annotations</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tsv_path</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">anno_obj</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">key</span><span class="o">=</span><span class="default_value">'tsv'</span></em>, <em class="sig-param"><span class="n">cols</span><span class="o">=</span><span class="default_value">{}</span></em>, <em class="sig-param"><span class="n">infer</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/score.html#Score.load_annotations"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.score.Score.load_annotations" title="Permalink to this definition">¶</a></dt>
<dd><p>Attach an <a class="reference internal" href="#ms3.annotations.Annotations" title="ms3.annotations.Annotations"><code class="xref py py-class docutils literal notranslate"><span class="pre">Annotations</span></code></a> object to the score and make it available as <code class="docutils literal notranslate"><span class="pre">Score.{key}</span></code>.
It can be an existing object or one newly created from the TSV file <code class="docutils literal notranslate"><span class="pre">tsv_path</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tsv_path</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – If you want to create a new <a class="reference internal" href="#ms3.annotations.Annotations" title="ms3.annotations.Annotations"><code class="xref py py-class docutils literal notranslate"><span class="pre">Annotations</span></code></a> object from a TSV file, pass its path.</p></li>
<li><p><strong>anno_obj</strong> (<a class="reference internal" href="#ms3.annotations.Annotations" title="ms3.annotations.Annotations"><code class="xref py py-class docutils literal notranslate"><span class="pre">Annotations</span></code></a>) – Instead, you can pass an existing object.</p></li>
<li><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, defaults to ‘tsv’) – Specify a new key for accessing the set of annotations. The string needs to be usable
as an identifier, e.g. not start with a number, not contain special characters etc. In return you
may use it as a property: For example, passing <code class="docutils literal notranslate"><span class="pre">'chords'</span></code> lets you access the <a class="reference internal" href="#ms3.annotations.Annotations" title="ms3.annotations.Annotations"><code class="xref py py-class docutils literal notranslate"><span class="pre">Annotations</span></code></a> as
<code class="docutils literal notranslate"><span class="pre">Score.chords</span></code>. The key ‘annotations’ is reserved for all annotations attached to the score.</p></li>
<li><p><strong>cols</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#dict" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>, optional) – If the columns in the specified TSV file diverge from the <a class="reference internal" href="manual.html#column-names"><span class="std std-ref">standard column names</span></a>,
pass a {standard name: custom name} dictionary.</p></li>
<li><p><strong>infer</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – By default, the label types are inferred in the currently configured order (see <a class="reference internal" href="#ms3.score.Score.infer_label_types" title="ms3.score.Score.infer_label_types"><code class="xref py py-attr docutils literal notranslate"><span class="pre">infer_label_types</span></code></a>).
Pass False to not add and not change any label types.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ms3.score.Score.store_annotations">
<code class="sig-name descname">store_annotations</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">key</span><span class="o">=</span><span class="default_value">'annotations'</span></em>, <em class="sig-param"><span class="n">tsv_path</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/score.html#Score.store_annotations"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.score.Score.store_annotations" title="Permalink to this definition">¶</a></dt>
<dd><p>Save a set of annotations as TSV file. While <code class="docutils literal notranslate"><span class="pre">store_list</span></code> stores attached labels only, this method
can also store detached labels by passing a <code class="docutils literal notranslate"><span class="pre">key</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – Key of the <a class="reference internal" href="#ms3.annotations.Annotations" title="ms3.annotations.Annotations"><code class="xref py py-class docutils literal notranslate"><span class="pre">Annotations</span></code></a> object which you want to output as TSV file.
By default, the annotations attached to the score (key=’annotations’) are stored.</p></li>
<li><p><strong>tsv_path</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – Path of the newly created TSV file including the file name.
By default, the TSV file is stored next to t</p></li>
<li><p><strong>kwargs</strong> – Additional keyword arguments will be passed to the function <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.to_csv.html#pandas.DataFrame.to_csv" title="(in pandas v1.3.3)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pandas.DataFrame.to_csv()</span></code></a> to
customise the format of the created file (e.g. to change the separator to commas instead of tabs,
you would pass <code class="docutils literal notranslate"><span class="pre">sep=','</span></code>).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ms3.score.Score.store_mscx">
<code class="sig-name descname">store_mscx</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filepath</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/score.html#Score.store_mscx"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.score.Score.store_mscx" title="Permalink to this definition">¶</a></dt>
<dd><p>Store the current <a class="reference internal" href="#ms3.score.MSCX" title="ms3.score.MSCX"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MSCX</span></code></a> object attached to this score as uncompressed MuseScore file.
Just a shortcut for <code class="docutils literal notranslate"><span class="pre">Score.mscx.store_mscx()</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>filepath</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – Path of the newly created MuseScore file, including the file name ending on ‘.mscx’.
Uncompressed files (‘.mscz’) are not supported.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ms3.score.Score._handle_path">
<code class="sig-name descname">_handle_path</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path</span></em>, <em class="sig-param"><span class="n">key</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">logger_name</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/score.html#Score._handle_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.score.Score._handle_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Puts the path into <code class="docutils literal notranslate"><span class="pre">paths,</span> <span class="pre">files,</span> <span class="pre">fnames,</span> <span class="pre">fexts</span></code> dicts with the given key.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – Full file path.</p></li>
<li><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – The key chosen by the user. By default, the key is automatically assigend to be the file’s extension.</p></li>
<li><p><strong>logger_name</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – By default, a logger name is generated for the file from its file name with extension, stripped of all dots.
To designate a different logger to go with this file, pass its name.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ms3.score.Score._parse_mscx">
<code class="sig-name descname">_parse_mscx</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">musescore_file</span></em>, <em class="sig-param"><span class="n">read_only</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">parser</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">labels_cfg</span><span class="o">=</span><span class="default_value">{}</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/score.html#Score._parse_mscx"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.score.Score._parse_mscx" title="Permalink to this definition">¶</a></dt>
<dd><p>This method is called by <code class="xref py py-meth docutils literal notranslate"><span class="pre">__init__()</span></code> to parse the score. It checks the file extension
and in the case of a compressed MuseScore file (.mscz), a temporary uncompressed file is generated
which is removed after the parsing process.
Essentially, parsing means to initiate a <a class="reference internal" href="#ms3.score.MSCX" title="ms3.score.MSCX"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MSCX</span></code></a> object and to make it available as <code class="docutils literal notranslate"><span class="pre">Score.mscx</span></code>
and, if the score includes annotations, to initiate an <a class="reference internal" href="#ms3.annotations.Annotations" title="ms3.annotations.Annotations"><code class="xref py py-class docutils literal notranslate"><span class="pre">Annotations</span></code></a> object that
can be accessed as <code class="docutils literal notranslate"><span class="pre">Score.annotations</span></code>.
The method doesn’t systematically clean up data from a hypothetical previous parse.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>musescore_file</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – Path to the MuseScore file to be parsed.</p></li>
<li><p><strong>read_only</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Defaults to <code class="docutils literal notranslate"><span class="pre">False</span></code>, meaning that the parsing is slower and uses more memory in order to allow for manipulations
of the score, such as adding and deleting labels. Set to <code class="docutils literal notranslate"><span class="pre">True</span></code> if you’re only extracting information.</p></li>
<li><p><strong>parser</strong> (<em>'bs4'</em><em>, </em><em>optional</em>) – The only XML parser currently implemented is BeautifulSoup 4.</p></li>
<li><p><strong>labels_cfg</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#dict" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>, optional) – Store a configuration dictionary to determine the output format of the <a class="reference internal" href="#ms3.annotations.Annotations" title="ms3.annotations.Annotations"><code class="xref py py-class docutils literal notranslate"><span class="pre">Annotations</span></code></a>
object representing the currently attached annotations. See <a class="reference internal" href="#ms3.score.MSCX.labels_cfg" title="ms3.score.MSCX.labels_cfg"><code class="xref py py-attr docutils literal notranslate"><span class="pre">MSCX.labels_cfg</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<div class="section" id="the-mscx-class">
<h3>The MSCX class<a class="headerlink" href="#the-mscx-class" title="Permalink to this headline">¶</a></h3>
<p>This class defines the user interface for accessing score information via <a class="reference internal" href="#ms3.score.Score.mscx" title="ms3.score.Score.mscx"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Score.mscx</span></code></a>.
It consists mainly of shortcuts for interacting with the parser in use, currently
<a class="reference internal" href="#bs4-parser"><span class="std std-ref">Beautifulsoup exclusively</span></a>.</p>
<dl class="py class">
<dt id="ms3.score.MSCX">
<em class="property">class </em><code class="sig-prename descclassname">ms3.score.</code><code class="sig-name descname">MSCX</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mscx_src</span></em>, <em class="sig-param"><span class="n">read_only</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">parser</span><span class="o">=</span><span class="default_value">'bs4'</span></em>, <em class="sig-param"><span class="n">labels_cfg</span><span class="o">=</span><span class="default_value">{}</span></em>, <em class="sig-param"><span class="n">logger_cfg</span><span class="o">=</span><span class="default_value">{}</span></em>, <em class="sig-param"><span class="n">level</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">parent_score</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/score.html#MSCX"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.score.MSCX" title="Permalink to this definition">¶</a></dt>
<dd><p>Object for interacting with the XML structure of a MuseScore 3 file. Is usually attached to a
<a class="reference internal" href="#ms3.score.Score" title="ms3.score.Score"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Score</span></code></a> object and exposed as <code class="docutils literal notranslate"><span class="pre">Score.mscx</span></code>.
An object is only created if a score was successfully parsed.</p>
<dl class="py attribute">
<dt id="ms3.score.MSCX.changed">
<code class="sig-name descname">changed</code><a class="headerlink" href="#ms3.score.MSCX.changed" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>
Switches to True as soon as the original XML structure is changed. Does not automatically switch back to False.</p>
</dd></dl>

<dl class="py attribute">
<dt id="ms3.score.MSCX.read_only">
<code class="sig-name descname">read_only</code><a class="headerlink" href="#ms3.score.MSCX.read_only" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional
Shortcut for <code class="docutils literal notranslate"><span class="pre">MSCX.parsed.read_only</span></code>.
Defaults to <code class="docutils literal notranslate"><span class="pre">False</span></code>, meaning that the parsing is slower and uses more memory in order to allow for manipulations
of the score, such as adding and deleting labels. Set to <code class="docutils literal notranslate"><span class="pre">True</span></code> if you’re only extracting information.</p>
</dd></dl>

<dl class="py attribute">
<dt id="ms3.score.MSCX.parent_score">
<code class="sig-name descname">parent_score</code><a class="headerlink" href="#ms3.score.MSCX.parent_score" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="#ms3.score.Score" title="ms3.score.Score"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Score</span></code></a>
The Score object to which this MSCX object is attached.</p>
</dd></dl>

<dl class="py attribute">
<dt id="ms3.score.MSCX.parser">
<code class="sig-name descname">parser</code><a class="headerlink" href="#ms3.score.MSCX.parser" title="Permalink to this definition">¶</a></dt>
<dd><p>{‘bs4’}
The currently used parser.</p>
</dd></dl>

<dl class="py attribute">
<dt id="ms3.score.MSCX.labels_cfg">
<code class="sig-name descname">labels_cfg</code><a class="headerlink" href="#ms3.score.MSCX.labels_cfg" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#dict" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>
Configuration dictionary to determine the output format of the <a class="reference internal" href="#ms3.annotations.Annotations" title="ms3.annotations.Annotations"><code class="xref py py-class docutils literal notranslate"><span class="pre">Annotations</span></code></a>
object representing the labels that are attached to a score (stored as <code class="xref py py-attr docutils literal notranslate"><span class="pre">_annotations`</span></code>).
The options correspond to the parameters of
<a class="reference internal" href="#ms3.annotations.Annotations.get_labels" title="ms3.annotations.Annotations.get_labels"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Annotations.get_labels()</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt id="ms3.score.MSCX.mscx_src">
<code class="sig-name descname">mscx_src</code><a class="headerlink" href="#ms3.score.MSCX.mscx_src" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>
Full path of the parsed MuseScore file.</p>
</dd></dl>

<dl class="py method">
<dt id="ms3.score.MSCX.cadences">
<em class="property">property </em><code class="sig-name descname">cadences</code><a class="headerlink" href="#ms3.score.MSCX.cadences" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.3.3)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>
DataFrame representing all cadence annotations in the score.</p>
</dd></dl>

<dl class="py method">
<dt id="ms3.score.MSCX.chords">
<em class="property">property </em><code class="sig-name descname">chords</code><a class="headerlink" href="#ms3.score.MSCX.chords" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.3.3)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>
DataFrame representing all &lt;Chord&gt; tags in the score. A chord in that sense is a grouping of all
synchronous notes occurring in the same notational layer of the same staff. The DataFrame contains
all kinds of score markup that is not attached to particular notes but to a &lt;Chord&gt;, such as
slurs, lyrics, staff text, ottava lines etc.</p>
</dd></dl>

<dl class="py method">
<dt id="ms3.score.MSCX.events">
<em class="property">property </em><code class="sig-name descname">events</code><a class="headerlink" href="#ms3.score.MSCX.events" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.3.3)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>
DataFrame representating a raw skeleton of the score’s XML structure and contains all score events,
i.e. &lt;Chord&gt;, &lt;Rest&gt;, &lt;Harmony&gt; and markup tags such as &lt;Beam&gt; together with, in the columns the values of their
XML properties and children. It serves as master for computing <a class="reference internal" href="#ms3.score.MSCX.chords" title="ms3.score.MSCX.chords"><code class="xref py py-obj docutils literal notranslate"><span class="pre">chords</span></code></a>, <a class="reference internal" href="#ms3.score.MSCX.rests" title="ms3.score.MSCX.rests"><code class="xref py py-obj docutils literal notranslate"><span class="pre">rests</span></code></a>, and <a class="reference internal" href="#ms3.score.MSCX.labels" title="ms3.score.MSCX.labels"><code class="xref py py-obj docutils literal notranslate"><span class="pre">labels</span></code></a>
(and therefore <a class="reference internal" href="#ms3.score.MSCX.expanded" title="ms3.score.MSCX.expanded"><code class="xref py py-obj docutils literal notranslate"><span class="pre">expanded</span></code></a>, too).</p>
</dd></dl>

<dl class="py method">
<dt id="ms3.score.MSCX.expanded">
<em class="property">property </em><code class="sig-name descname">expanded</code><a class="headerlink" href="#ms3.score.MSCX.expanded" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.3.3)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>
DataFrame of labels that have been split into various features using a regular expression.</p>
</dd></dl>

<dl class="py method">
<dt id="ms3.score.MSCX.has_annotations">
<em class="property">property </em><code class="sig-name descname">has_annotations</code><a class="headerlink" href="#ms3.score.MSCX.has_annotations" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>
Shortcut for <code class="docutils literal notranslate"><span class="pre">MSCX.parsed.has_annotations</span></code>.
Is True as long as at least one label is attached to the current XML.</p>
</dd></dl>

<dl class="py method">
<dt id="ms3.score.MSCX.labels">
<em class="property">property </em><code class="sig-name descname">labels</code><a class="headerlink" href="#ms3.score.MSCX.labels" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.3.3)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>
DataFrame representing all &lt;Harmony&gt; tags in the score as returned by calling <a class="reference internal" href="#ms3.annotations.Annotations.get_labels" title="ms3.annotations.Annotations.get_labels"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_labels()</span></code></a>
on the object at <code class="xref py py-obj docutils literal notranslate"><span class="pre">_annotations</span></code> with the current <code class="xref py py-obj docutils literal notranslate"><span class="pre">_labels_cfg</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt id="ms3.score.MSCX.measures">
<em class="property">property </em><code class="sig-name descname">measures</code><a class="headerlink" href="#ms3.score.MSCX.measures" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.3.3)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>
DataFrame representing the measures of the MuseScore file (which can be incomplete measures).
The potentially incomplete measure units are numbered starting from one, which corresponds to the
“bar count” displayed in MuseScore 3’s status bar. This numbering is represented in the column <a class="reference internal" href="manual.html#mc"><span class="std std-ref">mc</span></a>.
(measure count). The columns represent for every MC its <a class="reference internal" href="manual.html#act-dur"><span class="std std-ref">actual duration</span></a>, its
<a class="reference internal" href="manual.html#timesig"><span class="std std-ref">time signature</span></a>, how it is to be considered when computing measure numbers (<a class="reference internal" href="manual.html#mn"><span class="std std-ref">mn</span></a>),
and which other MCs can “come <a class="reference internal" href="manual.html#next"><span class="std std-ref">next</span></a>” according to the score’s repeat structure.</p>
</dd></dl>

<dl class="py method">
<dt id="ms3.score.MSCX.metadata">
<em class="property">property </em><code class="sig-name descname">metadata</code><a class="headerlink" href="#ms3.score.MSCX.metadata" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#dict" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>
Shortcut for <code class="docutils literal notranslate"><span class="pre">MSCX.parsed.metadata</span></code>.
Metadata from and about the MuseScore file.</p>
</dd></dl>

<dl class="py method">
<dt id="ms3.score.MSCX.notes">
<em class="property">property </em><code class="sig-name descname">notes</code><a class="headerlink" href="#ms3.score.MSCX.notes" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.3.3)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>
DataFrame representing all &lt;Note&gt; tags within the score.</p>
</dd></dl>

<dl class="py method">
<dt id="ms3.score.MSCX.notes_and_rests">
<em class="property">property </em><code class="sig-name descname">notes_and_rests</code><a class="headerlink" href="#ms3.score.MSCX.notes_and_rests" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.3.3)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>
The union of <a class="reference internal" href="#ms3.score.MSCX.notes" title="ms3.score.MSCX.notes"><code class="xref py py-obj docutils literal notranslate"><span class="pre">notes</span></code></a> and <a class="reference internal" href="#ms3.score.MSCX.rests" title="ms3.score.MSCX.rests"><code class="xref py py-obj docutils literal notranslate"><span class="pre">rests</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt id="ms3.score.MSCX.parsed">
<em class="property">property </em><code class="sig-name descname">parsed</code><a class="headerlink" href="#ms3.score.MSCX.parsed" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="#ms3.bs4_parser._MSCX_bs4" title="ms3.bs4_parser._MSCX_bs4"><code class="xref py py-obj docutils literal notranslate"><span class="pre">_MSCX_bs4</span></code></a>
Standard way of accessing the object exposed by the current parser. <a class="reference internal" href="#ms3.score.MSCX" title="ms3.score.MSCX"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MSCX</span></code></a> uses this object’s
interface for requesting manipulations of and information from the source XML.</p>
</dd></dl>

<dl class="py method">
<dt id="ms3.score.MSCX.rests">
<em class="property">property </em><code class="sig-name descname">rests</code><a class="headerlink" href="#ms3.score.MSCX.rests" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.3.3)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>
DataFrame representing all &lt;Rest&gt; tags.</p>
</dd></dl>

<dl class="py method">
<dt id="ms3.score.MSCX.staff_ids">
<em class="property">property </em><code class="sig-name descname">staff_ids</code><a class="headerlink" href="#ms3.score.MSCX.staff_ids" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#list" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a> of <a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>
The staff IDs contained in the score, usually just a list of increasing numbers starting at 1.</p>
</dd></dl>

<dl class="py method">
<dt id="ms3.score.MSCX.style">
<em class="property">property </em><code class="sig-name descname">style</code><a class="headerlink" href="#ms3.score.MSCX.style" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">Style</span></code>
Can be used like a dictionary to change the information within the score’s &lt;Style&gt; tag.</p>
</dd></dl>

<dl class="py method">
<dt id="ms3.score.MSCX.version">
<em class="property">property </em><code class="sig-name descname">version</code><a class="headerlink" href="#ms3.score.MSCX.version" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>
MuseScore version that the file was created with.</p>
</dd></dl>

<dl class="py method">
<dt id="ms3.score.MSCX.volta_structure">
<em class="property">property </em><code class="sig-name descname">volta_structure</code><a class="headerlink" href="#ms3.score.MSCX.volta_structure" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#dict" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>
{first_mc -&gt; {volta_number -&gt; [mc1, mc2…]} } dictionary.</p>
</dd></dl>

<dl class="py method">
<dt id="ms3.score.MSCX.add_labels">
<code class="sig-name descname">add_labels</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">annotations_object</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/score.html#MSCX.add_labels"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.score.MSCX.add_labels" title="Permalink to this definition">¶</a></dt>
<dd><p>Receives the labels from an <a class="reference internal" href="#ms3.annotations.Annotations" title="ms3.annotations.Annotations"><code class="xref py py-class docutils literal notranslate"><span class="pre">Annotations</span></code></a> object and adds them to the XML structure
representing the MuseScore file that might be written to a file afterwards.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>annotations_object</strong> (<a class="reference internal" href="#ms3.annotations.Annotations" title="ms3.annotations.Annotations"><code class="xref py py-class docutils literal notranslate"><span class="pre">Annotations</span></code></a>) – Object of labels to be added.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Number of actually added labels.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ms3.score.MSCX.change_label_color">
<code class="sig-name descname">change_label_color</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mc</span></em>, <em class="sig-param"><span class="n">mc_onset</span></em>, <em class="sig-param"><span class="n">staff</span></em>, <em class="sig-param"><span class="n">voice</span></em>, <em class="sig-param"><span class="n">label</span></em>, <em class="sig-param"><span class="n">color_name</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">color_html</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">color_r</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">color_g</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">color_b</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">color_a</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/score.html#MSCX.change_label_color"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.score.MSCX.change_label_color" title="Permalink to this definition">¶</a></dt>
<dd><p>Shortcut for :py:meth:<code class="docutils literal notranslate"><span class="pre">MSCX.parsed.change_label_color</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mc</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>) – Measure count of the label</p></li>
<li><p><strong>mc_onset</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/fractions.html#fractions.Fraction" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">fractions.Fraction</span></code></a>) – Onset position to which the label is attached.</p></li>
<li><p><strong>staff</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>) – Staff to which the label is attached.</p></li>
<li><p><strong>voice</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>) – Notational layer to which the label is attached.</p></li>
<li><p><strong>label</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – (Decoded) label.</p></li>
<li><p><strong>color_name</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – Two ways of specifying the color.</p></li>
<li><p><strong>color_html</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – Two ways of specifying the color.</p></li>
<li><p><strong>color_r</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a> or <a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – To specify a RGB color instead, pass at least, the first three. <code class="docutils literal notranslate"><span class="pre">color_a</span></code> (alpha = opacity) defaults
to 255.</p></li>
<li><p><strong>color_g</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a> or <a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – To specify a RGB color instead, pass at least, the first three. <code class="docutils literal notranslate"><span class="pre">color_a</span></code> (alpha = opacity) defaults
to 255.</p></li>
<li><p><strong>color_b</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a> or <a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – To specify a RGB color instead, pass at least, the first three. <code class="docutils literal notranslate"><span class="pre">color_a</span></code> (alpha = opacity) defaults
to 255.</p></li>
<li><p><strong>color_a</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a> or <a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – To specify a RGB color instead, pass at least, the first three. <code class="docutils literal notranslate"><span class="pre">color_a</span></code> (alpha = opacity) defaults
to 255.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ms3.score.MSCX.change_labels_cfg">
<code class="sig-name descname">change_labels_cfg</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">labels_cfg</span><span class="o">=</span><span class="default_value">{}</span></em>, <em class="sig-param"><span class="n">staff</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">voice</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">label_type</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">positioning</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">decode</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">column_name</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">color_format</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/score.html#MSCX.change_labels_cfg"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.score.MSCX.change_labels_cfg" title="Permalink to this definition">¶</a></dt>
<dd><p>Update <a class="reference internal" href="#ms3.score.MSCX.labels_cfg" title="ms3.score.MSCX.labels_cfg"><code class="xref py py-attr docutils literal notranslate"><span class="pre">MSCX.labels_cfg</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>labels_cfg</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#dict" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>) – Using an entire dictionary or, to change only particular options, choose from:</p></li>
<li><p><strong>staff</strong> – Arguments as they will be passed to <a class="reference internal" href="#ms3.annotations.Annotations.get_labels" title="ms3.annotations.Annotations.get_labels"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_labels()</span></code></a></p></li>
<li><p><strong>voice</strong> – Arguments as they will be passed to <a class="reference internal" href="#ms3.annotations.Annotations.get_labels" title="ms3.annotations.Annotations.get_labels"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_labels()</span></code></a></p></li>
<li><p><strong>label_type</strong> – Arguments as they will be passed to <a class="reference internal" href="#ms3.annotations.Annotations.get_labels" title="ms3.annotations.Annotations.get_labels"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_labels()</span></code></a></p></li>
<li><p><strong>positioning</strong> – Arguments as they will be passed to <a class="reference internal" href="#ms3.annotations.Annotations.get_labels" title="ms3.annotations.Annotations.get_labels"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_labels()</span></code></a></p></li>
<li><p><strong>decode</strong> – Arguments as they will be passed to <a class="reference internal" href="#ms3.annotations.Annotations.get_labels" title="ms3.annotations.Annotations.get_labels"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_labels()</span></code></a></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ms3.score.MSCX.delete_labels">
<code class="sig-name descname">delete_labels</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/score.html#MSCX.delete_labels"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.score.MSCX.delete_labels" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete a set of labels from the current XML.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.3.3)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – A DataFrame with the columns [‘mc’, ‘mc_onset’, ‘staff’, ‘voice’]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ms3.score.MSCX.replace_labels">
<code class="sig-name descname">replace_labels</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">annotations_object</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/score.html#MSCX.replace_labels"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.score.MSCX.replace_labels" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>annotations_object</strong> (<a class="reference internal" href="#ms3.annotations.Annotations" title="ms3.annotations.Annotations"><code class="xref py py-class docutils literal notranslate"><span class="pre">Annotations</span></code></a>) – Object of labels to be added.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ms3.score.MSCX.delete_empty_labels">
<code class="sig-name descname">delete_empty_labels</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/score.html#MSCX.delete_empty_labels"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.score.MSCX.delete_empty_labels" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove all empty labels from the attached annotations.</p>
</dd></dl>

<dl class="py method">
<dt id="ms3.score.MSCX.get_chords">
<code class="sig-name descname">get_chords</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">staff</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">voice</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">mode</span><span class="o">=</span><span class="default_value">'auto'</span></em>, <em class="sig-param"><span class="n">lyrics</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">staff_text</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">dynamics</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">articulation</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">spanners</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/score.html#MSCX.get_chords"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.score.MSCX.get_chords" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve a customized chord list, e.g. one including less of the processed features or additional,
unprocessed ones compared to the standard chord list.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>staff</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>) – Get information from a particular staff only (1 = upper staff)</p></li>
<li><p><strong>voice</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>) – Get information from a particular voice only (1 = only the first layer of every staff)</p></li>
<li><p><strong>mode</strong> (<em>{'auto'</em><em>, </em><em>'all'</em><em>, </em><em>'strict'}</em><em>, </em><em>optional</em>) – <ul>
<li><p>‘auto’ (default), meaning that those aspects are automatically included that occur in the score; the resulting
DataFrame has no empty columns except for those parameters that are set to True.</p></li>
<li><p>’all’: Columns for all aspects are created, even if they don’t occur in the score (e.g. lyrics).</p></li>
<li><p>’strict’: Create columns for exactly those parameters that are set to True, regardless which aspects occur in the score.</p></li>
</ul>
</p></li>
<li><p><strong>lyrics</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Include lyrics.</p></li>
<li><p><strong>staff_text</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Include staff text such as tempo markings.</p></li>
<li><p><strong>dynamics</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Include dynamic markings such as f or p.</p></li>
<li><p><strong>articulation</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Include articulation such as arpeggios.</p></li>
<li><p><strong>spanners</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Include spanners such as slurs, 8va lines, pedal lines etc.</p></li>
<li><p><strong>**kwargs</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Set a particular keyword to True in order to include all columns from the _events DataFrame
whose names include that keyword. Column names include the tag names from the MSCX source code.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>DataFrame representing all &lt;Chord&gt; tags in the score with the selected features.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.3.3)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ms3.score.MSCX.get_raw_labels">
<code class="sig-name descname">get_raw_labels</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/score.html#MSCX.get_raw_labels"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.score.MSCX.get_raw_labels" title="Permalink to this definition">¶</a></dt>
<dd><p>Shortcut for <code class="docutils literal notranslate"><span class="pre">MSCX.parsed.get_raw_labels()</span></code>.
Retrieve a “raw” list of labels, meaning that label types reflect only those defined within &lt;Harmony&gt; tags
which can be 1 (MuseScore’s Roman Numeral display), 2 (Nashville) or undefined (in the case of ‘normal’
chord labels, defaulting to 0).</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>DataFrame with raw label features (i.e. as encoded in XML)</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.3.3)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ms3.score.MSCX.infer_mc">
<code class="sig-name descname">infer_mc</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mn</span></em>, <em class="sig-param"><span class="n">mn_onset</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">volta</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/score.html#MSCX.infer_mc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.score.MSCX.infer_mc" title="Permalink to this definition">¶</a></dt>
<dd><p>Shortcut for <code class="docutils literal notranslate"><span class="pre">MSCX.parsed.infer_mc()</span></code>.
Tries to convert a <code class="docutils literal notranslate"><span class="pre">(mn,</span> <span class="pre">mn_onset)</span></code> into a <code class="docutils literal notranslate"><span class="pre">(mc,</span> <span class="pre">mc_onset)</span></code> tuple on the basis of this MuseScore file.
In other words, a human readable score position such as “measure number 32b (i.e., a second ending), beat
3” needs to be converted to <code class="docutils literal notranslate"><span class="pre">(32,</span> <span class="pre">1/2,</span> <span class="pre">2)</span></code> if “beat” has length 1/4, or–if the meter is, say 9/8 and “beat”
has a length of 3/8– to <code class="docutils literal notranslate"><span class="pre">(32,</span> <span class="pre">6/8,</span> <span class="pre">2)</span></code>. The resulting <code class="docutils literal notranslate"><span class="pre">(mc,</span> <span class="pre">mc_onset)</span></code> tuples are required for attaching
a label to a score. This is only necessary for labels that were not originally extracted by ms3.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mn</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a> or <a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – Measure number as in a reference print edition.</p></li>
<li><p><strong>mn_onset</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/fractions.html#fractions.Fraction" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">fractions.Fraction</span></code></a>, optional) – Distance of the requested position from beat 1 of the complete measure (MN), expressed as
fraction of a whole note. Defaults to 0, i.e. the position of beat 1.</p></li>
<li><p><strong>volta</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>, optional) – In the case of first and second endings, which bear the same measure number, a MN might have to be
disambiguated by passing 1 for first ending, 2 for second, and so on. Alternatively, the MN
can be disambiguated traditionally by passing it as string with a letter attached. In other words,
<code class="docutils literal notranslate"><span class="pre">infer_mc(mn=32,</span> <span class="pre">volta=1)</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">infer_mc(mn='32a')</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a> – Measure count (MC), denoting particular &lt;Measure&gt; tags in the score.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/3.8/library/fractions.html#fractions.Fraction" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">fractions.Fraction</span></code></a></p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ms3.score.MSCX.store_mscx">
<code class="sig-name descname">store_mscx</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filepath</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/score.html#MSCX.store_mscx"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.score.MSCX.store_mscx" title="Permalink to this definition">¶</a></dt>
<dd><p>Shortcut for <code class="docutils literal notranslate"><span class="pre">MSCX.parsed.store_mscx()</span></code>.
Store the current XML structure as uncompressed MuseScore file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>filepath</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – Path of the newly created MuseScore file, including the file name ending on ‘.mscx’.
Uncompressed files (‘.mscz’) are not supported.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Whether the file was successfully created.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ms3.score.MSCX.store_list">
<code class="sig-name descname">store_list</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">what</span><span class="o">=</span><span class="default_value">'all'</span></em>, <em class="sig-param"><span class="n">folder</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">suffix</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/score.html#MSCX.store_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.score.MSCX.store_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Store one or several several lists as TSV files(s).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>what</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a> or <code class="xref py py-obj docutils literal notranslate"><span class="pre">Collection</span></code>, optional) – Defaults to ‘all’ but could instead be one or several strings out of {‘notes’, ‘rests’, ‘notes_and_rests’, ‘measures’, ‘events’, ‘labels’, ‘chords’, ‘expanded’}</p></li>
<li><p><strong>folder</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – Where to store. Defaults to the directory of the parsed MSCX file.</p></li>
<li><p><strong>suffix</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a> or <code class="xref py py-obj docutils literal notranslate"><span class="pre">Collection</span></code>, optional) – Suffix appended to the file name of the parsed MSCX file to create a new file name.
Defaults to None, meaning that standard suffixes based on <code class="docutils literal notranslate"><span class="pre">what</span></code> are attached.
Number of suffixes needs to be equal to the number of <code class="docutils literal notranslate"><span class="pre">what</span></code>.</p></li>
<li><p><strong>**kwargs</strong> – Keyword arguments for <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.to_csv.html#pandas.DataFrame.to_csv" title="(in pandas v1.3.3)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pandas.DataFrame.to_csv()</span></code></a>. Defaults to <code class="docutils literal notranslate"><span class="pre">{'sep':</span> <span class="pre">'\t',</span> <span class="pre">'index':</span> <span class="pre">False}</span></code>.
If ‘sep’ is changed to a different separator, the file extension(s) will be changed to ‘.csv’ rather than ‘.tsv’.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.8/library/constants.html#None" title="(in Python v3.8)">None</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="module-ms3.annotations">
<span id="the-annotations-class"></span><h2>The Annotations class<a class="headerlink" href="#module-ms3.annotations" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="ms3.annotations.Annotations">
<em class="property">class </em><code class="sig-prename descclassname">ms3.annotations.</code><code class="sig-name descname">Annotations</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tsv_path</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">df</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">cols</span><span class="o">=</span><span class="default_value">{}</span></em>, <em class="sig-param"><span class="n">index_col</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">sep</span><span class="o">=</span><span class="default_value">'\t'</span></em>, <em class="sig-param"><span class="n">mscx_obj</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">infer_types</span><span class="o">=</span><span class="default_value">{}</span></em>, <em class="sig-param"><span class="n">read_only</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">logger_cfg</span><span class="o">=</span><span class="default_value">{}</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/annotations.html#Annotations"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.annotations.Annotations" title="Permalink to this definition">¶</a></dt>
<dd><p>Class for storing, converting and manipulating annotation labels.</p>
<dl class="py method">
<dt id="ms3.annotations.Annotations.label_types">
<em class="property">property </em><code class="sig-name descname">label_types</code><a class="headerlink" href="#ms3.annotations.Annotations.label_types" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the counts of the label_types as dict.</p>
</dd></dl>

<dl class="py method">
<dt id="ms3.annotations.Annotations.get_labels">
<code class="sig-name descname">get_labels</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">staff</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">voice</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">label_type</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">positioning</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">decode</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">drop</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">warnings</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">column_name</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">color_format</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/annotations.html#Annotations.get_labels"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.annotations.Annotations.get_labels" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a DataFrame of annotation labels.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>staff</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>, optional) – Select harmonies from a given staff only. Pass <cite>staff=1</cite> for the upper staff.</p></li>
<li><p><strong>label_type</strong> (<em>{0</em><em>, </em><em>1</em><em>, </em><em>2</em><em>, </em><em>3</em><em>, </em><em>'dcml'</em><em>, </em><em>..}</em><em>, </em><em>optional</em>) – <dl class="simple">
<dt>If MuseScore’s harmony feature has been used, you can filter harmony types by passing</dt><dd><p>0 for unrecognized strings
1 for Roman Numeral Analysis
2 for Nashville Numbers
3 for encoded absolute chords
‘dcml’ for labels from the DCML harmonic annotation standard
… self-defined types that have been added to self.regex_dict through the use of self.infer_types()</p>
</dd>
</dl>
</p></li>
<li><p><strong>positioning</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Set to True if you want to include information about how labels have been manually positioned.</p></li>
<li><p><strong>decode</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Set to True if you don’t want to keep labels in their original form as encoded by MuseScore (with root and
bass as TPC (tonal pitch class) where C = 14).</p></li>
<li><p><strong>drop</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Set to True to delete the returned labels from this object.</p></li>
<li><p><strong>warnings</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Set to False to suppress warnings about non-existent label_types.</p></li>
<li><p><strong>column_name</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – Can be used to rename the columns holding the labels.</p></li>
<li><p><strong>color_format</strong> (<em>{'html'</em><em>, </em><em>'rgb'</em><em>, </em><em>'rgba'</em><em>, </em><em>'name'</em><em>, </em><em>None}</em>) – If label colors are encoded, determine how they are displayed.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ms3.annotations.Annotations.expand_dcml">
<code class="sig-name descname">expand_dcml</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">drop_others</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">warn_about_others</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">drop_empty_cols</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/annotations.html#Annotations.expand_dcml"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.annotations.Annotations.expand_dcml" title="Permalink to this definition">¶</a></dt>
<dd><p>Expands all labels where the label_type has been inferred as ‘dcml’ and stores the DataFrame in self._expanded.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>drop_others</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Set to False if you want to keep labels in the expanded DataFrame which have not label_type ‘dcml’.</p></li>
<li><p><strong>warn_about_others</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Set to False to suppress warnings about labels that have not label_type ‘dcml’.
Is automatically set to False if <code class="docutils literal notranslate"><span class="pre">drop_others</span></code> is set to False.</p></li>
<li><p><strong>drop_empty_cols</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Return without unused columns</p></li>
<li><p><strong>kwargs</strong> – Additional arguments are passed to <a class="reference internal" href="#ms3.annotations.Annotations.get_labels" title="ms3.annotations.Annotations.get_labels"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_labels()</span></code></a> to define the original representation.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Expanded DCML labels</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.3.3)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-ms3.parse">
<span id="the-parse-class"></span><h2>The Parse class<a class="headerlink" href="#module-ms3.parse" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="ms3.parse.Parse">
<em class="property">class </em><code class="sig-prename descclassname">ms3.parse.</code><code class="sig-name descname">Parse</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">directory</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">paths</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">key</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">index</span><span class="o">=</span><span class="default_value">['rel_paths', 'fnames']</span></em>, <em class="sig-param"><span class="n">file_re</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">folder_re</span><span class="o">=</span><span class="default_value">'.*'</span></em>, <em class="sig-param"><span class="n">exclude_re</span><span class="o">=</span><span class="default_value">'^(\\.|_)'</span></em>, <em class="sig-param"><span class="n">recursive</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">simulate</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">labels_cfg</span><span class="o">=</span><span class="default_value">{}</span></em>, <em class="sig-param"><span class="n">logger_cfg</span><span class="o">=</span><span class="default_value">{}</span></em>, <em class="sig-param"><span class="n">ms</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/parse.html#Parse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.parse.Parse" title="Permalink to this definition">¶</a></dt>
<dd><p>Class for storing and manipulating the information from multiple parses (i.e. <a class="reference internal" href="#ms3.score.Score" title="ms3.score.Score"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Score</span></code></a> objects).</p>
<dl class="py attribute">
<dt id="ms3.parse.Parse.full_paths">
<code class="sig-name descname">full_paths</code><a class="headerlink" href="#ms3.parse.Parse.full_paths" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3.8/library/collections.html#collections.defaultdict" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">collections.defaultdict</span></code></a>
<code class="docutils literal notranslate"><span class="pre">{key:</span> <span class="pre">[full_path]}</span></code> dictionary of the full paths of all detected files.</p>
</dd></dl>

<dl class="py attribute">
<dt id="ms3.parse.Parse.rel_paths">
<code class="sig-name descname">rel_paths</code><a class="headerlink" href="#ms3.parse.Parse.rel_paths" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3.8/library/collections.html#collections.defaultdict" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">collections.defaultdict</span></code></a>
<code class="docutils literal notranslate"><span class="pre">{key:</span> <span class="pre">[rel_path]}</span></code> dictionary of the relative (to <a class="reference internal" href="#ms3.parse.Parse.scan_paths" title="ms3.parse.Parse.scan_paths"><code class="xref py py-obj docutils literal notranslate"><span class="pre">scan_paths</span></code></a>) paths of all detected files.</p>
</dd></dl>

<dl class="py attribute">
<dt id="ms3.parse.Parse.scan_paths">
<code class="sig-name descname">scan_paths</code><a class="headerlink" href="#ms3.parse.Parse.scan_paths" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3.8/library/collections.html#collections.defaultdict" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">collections.defaultdict</span></code></a>
<code class="docutils literal notranslate"><span class="pre">{key:</span> <span class="pre">[scan_path]}</span></code> dictionary of the scan_paths from which each file was detected.</p>
</dd></dl>

<dl class="py attribute">
<dt id="ms3.parse.Parse.paths">
<code class="sig-name descname">paths</code><a class="headerlink" href="#ms3.parse.Parse.paths" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3.8/library/collections.html#collections.defaultdict" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">collections.defaultdict</span></code></a>
<code class="docutils literal notranslate"><span class="pre">{key:</span> <span class="pre">[path]}</span></code> dictionary of the paths of all detected files (without file name).</p>
</dd></dl>

<dl class="py attribute">
<dt id="ms3.parse.Parse.files">
<code class="sig-name descname">files</code><a class="headerlink" href="#ms3.parse.Parse.files" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3.8/library/collections.html#collections.defaultdict" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">collections.defaultdict</span></code></a>
<code class="docutils literal notranslate"><span class="pre">{key:</span> <span class="pre">[file]}</span></code> dictionary of file names with extensions of all detected files.</p>
</dd></dl>

<dl class="py attribute">
<dt id="ms3.parse.Parse.fnames">
<code class="sig-name descname">fnames</code><a class="headerlink" href="#ms3.parse.Parse.fnames" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3.8/library/collections.html#collections.defaultdict" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">collections.defaultdict</span></code></a>
<code class="docutils literal notranslate"><span class="pre">{key:</span> <span class="pre">[fname]}</span></code> dictionary of file names without extensions of all detected files.</p>
</dd></dl>

<dl class="py attribute">
<dt id="ms3.parse.Parse.fexts">
<code class="sig-name descname">fexts</code><a class="headerlink" href="#ms3.parse.Parse.fexts" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3.8/library/collections.html#collections.defaultdict" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">collections.defaultdict</span></code></a>
<code class="docutils literal notranslate"><span class="pre">{key:</span> <span class="pre">[fext]}</span></code> dictionary of file extensions of all detected files.</p>
</dd></dl>

<dl class="py attribute">
<dt id="ms3.parse.Parse.logger_names">
<code class="sig-name descname">logger_names</code><a class="headerlink" href="#ms3.parse.Parse.logger_names" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#dict" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>
<code class="docutils literal notranslate"><span class="pre">{(key,</span> <span class="pre">i):</span> <span class="pre">:obj:`str`}</span></code> dictionary of logger names.</p>
</dd></dl>

<dl class="py attribute">
<dt id="ms3.parse.Parse.labels_cfg">
<code class="sig-name descname">labels_cfg</code><a class="headerlink" href="#ms3.parse.Parse.labels_cfg" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#dict" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>
Configuration dictionary to determine the output format of <code class="xref py py-obj docutils literal notranslate"><span class="pre">labels</span></code> and
<code class="xref py py-obj docutils literal notranslate"><span class="pre">expanded</span></code> tables. The dictonary is passed to <a class="reference internal" href="#ms3.score.Score" title="ms3.score.Score"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Score</span></code></a> upon parsing.</p>
</dd></dl>

<dl class="py attribute">
<dt id="ms3.parse.Parse.last_scanned_dir">
<code class="sig-name descname">last_scanned_dir</code><a class="headerlink" href="#ms3.parse.Parse.last_scanned_dir" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>
The directory that was scanned for files last.</p>
</dd></dl>

<dl class="py method">
<dt id="ms3.parse.Parse.parsed_mscx">
<em class="property">property </em><code class="sig-name descname">parsed_mscx</code><a class="headerlink" href="#ms3.parse.Parse.parsed_mscx" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.3.3)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>
Returns an overview of the parsed scores.</p>
</dd></dl>

<dl class="py method">
<dt id="ms3.parse.Parse.parsed_tsv">
<em class="property">property </em><code class="sig-name descname">parsed_tsv</code><a class="headerlink" href="#ms3.parse.Parse.parsed_tsv" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.3.3)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>
Returns an overview of the parsed TSV files.</p>
</dd></dl>

<dl class="py method">
<dt id="ms3.parse.Parse.add_detached_annotations">
<code class="sig-name descname">add_detached_annotations</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">score_key</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">tsv_key</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">new_key</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">match_dict</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/parse.html#Parse.add_detached_annotations"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.parse.Parse.add_detached_annotations" title="Permalink to this definition">¶</a></dt>
<dd><p>Add <a class="reference internal" href="#ms3.annotations.Annotations" title="ms3.annotations.Annotations"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Annotations</span></code></a> objects generated from TSV files to the <a class="reference internal" href="#ms3.score.Score" title="ms3.score.Score"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Score</span></code></a>
objects to which they are being matched based on their filenames or on <code class="docutils literal notranslate"><span class="pre">match_dict</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>score_key</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – A key under which parsed MuseScore files are stored.
If one of <code class="docutils literal notranslate"><span class="pre">score_key</span></code> and <code class="docutils literal notranslate"><span class="pre">tsv_key</span></code> is None, no matching is performed and already matched files are used.</p></li>
<li><p><strong>tsv_key</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – A key under which parsed TSV files are stored of which the type has been inferred as ‘labels’.
If one of <code class="docutils literal notranslate"><span class="pre">score_key</span></code> and <code class="docutils literal notranslate"><span class="pre">tsv_key</span></code> is None, no matching is performed and already matched files are used.</p></li>
<li><p><strong>new_key</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – The key under which the <a class="reference internal" href="#ms3.annotations.Annotations" title="ms3.annotations.Annotations"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Annotations</span></code></a> objects will be available after attaching
them to the <a class="reference internal" href="#ms3.score.Score" title="ms3.score.Score"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Score</span></code></a> objects (<code class="docutils literal notranslate"><span class="pre">Parsed.parsed_mscx[ID].key</span></code>). By default, <code class="docutils literal notranslate"><span class="pre">tsv_key</span></code>
is used.</p></li>
<li><p><strong>match_dict</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#dict" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>, optional) – Dictionary mapping IDs of parsed <a class="reference internal" href="#ms3.score.Score" title="ms3.score.Score"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Score</span></code></a> objects to IDs of parsed <a class="reference internal" href="#ms3.annotations.Annotations" title="ms3.annotations.Annotations"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Annotations</span></code></a>
objects.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ms3.parse.Parse.add_dir">
<code class="sig-name descname">add_dir</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">directory</span></em>, <em class="sig-param"><span class="n">key</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">index</span><span class="o">=</span><span class="default_value">['rel_paths', 'fnames']</span></em>, <em class="sig-param"><span class="n">file_re</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">folder_re</span><span class="o">=</span><span class="default_value">'.*'</span></em>, <em class="sig-param"><span class="n">exclude_re</span><span class="o">=</span><span class="default_value">'^(\\.|__)'</span></em>, <em class="sig-param"><span class="n">recursive</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/parse.html#Parse.add_dir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.parse.Parse.add_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>This method scans the directory <code class="docutils literal notranslate"><span class="pre">dir</span></code> for files matching the criteria and adds them (i.e. paths and file names)
to the Parse object without looking at them. It is recommended to add different types of files with different keys,
e.g. ‘mscx’ for score, ‘harmonies’ for chord labels, and ‘form’ for form labels.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>directory</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – Directory to scan for files.</p></li>
<li><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – <div class="line-block">
<div class="line">Pass a string to identify the loaded files.</div>
<div class="line">By default, the relative sub-directories of <code class="docutils literal notranslate"><span class="pre">dir</span></code> are used as keys. For example, for files within <code class="docutils literal notranslate"><span class="pre">dir</span></code>
itself, the key would be <code class="docutils literal notranslate"><span class="pre">'.'</span></code>, for files in the subfolder <code class="docutils literal notranslate"><span class="pre">scores</span></code> it would be <code class="docutils literal notranslate"><span class="pre">'scores'</span></code>, etc.</div>
</div>
</p></li>
<li><p><strong>index</strong> (element or <a class="reference external" href="https://docs.python.org/3.8/library/collections.abc.html#collections.abc.Collection" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Collection</span></code></a> of {‘key’, ‘i’, <a class="reference external" href="https://docs.python.org/3.8/library/collections.abc.html#collections.abc.Collection" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Collection</span></code></a>, ‘full_paths’, ‘rel_paths’, ‘scan_paths’, ‘paths’, ‘files’, ‘fnames’, ‘fexts’}) – <div class="line-block">
<div class="line">Change this parameter if you want to create particular indices for output DataFrames.</div>
<div class="line">The resulting index must be unique (for identification) and have as many elements as added files.</div>
<div class="line">Every single element or Collection of elements ∈
{‘key’, ‘i’, <a class="reference external" href="https://docs.python.org/3.8/library/collections.abc.html#collections.abc.Collection" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Collection</span></code></a>, ‘full_paths’, ‘rel_paths’, ‘scan_paths’, ‘paths’, ‘files’, ‘fnames’, ‘fexts’}
stands for an index level in the <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.MultiIndex.html#pandas.MultiIndex" title="(in pandas v1.3.3)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MultiIndex</span></code></a>.</div>
<div class="line">If you pass a Collection that does not start with one of the defined keywords, it is interpreted as an
index level itself and needs to have at least as many elements as the number of added files.</div>
<div class="line">The default <code class="docutils literal notranslate"><span class="pre">None</span></code> is equivalent to passing <code class="docutils literal notranslate"><span class="pre">(key,</span> <span class="pre">i)</span></code>, i.e. a MultiIndex of IDs which is always unique.</div>
<div class="line">The keywords correspond to the dictionaries of Parse object that contain the constituents of the file paths.</div>
</div>
</p></li>
<li><p><strong>directory</strong> – Directory to be scanned for files.</p></li>
<li><p><strong>file_re</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – Regular expression for filtering certain file names. By default, all parseable score files and TSV files are detected.
The regEx is checked with search(), not match(), allowing for fuzzy search.</p></li>
<li><p><strong>folder_re</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – Regular expression for filtering certain folder names.
The regEx is checked with search(), not match(), allowing for fuzzy search.</p></li>
<li><p><strong>recursive</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – By default, sub-directories are recursively scanned. Pass False to scan only <code class="docutils literal notranslate"><span class="pre">dir</span></code>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ms3.parse.Parse.add_files">
<code class="sig-name descname">add_files</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">paths</span></em>, <em class="sig-param"><span class="n">key</span></em>, <em class="sig-param"><span class="n">index</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">exclude_re</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/parse.html#Parse.add_files"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.parse.Parse.add_files" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>paths</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/collections.abc.html#collections.abc.Collection" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Collection</span></code></a>) – The paths of the files you want to add to the object.</p></li>
<li><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – <div class="line-block">
<div class="line">Pass a string to identify the loaded files.</div>
<div class="line">If None is passed, paths relative to <a class="reference internal" href="#ms3.parse.Parse.last_scanned_dir" title="ms3.parse.Parse.last_scanned_dir"><code class="xref py py-attr docutils literal notranslate"><span class="pre">last_scanned_dir</span></code></a> are used as keys. If <a class="reference internal" href="#ms3.parse.Parse.add_dir" title="ms3.parse.Parse.add_dir"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_dir()</span></code></a>
hasn’t been used before, the longest common prefix of all paths is used.</div>
</div>
</p></li>
<li><p><strong>index</strong> (element or <a class="reference external" href="https://docs.python.org/3.8/library/collections.abc.html#collections.abc.Collection" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Collection</span></code></a> of {‘key’, ‘i’, <a class="reference external" href="https://docs.python.org/3.8/library/collections.abc.html#collections.abc.Collection" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Collection</span></code></a>, ‘full_paths’, ‘rel_paths’, ‘scan_paths’, ‘paths’, ‘files’, ‘fnames’, ‘fexts’}) – <div class="line-block">
<div class="line">Change this parameter if you want to create particular indices for output DataFrames.</div>
<div class="line">The resulting index must be unique (for identification) and have as many elements as added files.</div>
<div class="line">Every single element or Collection of elements ∈
{‘key’, ‘i’, <a class="reference external" href="https://docs.python.org/3.8/library/collections.abc.html#collections.abc.Collection" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Collection</span></code></a>, ‘full_paths’, ‘rel_paths’, ‘scan_paths’, ‘paths’, ‘files’, ‘fnames’, ‘fexts’}
stands for an index level in the <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.MultiIndex.html#pandas.MultiIndex" title="(in pandas v1.3.3)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MultiIndex</span></code></a>.</div>
<div class="line">If you pass a Collection that does not start with one of the defined keywords, it is interpreted as an
index level itself and needs to have at least as many elements as the number of added files.</div>
<div class="line">The default <code class="docutils literal notranslate"><span class="pre">None</span></code> is equivalent to passing <code class="docutils literal notranslate"><span class="pre">(key,</span> <span class="pre">i)</span></code>, i.e. a MultiIndex of IDs which is always unique.</div>
<div class="line">The keywords correspond to the dictionaries of Parse object that contain the constituents of the file paths.</div>
</div>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The IDs of the added files.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#list" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ms3.parse.Parse.add_rel_dir">
<code class="sig-name descname">add_rel_dir</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">rel_dir</span></em>, <em class="sig-param"><span class="n">suffix</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">score_extensions</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">keys</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">new_key</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">index</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/parse.html#Parse.add_rel_dir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.parse.Parse.add_rel_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>This method can be used for adding particular TSV files belonging to already loaded score files. This is useful,
for example, to add annotation tables for comparison.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rel_dir</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – Path where the files to be added can be found, relative to each loaded MSCX file. They are expected to have
the same file name, maybe with an added <code class="docutils literal notranslate"><span class="pre">suffix</span></code>.</p></li>
<li><p><strong>suffix</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>. optional) – If the files to be loaded can be identified by adding a suffix to the filename, pass this suffix, e.g. ‘_labels’.</p></li>
<li><p><strong>score_extensions</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/collections.abc.html#collections.abc.Collection" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Collection</span></code></a>, optional) – If you want to match only scores with particular extensions, pass a Collection of these extensions.</p></li>
<li><p><strong>keys</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a> or <a class="reference external" href="https://docs.python.org/3.8/library/collections.abc.html#collections.abc.Collection" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Collection</span></code></a>, optional) – Key(s) under which score files are stored. By default, all keys are selected.</p></li>
<li><p><strong>new_key</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – Pass a string to identify the loaded files. By default, the keys of the score files are being used.</p></li>
<li><p><strong>index</strong> (element or <a class="reference external" href="https://docs.python.org/3.8/library/collections.abc.html#collections.abc.Collection" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Collection</span></code></a> of {‘key’, ‘i’, <a class="reference external" href="https://docs.python.org/3.8/library/collections.abc.html#collections.abc.Collection" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Collection</span></code></a>, ‘full_paths’, ‘rel_paths’, ‘scan_paths’, ‘paths’, ‘files’, ‘fnames’, ‘fexts’}) – <div class="line-block">
<div class="line">Change this parameter if you want to create particular indices for output DataFrames.</div>
<div class="line">The resulting index must be unique (for identification) and have as many elements as added files.</div>
<div class="line">Every single element or Collection of elements ∈
{‘key’, ‘i’, <a class="reference external" href="https://docs.python.org/3.8/library/collections.abc.html#collections.abc.Collection" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Collection</span></code></a>, ‘full_paths’, ‘rel_paths’, ‘scan_paths’, ‘paths’, ‘files’, ‘fnames’, ‘fexts’}
stands for an index level in the <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.MultiIndex.html#pandas.MultiIndex" title="(in pandas v1.3.3)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MultiIndex</span></code></a>.</div>
<div class="line">If you pass a Collection that does not start with one of the defined keywords, it is interpreted as an
index level itself and needs to have at least as many elements as the number of added files.</div>
<div class="line">The default <code class="docutils literal notranslate"><span class="pre">None</span></code> is equivalent to passing <code class="docutils literal notranslate"><span class="pre">(key,</span> <span class="pre">i)</span></code>, i.e. a MultiIndex of IDs which is always unique.</div>
<div class="line">The keywords correspond to the dictionaries of Parse object that contain the constituents of the file paths.</div>
</div>
</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ms3.parse.Parse.attach_labels">
<code class="sig-name descname">attach_labels</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">keys</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">annotation_key</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">staff</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">voice</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">label_type</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">check_for_clashes</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/parse.html#Parse.attach_labels"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.parse.Parse.attach_labels" title="Permalink to this definition">¶</a></dt>
<dd><p>Attach all <a class="reference internal" href="#ms3.annotations.Annotations" title="ms3.annotations.Annotations"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Annotations</span></code></a> objects that are reachable via <code class="docutils literal notranslate"><span class="pre">Score.annotation_key</span></code> to their
respective <a class="reference internal" href="#ms3.score.Score" title="ms3.score.Score"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Score</span></code></a>, changing their current XML. Calling <a class="reference internal" href="#ms3.parse.Parse.store_mscx" title="ms3.parse.Parse.store_mscx"><code class="xref py py-meth docutils literal notranslate"><span class="pre">store_mscx()</span></code></a> will output
MuseScore files where the annotations show in the score.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>keys</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a> or <a class="reference external" href="https://docs.python.org/3.8/library/collections.abc.html#collections.abc.Collection" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Collection</span></code></a>, optional) – Key(s) under which parsed MuseScore files are stored. By default, all keys are selected.</p></li>
<li><p><strong>annotation_key</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a> or <a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#list" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a> or <a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#tuple" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tuple</span></code></a>, optional) – Key(s) under which the <a class="reference internal" href="#ms3.annotations.Annotations" title="ms3.annotations.Annotations"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Annotations</span></code></a> objects to be attached are stored in the
<a class="reference internal" href="#ms3.score.Score" title="ms3.score.Score"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Score</span></code></a> objects. By default, all keys are selected.</p></li>
<li><p><strong>staff</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>, optional) – If you pass a staff ID, the labels will be attached to that staff where 1 is the upper stuff.
By default, the staves indicated in the ‘staff’ column of <code class="xref py py-obj docutils literal notranslate"><span class="pre">ms3.annotations.Annotations.df</span></code>
will be used.</p></li>
<li><p><strong>voice</strong> (<em>{1</em><em>, </em><em>2</em><em>, </em><em>3</em><em>, </em><em>4}</em><em>, </em><em>optional</em>) – If you pass the ID of a notational layer (where 1 is the upper voice, blue in MuseScore),
the labels will be attached to that one.
By default, the notational layers indicated in the ‘voice’ column of
<code class="xref py py-obj docutils literal notranslate"><span class="pre">ms3.annotations.Annotations.df</span></code> will be used.</p></li>
<li><p><strong>check_for_clashes</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – By default, warnings are thrown when there already exists a label at a position (and in a notational
layer) where a new one is attached. Pass False to deactivate these warnings.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ms3.parse.Parse.change_labels_cfg">
<code class="sig-name descname">change_labels_cfg</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">labels_cfg</span><span class="o">=</span><span class="default_value">{}</span></em>, <em class="sig-param"><span class="n">staff</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">voice</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">label_type</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">positioning</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">decode</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">column_name</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">color_format</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/parse.html#Parse.change_labels_cfg"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.parse.Parse.change_labels_cfg" title="Permalink to this definition">¶</a></dt>
<dd><p>Update <a class="reference internal" href="#ms3.parse.Parse.labels_cfg" title="ms3.parse.Parse.labels_cfg"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Parse.labels_cfg</span></code></a> and retrieve new ‘labels’ tables accordingly.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>labels_cfg</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#dict" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>) – Using an entire dictionary or, to change only particular options, choose from:</p></li>
<li><p><strong>staff</strong> – Arguments as they will be passed to <a class="reference internal" href="#ms3.annotations.Annotations.get_labels" title="ms3.annotations.Annotations.get_labels"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_labels()</span></code></a></p></li>
<li><p><strong>voice</strong> – Arguments as they will be passed to <a class="reference internal" href="#ms3.annotations.Annotations.get_labels" title="ms3.annotations.Annotations.get_labels"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_labels()</span></code></a></p></li>
<li><p><strong>label_type</strong> – Arguments as they will be passed to <a class="reference internal" href="#ms3.annotations.Annotations.get_labels" title="ms3.annotations.Annotations.get_labels"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_labels()</span></code></a></p></li>
<li><p><strong>positioning</strong> – Arguments as they will be passed to <a class="reference internal" href="#ms3.annotations.Annotations.get_labels" title="ms3.annotations.Annotations.get_labels"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_labels()</span></code></a></p></li>
<li><p><strong>decode</strong> – Arguments as they will be passed to <a class="reference internal" href="#ms3.annotations.Annotations.get_labels" title="ms3.annotations.Annotations.get_labels"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_labels()</span></code></a></p></li>
<li><p><strong>column_name</strong> – Arguments as they will be passed to <a class="reference internal" href="#ms3.annotations.Annotations.get_labels" title="ms3.annotations.Annotations.get_labels"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_labels()</span></code></a></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ms3.parse.Parse.collect_lists">
<code class="sig-name descname">collect_lists</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">keys</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">ids</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">notes</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">rests</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">notes_and_rests</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">measures</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">events</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">labels</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">chords</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">expanded</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">cadences</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">only_new</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/parse.html#Parse.collect_lists"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.parse.Parse.collect_lists" title="Permalink to this definition">¶</a></dt>
<dd><p>Extracts DataFrames from the parsed scores in <code class="docutils literal notranslate"><span class="pre">keys</span></code> and stores them in dictionaries.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>keys</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a> or <a class="reference external" href="https://docs.python.org/3.8/library/collections.abc.html#collections.abc.Collection" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Collection</span></code></a>, optional) – Key(s) under which parsed MuseScore files are stored. By default, all keys are selected.</p></li>
<li><p><strong>ids</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/collections.abc.html#collections.abc.Collection" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Collection</span></code></a>) – If you pass a collection of IDs, <code class="docutils literal notranslate"><span class="pre">keys</span></code> is ignored and <code class="docutils literal notranslate"><span class="pre">only_new</span></code> is set to False.</p></li>
<li><p><strong>notes</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – </p></li>
<li><p><strong>rests</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – </p></li>
<li><p><strong>notes_and_rests</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – </p></li>
<li><p><strong>measures</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – </p></li>
<li><p><strong>events</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – </p></li>
<li><p><strong>labels</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – </p></li>
<li><p><strong>chords</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – </p></li>
<li><p><strong>expanded</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – </p></li>
<li><p><strong>cadences</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – </p></li>
<li><p><strong>only_new</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Set to False to also retrieve lists that had already been retrieved.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ms3.parse.Parse.compare_labels">
<code class="sig-name descname">compare_labels</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">detached_key</span></em>, <em class="sig-param"><span class="n">new_color</span><span class="o">=</span><span class="default_value">'ms3_darkgreen'</span></em>, <em class="sig-param"><span class="n">old_color</span><span class="o">=</span><span class="default_value">'ms3_darkred'</span></em>, <em class="sig-param"><span class="n">detached_is_newer</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">store_with_suffix</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/parse.html#Parse.compare_labels"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.parse.Parse.compare_labels" title="Permalink to this definition">¶</a></dt>
<dd><p>Compare detached labels <code class="docutils literal notranslate"><span class="pre">key</span></code> to the ones attached to the Score.
By default, the attached labels are considered as the reviewed version and changes are colored in green;
Changes with respect to the detached labels are attached to the Score in red.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>detached_key</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – Key under which the detached labels that you want to compare have been added to the scores.</p></li>
<li><p><strong>new_color</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a> or <a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#tuple" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tuple</span></code></a>, optional) – The colors by which new and old labels are differentiated. Identical labels remain unchanged.</p></li>
<li><p><strong>old_color</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a> or <a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#tuple" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tuple</span></code></a>, optional) – The colors by which new and old labels are differentiated. Identical labels remain unchanged.</p></li>
<li><p><strong>detached_is_newer</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Pass True if the detached labels are to be added with <code class="docutils literal notranslate"><span class="pre">new_color</span></code> whereas the attached changed labels
will turn <code class="docutils literal notranslate"><span class="pre">old_color</span></code>, as opposed to the default.</p></li>
<li><p><strong>store_with_suffix</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – If you pass a suffix, the comparison MSCX files are stored with this suffix next to the originals.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ms3.parse.Parse.count_annotation_layers">
<code class="sig-name descname">count_annotation_layers</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">keys</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">which</span><span class="o">=</span><span class="default_value">'attached'</span></em>, <em class="sig-param"><span class="n">per_key</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/parse.html#Parse.count_annotation_layers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.parse.Parse.count_annotation_layers" title="Permalink to this definition">¶</a></dt>
<dd><p>Counts the labels for each annotation layer defined as (staff, voice, label_type).
By default, only labels attached to a score are counted.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>keys</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a> or <a class="reference external" href="https://docs.python.org/3.8/library/collections.abc.html#collections.abc.Collection" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Collection</span></code></a>, optional) – Key(s) for which to count annotation layers.  By default, all keys are selected.</p></li>
<li><p><strong>which</strong> (<em>{'attached'</em><em>, </em><em>'detached'</em><em>, </em><em>'tsv'}</em><em>, </em><em>optional</em>) – ‘attached’: Counts layers from annotations attached to a score.
‘detached’: Counts layers from annotations that are in a Score object, but detached from the score.
‘tsv’: Counts layers from Annotation objects that have been loaded from or into annotation tables.</p></li>
<li><p><strong>per_key</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – If set to True, the results are returned as a dict {key: Counter}, otherwise the counts are summed up in one Counter.
If <code class="docutils literal notranslate"><span class="pre">which='detached'</span></code>, the keys are keys from Score objects, otherwise they are keys from this Parse object.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>By default, the function returns a Counter of labels for every annotation layer (staff, voice, label_type)
If <code class="docutils literal notranslate"><span class="pre">per_key</span></code> is set to True, a dictionary {key: Counter} is returned, separating the counts.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#dict" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a> or <a class="reference external" href="https://docs.python.org/3.8/library/collections.html#collections.Counter" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">collections.Counter</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ms3.parse.Parse.count_extensions">
<code class="sig-name descname">count_extensions</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">keys</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">ids</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">per_key</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/parse.html#Parse.count_extensions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.parse.Parse.count_extensions" title="Permalink to this definition">¶</a></dt>
<dd><p>Count file extensions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>keys</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a> or <a class="reference external" href="https://docs.python.org/3.8/library/collections.abc.html#collections.abc.Collection" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Collection</span></code></a>, optional) – Key(s) for which to count file extensions.  By default, all keys are selected.</p></li>
<li><p><strong>ids</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/collections.abc.html#collections.abc.Collection" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Collection</span></code></a>) – If you pass a collection of IDs, <code class="docutils literal notranslate"><span class="pre">keys</span></code> is ignored and only the selected extensions are counted.</p></li>
<li><p><strong>per_key</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – If set to True, the results are returned as a dict {key: Counter},
otherwise the counts are summed up in one Counter.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>By default, the function returns a Counter of file extensions.
If <code class="docutils literal notranslate"><span class="pre">per_key</span></code> is set to True, a dictionary {key: Counter} is returned, separating the counts.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#dict" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a> or <a class="reference external" href="https://docs.python.org/3.8/library/collections.html#collections.Counter" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">collections.Counter</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ms3.parse.Parse.count_label_types">
<code class="sig-name descname">count_label_types</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">keys</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">per_key</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/parse.html#Parse.count_label_types"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.parse.Parse.count_label_types" title="Permalink to this definition">¶</a></dt>
<dd><p>Count label types.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>keys</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a> or <a class="reference external" href="https://docs.python.org/3.8/library/collections.abc.html#collections.abc.Collection" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Collection</span></code></a>, optional) – Key(s) for which to count label types.  By default, all keys are selected.</p></li>
<li><p><strong>per_key</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – If set to True, the results are returned as a dict {key: Counter},
otherwise the counts are summed up in one Counter.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>By default, the function returns a Counter of label types.
If <code class="docutils literal notranslate"><span class="pre">per_key</span></code> is set to True, a dictionary {key: Counter} is returned, separating the counts.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#dict" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a> or <a class="reference external" href="https://docs.python.org/3.8/library/collections.html#collections.Counter" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">collections.Counter</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ms3.parse.Parse.count_tsv_types">
<code class="sig-name descname">count_tsv_types</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">keys</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">per_key</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/parse.html#Parse.count_tsv_types"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.parse.Parse.count_tsv_types" title="Permalink to this definition">¶</a></dt>
<dd><p>Count inferred TSV types.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>keys</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a> or <a class="reference external" href="https://docs.python.org/3.8/library/collections.abc.html#collections.abc.Collection" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Collection</span></code></a>, optional) – Key(s) for which to count inferred TSV types.  By default, all keys are selected.</p></li>
<li><p><strong>per_key</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – If set to True, the results are returned as a dict {key: Counter},
otherwise the counts are summed up in one Counter.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>By default, the function returns a Counter of inferred TSV types.
If <code class="docutils literal notranslate"><span class="pre">per_key</span></code> is set to True, a dictionary {key: Counter} is returned, separating the counts.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#dict" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a> or <a class="reference external" href="https://docs.python.org/3.8/library/collections.html#collections.Counter" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">collections.Counter</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ms3.parse.Parse.detach_labels">
<code class="sig-name descname">detach_labels</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">keys</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">annotation_key</span><span class="o">=</span><span class="default_value">'detached'</span></em>, <em class="sig-param"><span class="n">staff</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">voice</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">label_type</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">delete</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/parse.html#Parse.detach_labels"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.parse.Parse.detach_labels" title="Permalink to this definition">¶</a></dt>
<dd><p>Calls <code class="xref py py-meth docutils literal notranslate"><span class="pre">Score.detach_labels&lt;ms3.score.Score.detach_labels()</span></code> on every parsed score with key <code class="docutils literal notranslate"><span class="pre">key</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt id="ms3.parse.Parse.get_labels">
<code class="sig-name descname">get_labels</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">keys</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">staff</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">voice</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">label_type</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">positioning</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">decode</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">column_name</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">concat</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/parse.html#Parse.get_labels"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.parse.Parse.get_labels" title="Permalink to this definition">¶</a></dt>
<dd><p>This function does not take into account self.labels_cfg</p>
</dd></dl>

<dl class="py method">
<dt id="ms3.parse.Parse.get_lists">
<code class="sig-name descname">get_lists</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">keys</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">ids</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">notes</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">rests</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">notes_and_rests</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">measures</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">events</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">labels</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">chords</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">expanded</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">cadences</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">simulate</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">flat</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">unfold</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">quarterbeats</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/parse.html#Parse.get_lists"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.parse.Parse.get_lists" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve a dictionary with the selected feature matrices.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>keys</strong> – </p></li>
<li><p><strong>ids</strong> – </p></li>
<li><p><strong>notes</strong> – </p></li>
<li><p><strong>rests</strong> – </p></li>
<li><p><strong>notes_and_rests</strong> – </p></li>
<li><p><strong>measures</strong> – </p></li>
<li><p><strong>events</strong> – </p></li>
<li><p><strong>labels</strong> – </p></li>
<li><p><strong>chords</strong> – </p></li>
<li><p><strong>expanded</strong> – </p></li>
<li><p><strong>cadences</strong> – </p></li>
<li><p><strong>simulate</strong> – </p></li>
<li><p><strong>flat</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – By default, you get a dictionary {(id, list_type) -&gt; list}.
By passing False you get a nested dictionary {list_type -&gt; {index -&gt; list}}</p></li>
<li><p><strong>unfold</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Pass True if lists should reflect repetitions and voltas to create a correct playthrough.
Defaults to False, meaning that all measures including second endings are included, unless <code class="docutils literal notranslate"><span class="pre">quarterbeats</span></code>
is set to True.</p></li>
<li><p><strong>quarterbeats</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Pass True to add a <cite>quarterbeats</cite> column with a continuous offset from the piece’s beginning. If <code class="docutils literal notranslate"><span class="pre">unfold</span></code>
is False, this option will remove second endings and the <code class="docutils literal notranslate"><span class="pre">volta</span></code> column.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ms3.parse.Parse.get_continuous_offsets">
<code class="sig-name descname">get_continuous_offsets</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">key</span></em>, <em class="sig-param"><span class="n">i</span></em>, <em class="sig-param"><span class="n">unfold</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/parse.html#Parse.get_continuous_offsets"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.parse.Parse.get_continuous_offsets" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Using a corresponding measure list, return a dictionary mapping MCs to their absolute distance from MC 1,</dt><dd><p>measured in quarter notes.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> – ID</p></li>
<li><p><strong>i</strong> – ID</p></li>
<li><p><strong>unfold</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>) – If True, return <code class="docutils literal notranslate"><span class="pre">{mc_playthrough</span> <span class="pre">-&gt;</span> <span class="pre">offset}</span></code>, otherwise <code class="docutils literal notranslate"><span class="pre">{mc</span> <span class="pre">-&gt;</span> <span class="pre">offset}</span></code>, keeping only second endings.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ms3.parse.Parse.ids2idx">
<code class="sig-name descname">ids2idx</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ids</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">pandas_index</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/parse.html#Parse.ids2idx"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.parse.Parse.ids2idx" title="Permalink to this definition">¶</a></dt>
<dd><p>Receives a list of IDs and returns a list of index tuples or a pandas index created from it.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ids</strong> – </p></li>
<li><p><strong>pandas_index</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Index.html#pandas.Index" title="(in pandas v1.3.3)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.Index</span></code></a> or <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.MultiIndex.html#pandas.MultiIndex" title="(in pandas v1.3.3)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.MultiIndex</span></code></a> or ( list(tuple()), tuple() )</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ms3.parse.Parse.idx2id">
<code class="sig-name descname">idx2id</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">full_path</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">rel_path</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">scan_path</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">path</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">file</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">fname</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">fext</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/parse.html#Parse.idx2id"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.parse.Parse.idx2id" title="Permalink to this definition">¶</a></dt>
<dd><p>Turn the respective value combinations of an index into an ID.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>full_paths</strong> – </p></li>
<li><p><strong>rel_paths</strong> – </p></li>
<li><p><strong>scan_paths</strong> – </p></li>
<li><p><strong>paths</strong> – </p></li>
<li><p><strong>files</strong> – </p></li>
<li><p><strong>fnames</strong> – </p></li>
<li><p><strong>fexts</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the (key, i) pair corresponding to the index</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#tuple" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tuple</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ms3.parse.Parse.match_files">
<code class="sig-name descname">match_files</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">keys</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">ids</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">what</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">only_new</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/parse.html#Parse.match_files"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.parse.Parse.match_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Match files based on their file names and return the matches for the requested keys or ids.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>keys</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a> or <a class="reference external" href="https://docs.python.org/3.8/library/collections.abc.html#collections.abc.Collection" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Collection</span></code></a>, optional) – Which key(s) to return after matching matching files.</p></li>
<li><p><strong>what</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#list" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a> or ∈ {‘scores’, ‘notes’, ‘rests’, ‘notes_and_rests’, ‘measures’, ‘events’, ‘labels’, ‘chords’, ‘expanded’, ‘cadences’}) – If you pass only one element, the corresponding files will be matched to all other types.
If you pass several elements the first type will be matched to the following types.</p></li>
<li><p><strong>only_new</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Try matching only where matches are still missing.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Those files that were matched. This is a subsection of self._matches</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.3.3)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ms3.parse.Parse.parse">
<code class="sig-name descname">parse</code><span class="sig-paren">(</span><em class="sig-param">keys=None</em>, <em class="sig-param">read_only=True</em>, <em class="sig-param">level=None</em>, <em class="sig-param">parallel=True</em>, <em class="sig-param">only_new=True</em>, <em class="sig-param">labels_cfg={}</em>, <em class="sig-param">fexts=None</em>, <em class="sig-param">cols={}</em>, <em class="sig-param">infer_types={'dcml': re.compile('\n                                ^(?P&lt;first&gt;\n                                  (\\.?\n                                    ((?P&lt;globalkey&gt;[a-gA-G](b*|\\#*))\\.)?\n</em>, <em class="sig-param">re.VERBOSE)}</em>, <em class="sig-param">simulate=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/parse.html#Parse.parse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.parse.Parse.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>Shorthand for executing parse_mscx and parse_tsv at a time.</p>
</dd></dl>

<dl class="py method">
<dt id="ms3.parse.Parse.parse_mscx">
<code class="sig-name descname">parse_mscx</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">keys</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">ids</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">read_only</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">level</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">parallel</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">only_new</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">labels_cfg</span><span class="o">=</span><span class="default_value">{}</span></em>, <em class="sig-param"><span class="n">simulate</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/parse.html#Parse.parse_mscx"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.parse.Parse.parse_mscx" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse uncompressed MuseScore 3 files (MSCX) and store the resulting read-only Score objects. If they need
to be writeable, e.g. for removing or adding labels, pass <code class="docutils literal notranslate"><span class="pre">parallel=False</span></code> which takes longer but prevents
having to re-parse at a later point.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>keys</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a> or <a class="reference external" href="https://docs.python.org/3.8/library/collections.abc.html#collections.abc.Collection" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Collection</span></code></a>, optional) – For which key(s) to parse all MSCX files.</p></li>
<li><p><strong>ids</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/collections.abc.html#collections.abc.Collection" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Collection</span></code></a>) – To parse only particular files, pass their IDs. <code class="docutils literal notranslate"><span class="pre">keys</span></code> and <code class="docutils literal notranslate"><span class="pre">fexts</span></code> are ignored in this case.</p></li>
<li><p><strong>read_only</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – If <code class="docutils literal notranslate"><span class="pre">parallel=False</span></code>, you can increase speed and lower memory requirements by passing <code class="docutils literal notranslate"><span class="pre">read_only=True</span></code>.</p></li>
<li><p><strong>level</strong> (<em>{'W'</em><em>, </em><em>'D'</em><em>, </em><em>'I'</em><em>, </em><em>'E'</em><em>, </em><em>'C'</em><em>, </em><em>'WARNING'</em><em>, </em><em>'DEBUG'</em><em>, </em><em>'INFO'</em><em>, </em><em>'ERROR'</em><em>, </em><em>'CRITICAL'}</em><em>, </em><em>optional</em>) – Pass a level name for which (and above which) you want to see log records.</p></li>
<li><p><strong>parallel</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Defaults to True, meaning that all CPU cores are used simultaneously to speed up the parsing. It implies
that the resulting Score objects are in read-only mode and that you might not be able to use the computer
during parsing. Set to False to parse one score after the other.</p></li>
<li><p><strong>only_new</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – By default, score which already have been parsed, are not parsed again. Pass False to parse them, too.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.8/library/constants.html#None" title="(in Python v3.8)">None</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ms3.parse.Parse.parse_tsv">
<code class="sig-name descname">parse_tsv</code><span class="sig-paren">(</span><em class="sig-param">keys=None</em>, <em class="sig-param">ids=None</em>, <em class="sig-param">fexts=None</em>, <em class="sig-param">cols={}</em>, <em class="sig-param">infer_types={'dcml': re.compile('\n                                ^(?P&lt;first&gt;\n                                  (\\.?\n                                    ((?P&lt;globalkey&gt;[a-gA-G](b*|\\#*))\\.)?\n</em>, <em class="sig-param">re.VERBOSE)}</em>, <em class="sig-param">level=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/parse.html#Parse.parse_tsv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.parse.Parse.parse_tsv" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse TSV files (or other value-separated files such as CSV) to be able to do something with them.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>keys</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a> or <a class="reference external" href="https://docs.python.org/3.8/library/collections.abc.html#collections.abc.Collection" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Collection</span></code></a>, optional) – Key(s) for which to parse all non-MSCX files.  By default, all keys are selected.</p></li>
<li><p><strong>ids</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/collections.abc.html#collections.abc.Collection" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Collection</span></code></a>) – To parse only particular files, pass there IDs. <code class="docutils literal notranslate"><span class="pre">keys</span></code> and <code class="docutils literal notranslate"><span class="pre">fexts</span></code> are ignored in this case.</p></li>
<li><p><strong>fexts</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a> or <a class="reference external" href="https://docs.python.org/3.8/library/collections.abc.html#collections.abc.Collection" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Collection</span></code></a>, optional) – If you want to parse only files with one or several particular file extension(s), pass the extension(s)</p></li>
<li><p><strong>annotations</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a> or <a class="reference external" href="https://docs.python.org/3.8/library/collections.abc.html#collections.abc.Collection" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Collection</span></code></a>, optional) – By default, if a column called <code class="docutils literal notranslate"><span class="pre">'label'</span></code> is found, the TSV is treated as an annotation table and turned into
an Annotations object. Pass one or several column name(s) to treat <em>them</em> as label columns instead. If you
pass <code class="docutils literal notranslate"><span class="pre">None</span></code> or no label column is found, the TSV is parsed as a “normal” table, i.e. a DataFrame.</p></li>
<li><p><strong>infer_types</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#dict" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>, optional) – To recognize one or several custom label type(s), pass <code class="docutils literal notranslate"><span class="pre">{name:</span> <span class="pre">regEx}</span></code>.</p></li>
<li><p><strong>level</strong> (<em>{'W'</em><em>, </em><em>'D'</em><em>, </em><em>'I'</em><em>, </em><em>'E'</em><em>, </em><em>'C'</em><em>, </em><em>'WARNING'</em><em>, </em><em>'DEBUG'</em><em>, </em><em>'INFO'</em><em>, </em><em>'ERROR'</em><em>, </em><em>'CRITICAL'}</em><em>, </em><em>optional</em>) – Pass a level name for which (and above which) you want to see log records.</p></li>
<li><p><strong>**kwargs</strong> – Arguments for <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.to_csv.html#pandas.DataFrame.to_csv" title="(in pandas v1.3.3)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pandas.DataFrame.to_csv()</span></code></a>. Defaults to <code class="docutils literal notranslate"><span class="pre">{'sep':</span> <span class="pre">'</span>&#160;&#160; <span class="pre">',</span> <span class="pre">'index':</span> <span class="pre">False}</span></code>. In particular,
you might want to update the default dictionaries for <code class="docutils literal notranslate"><span class="pre">dtypes</span></code> and <code class="docutils literal notranslate"><span class="pre">converters</span></code> used in <code class="xref py py-func docutils literal notranslate"><span class="pre">load_tsv()</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.8/library/constants.html#None" title="(in Python v3.8)">None</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ms3.parse.Parse.store_lists">
<code class="sig-name descname">store_lists</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">keys</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">root_dir</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">notes_folder</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">notes_suffix</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">rests_folder</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">rests_suffix</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">notes_and_rests_folder</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">notes_and_rests_suffix</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">measures_folder</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">measures_suffix</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">events_folder</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">events_suffix</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">labels_folder</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">labels_suffix</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">chords_folder</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">chords_suffix</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">expanded_folder</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">expanded_suffix</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">cadences_folder</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">cadences_suffix</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">metadata_path</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">markdown</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">simulate</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">unfold</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">quarterbeats</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/parse.html#Parse.store_lists"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.parse.Parse.store_lists" title="Permalink to this definition">¶</a></dt>
<dd><p>Store score information as TSV files.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>keys</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a> or <a class="reference external" href="https://docs.python.org/3.8/library/collections.abc.html#collections.abc.Collection" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Collection</span></code></a>, optional) – Key(s) under which score files are stored. By default, all keys are selected.</p></li>
<li><p><strong>root_dir</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – Defaults to None, meaning that the original root directory is used that was added to the Parse object.
Otherwise, pass a directory to rebuild the original directory structure. For <code class="docutils literal notranslate"><span class="pre">_folder</span></code> parameters describing
absolute paths, <code class="docutils literal notranslate"><span class="pre">root_dir</span></code> is ignored.</p></li>
<li><p><strong>notes_folder</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>, </em><em>optional</em>) – Specify directory where to store the corresponding TSV files.</p></li>
<li><p><strong>rests_folder</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>, </em><em>optional</em>) – Specify directory where to store the corresponding TSV files.</p></li>
<li><p><strong>notes_and_rests_folder</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>, </em><em>optional</em>) – Specify directory where to store the corresponding TSV files.</p></li>
<li><p><strong>measures_folder</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>, </em><em>optional</em>) – Specify directory where to store the corresponding TSV files.</p></li>
<li><p><strong>events_folder</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>, </em><em>optional</em>) – Specify directory where to store the corresponding TSV files.</p></li>
<li><p><strong>labels_folder</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>, </em><em>optional</em>) – Specify directory where to store the corresponding TSV files.</p></li>
<li><p><strong>chords_folder</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>, </em><em>optional</em>) – Specify directory where to store the corresponding TSV files.</p></li>
<li><p><strong>expanded_folder</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>, </em><em>optional</em>) – Specify directory where to store the corresponding TSV files.</p></li>
<li><p><strong>cadences_folder</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>, </em><em>optional</em>) – Specify directory where to store the corresponding TSV files.</p></li>
<li><p><strong>notes_suffix</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>, </em><em>optional</em>) – Optionally specify suffixes appended to the TSVs’ file names.</p></li>
<li><p><strong>rests_suffix</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>, </em><em>optional</em>) – Optionally specify suffixes appended to the TSVs’ file names.</p></li>
<li><p><strong>notes_and_rests_suffix</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>, </em><em>optional</em>) – Optionally specify suffixes appended to the TSVs’ file names.</p></li>
<li><p><strong>measures_suffix</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>, </em><em>optional</em>) – Optionally specify suffixes appended to the TSVs’ file names.</p></li>
<li><p><strong>events_suffix</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>, </em><em>optional</em>) – Optionally specify suffixes appended to the TSVs’ file names.</p></li>
<li><p><strong>labels_suffix</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>, </em><em>optional</em>) – Optionally specify suffixes appended to the TSVs’ file names.</p></li>
<li><p><strong>chords_suffix</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>, </em><em>optional</em>) – Optionally specify suffixes appended to the TSVs’ file names.</p></li>
<li><p><strong>expanded_suffix</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>, </em><em>optional</em>) – Optionally specify suffixes appended to the TSVs’ file names.</p></li>
<li><p><strong>cadences_suffix</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>, </em><em>optional</em>) – Optionally specify suffixes appended to the TSVs’ file names.</p></li>
<li><p><strong>metadata_path</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>, </em><em>optional</em>) – Where to store an overview file with the MuseScore files’ metadata.
If no file name is specified, the file will be named <code class="docutils literal notranslate"><span class="pre">metadata.tsv</span></code>.</p></li>
<li><p><strong>markdown</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – By default, when <code class="docutils literal notranslate"><span class="pre">metadata_path</span></code> is specified, a markdown file called <code class="docutils literal notranslate"><span class="pre">README.md</span></code> containing
the columns [file_name, measures, labels, standard, annotators, reviewers] is created. If it exists already,
this table will be appended or overwritten after the heading <code class="docutils literal notranslate"><span class="pre">#</span> <span class="pre">Overview</span></code>.</p></li>
<li><p><strong>simulate</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Defaults to <code class="docutils literal notranslate"><span class="pre">None</span></code>. Pass a value to set the object attribute <code class="xref py py-attr docutils literal notranslate"><span class="pre">simulate</span></code>.</p></li>
<li><p><strong>unfold</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – By default, repetitions are not unfolded. Pass True to duplicate values so that they correspond to a full
playthrough, including correct positioning of first and second endings.</p></li>
<li><p><strong>quarterbeats</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – By default, no <code class="docutils literal notranslate"><span class="pre">quarterbeats</span></code> column is added with distances from the piece’s beginning measured in quarter notes.
Pass True to add the columns <code class="docutils literal notranslate"><span class="pre">quarterbeats</span></code> and <code class="docutils literal notranslate"><span class="pre">durations_quarterbeats</span></code>. If a score has first and second endings,
the behaviour depends on <code class="docutils literal notranslate"><span class="pre">unfold</span></code>: If False, repetitions are not unfolded and only last endings are included in the
continuous count. If repetitions are being unfolded, all endings are taken into account.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ms3.parse.Parse.store_mscx">
<code class="sig-name descname">store_mscx</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">keys</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">ids</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">root_dir</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">folder</span><span class="o">=</span><span class="default_value">'.'</span></em>, <em class="sig-param"><span class="n">suffix</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">overwrite</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">simulate</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/parse.html#Parse.store_mscx"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.parse.Parse.store_mscx" title="Permalink to this definition">¶</a></dt>
<dd><p>Stores the parsed MuseScore files in their current state, e.g. after detaching or attaching annotations.</p>
</dd></dl>

<dl class="py method">
<dt id="ms3.parse.Parse.update_metadata">
<code class="sig-name descname">update_metadata</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/parse.html#Parse.update_metadata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.parse.Parse.update_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Uses all parsed metadata TSVs to update the information in the corresponding parsed MSCX files and returns
the IDs of those that have been changed.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-ms3.bs4_parser">
<span id="the-beautifulsoup-parser"></span><span id="bs4-parser"></span><h2>The BeautifulSoup parser<a class="headerlink" href="#module-ms3.bs4_parser" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="ms3.bs4_parser._MSCX_bs4">
<em class="property">class </em><code class="sig-prename descclassname">ms3.bs4_parser.</code><code class="sig-name descname">_MSCX_bs4</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mscx_src</span></em>, <em class="sig-param"><span class="n">read_only</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">logger_cfg</span><span class="o">=</span><span class="default_value">{}</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/bs4_parser.html#_MSCX_bs4"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.bs4_parser._MSCX_bs4" title="Permalink to this definition">¶</a></dt>
<dd><p>This sister class implements <a class="reference internal" href="#ms3.score.MSCX" title="ms3.score.MSCX"><code class="xref py py-class docutils literal notranslate"><span class="pre">MSCX</span></code></a>’s methods for a score parsed with beautifulsoup4.</p>
<dl class="py attribute">
<dt id="ms3.bs4_parser._MSCX_bs4.mscx_src">
<code class="sig-name descname">mscx_src</code><a class="headerlink" href="#ms3.bs4_parser._MSCX_bs4.mscx_src" title="Permalink to this definition">¶</a></dt>
<dd><p>Path to the uncompressed MuseScore 3 file (MSCX) to be parsed.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ms3.bs4_parser._MSCX_bs4.parse_mscx">
<code class="sig-name descname">parse_mscx</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/bs4_parser.html#_MSCX_bs4.parse_mscx"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.bs4_parser._MSCX_bs4.parse_mscx" title="Permalink to this definition">¶</a></dt>
<dd><p>Load the XML structure from the score in self.mscx_src and store references to staves and measures.</p>
</dd></dl>

<dl class="py method">
<dt id="ms3.bs4_parser._MSCX_bs4.parse_measures">
<code class="sig-name descname">parse_measures</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/bs4_parser.html#_MSCX_bs4.parse_measures"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.bs4_parser._MSCX_bs4.parse_measures" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts the score into the three DataFrame self._measures, self._events, and self._notes</p>
</dd></dl>

<dl class="py method">
<dt id="ms3.bs4_parser._MSCX_bs4._make_measure_list">
<code class="sig-name descname">_make_measure_list</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sections</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">secure</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">reset_index</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/bs4_parser.html#_MSCX_bs4._make_measure_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.bs4_parser._MSCX_bs4._make_measure_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Regenerate the measure list from the parsed score with advanced options.</p>
</dd></dl>

<dl class="py method">
<dt id="ms3.bs4_parser._MSCX_bs4.chords">
<em class="property">property </em><code class="sig-name descname">chords</code><a class="headerlink" href="#ms3.bs4_parser._MSCX_bs4.chords" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of &lt;chord&gt; tags (all &lt;note&gt; tags come within one) and attached score information such as
lyrics, dynamics, articulations, slurs, etc.</p>
</dd></dl>

<dl class="py method">
<dt id="ms3.bs4_parser._MSCX_bs4.cl">
<em class="property">property </em><code class="sig-name descname">cl</code><a class="headerlink" href="#ms3.bs4_parser._MSCX_bs4.cl" title="Permalink to this definition">¶</a></dt>
<dd><p>Getting self._cl but without recomputing.</p>
</dd></dl>

<dl class="py method">
<dt id="ms3.bs4_parser._MSCX_bs4.measures">
<em class="property">property </em><code class="sig-name descname">measures</code><a class="headerlink" href="#ms3.bs4_parser._MSCX_bs4.measures" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve a standard measure list from the parsed score.</p>
</dd></dl>

<dl class="py method">
<dt id="ms3.bs4_parser._MSCX_bs4.ml">
<em class="property">property </em><code class="sig-name descname">ml</code><a class="headerlink" href="#ms3.bs4_parser._MSCX_bs4.ml" title="Permalink to this definition">¶</a></dt>
<dd><p>Like property <cite>measures</cite> but without recomputing.</p>
</dd></dl>

<dl class="py method">
<dt id="ms3.bs4_parser._MSCX_bs4.notes">
<em class="property">property </em><code class="sig-name descname">notes</code><a class="headerlink" href="#ms3.bs4_parser._MSCX_bs4.notes" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of all notes with their features.</p>
</dd></dl>

<dl class="py method">
<dt id="ms3.bs4_parser._MSCX_bs4.nl">
<em class="property">property </em><code class="sig-name descname">nl</code><a class="headerlink" href="#ms3.bs4_parser._MSCX_bs4.nl" title="Permalink to this definition">¶</a></dt>
<dd><p>Like property <cite>notes</cite> but without recomputing.</p>
</dd></dl>

<dl class="py method">
<dt id="ms3.bs4_parser._MSCX_bs4.notes_and_rests">
<em class="property">property </em><code class="sig-name descname">notes_and_rests</code><a class="headerlink" href="#ms3.bs4_parser._MSCX_bs4.notes_and_rests" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a combination of properties <cite>notes</cite> and <cite>rests</cite></p>
</dd></dl>

<dl class="py method">
<dt id="ms3.bs4_parser._MSCX_bs4.nrl">
<em class="property">property </em><code class="sig-name descname">nrl</code><a class="headerlink" href="#ms3.bs4_parser._MSCX_bs4.nrl" title="Permalink to this definition">¶</a></dt>
<dd><p>Like property <cite>notes_and_rests</cite> but without recomputing.</p>
</dd></dl>

<dl class="py method">
<dt id="ms3.bs4_parser._MSCX_bs4.rests">
<em class="property">property </em><code class="sig-name descname">rests</code><a class="headerlink" href="#ms3.bs4_parser._MSCX_bs4.rests" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of all rests with their features.</p>
</dd></dl>

<dl class="py method">
<dt id="ms3.bs4_parser._MSCX_bs4.rl">
<em class="property">property </em><code class="sig-name descname">rl</code><a class="headerlink" href="#ms3.bs4_parser._MSCX_bs4.rl" title="Permalink to this definition">¶</a></dt>
<dd><p>Like property <cite>rests</cite> but without recomputing.</p>
</dd></dl>

<dl class="py method">
<dt id="ms3.bs4_parser._MSCX_bs4.make_standard_chordlist">
<code class="sig-name descname">make_standard_chordlist</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/bs4_parser.html#_MSCX_bs4.make_standard_chordlist"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.bs4_parser._MSCX_bs4.make_standard_chordlist" title="Permalink to this definition">¶</a></dt>
<dd><p>This chord list has chords only as opposed to the one yielded by selr.get_chords()</p>
</dd></dl>

<dl class="py method">
<dt id="ms3.bs4_parser._MSCX_bs4.get_chords">
<code class="sig-name descname">get_chords</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">staff</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">voice</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">mode</span><span class="o">=</span><span class="default_value">'auto'</span></em>, <em class="sig-param"><span class="n">lyrics</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">dynamics</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">articulation</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">staff_text</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">system_text</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">tempo</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">spanners</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/bs4_parser.html#_MSCX_bs4.get_chords"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.bs4_parser._MSCX_bs4.get_chords" title="Permalink to this definition">¶</a></dt>
<dd><p>Shortcut for <code class="docutils literal notranslate"><span class="pre">MSCX.parsed.get_chords()</span></code>.
Retrieve a customized chord lists, e.g. one including less of the processed features or additional,
unprocessed ones.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>staff</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>) – Get information from a particular staff only (1 = upper staff)</p></li>
<li><p><strong>voice</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>) – Get information from a particular voice only (1 = only the first layer of every staff)</p></li>
<li><p><strong>mode</strong> (<em>{'auto'</em><em>, </em><em>'all'</em><em>, </em><em>'strict'}</em><em>, </em><em>optional</em>) – <div class="line-block">
<div class="line">Defaults to ‘auto’, meaning that those aspects are automatically included that occur in the score; the resulting
DataFrame has no empty columns except for those parameters that are set to True.</div>
<div class="line">’all’: Columns for all aspects are created, even if they don’t occur in the score (e.g. lyrics).</div>
<div class="line">’strict’: Create columns for exactly those parameters that are set to True, regardless which aspects occur in the score.</div>
</div>
</p></li>
<li><p><strong>lyrics</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Include lyrics.</p></li>
<li><p><strong>dynamics</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Include dynamic markings such as f or p.</p></li>
<li><p><strong>articulation</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Include articulation such as arpeggios.</p></li>
<li><p><strong>spanners</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Include spanners such as slurs, 8va lines, pedal lines etc.</p></li>
<li><p><strong>staff_text</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Include expression text such as ‘dolce’ and free-hand staff text such as ‘div.’.</p></li>
<li><p><strong>system_text</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Include system text such as movement titles.</p></li>
<li><p><strong>tempo</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Include tempo markings.</p></li>
<li><p><strong>**kwargs</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Set a particular keyword to True in order to include all columns from the _events DataFrame
whose names include that keyword. Column names include the tag names from the MSCX source code.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>DataFrame representing all &lt;Chord&gt; tags in the score with the selected features.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.3.3)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ms3.bs4_parser._MSCX_bs4.get_raw_labels">
<code class="sig-name descname">get_raw_labels</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/bs4_parser.html#_MSCX_bs4.get_raw_labels"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.bs4_parser._MSCX_bs4.get_raw_labels" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of &lt;harmony&gt; tags from the parsed score.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p></p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.3.3)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ms3.bs4_parser._MSCX_bs4.infer_mc">
<code class="sig-name descname">infer_mc</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mn</span></em>, <em class="sig-param"><span class="n">mn_onset</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">volta</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/bs4_parser.html#_MSCX_bs4.infer_mc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.bs4_parser._MSCX_bs4.infer_mc" title="Permalink to this definition">¶</a></dt>
<dd><p>mn_onset and needs to be converted to mc_onset</p>
</dd></dl>

<dl class="py method">
<dt id="ms3.bs4_parser._MSCX_bs4.delete_label">
<code class="sig-name descname">delete_label</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mc</span></em>, <em class="sig-param"><span class="n">staff</span></em>, <em class="sig-param"><span class="n">voice</span></em>, <em class="sig-param"><span class="n">mc_onset</span></em>, <em class="sig-param"><span class="n">empty_only</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/bs4_parser.html#_MSCX_bs4.delete_label"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.bs4_parser._MSCX_bs4.delete_label" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete a label from a particular position (if there is one).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mc</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>) – Measure count.</p></li>
<li><p><strong>staff</strong> – Notational layer in which to delete the label.</p></li>
<li><p><strong>voice</strong> – Notational layer in which to delete the label.</p></li>
<li><p><strong>mc_onset</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/fractions.html#fractions.Fraction" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">fractions.Fraction</span></code></a>) – mc_onset</p></li>
<li><p><strong>empty_only</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Set to True if you want to delete only empty harmonies. Since normally all labels at the defined position
are deleted, this flag is needed to prevent non-empty &lt;Harmony&gt; tags.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Whether a label was deleted or not.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ms3.bs4_parser._MSCX_bs4.add_label">
<code class="sig-name descname">add_label</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">label</span></em>, <em class="sig-param"><span class="n">mc</span></em>, <em class="sig-param"><span class="n">mc_onset</span></em>, <em class="sig-param"><span class="n">staff</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">voice</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/bs4_parser.html#_MSCX_bs4.add_label"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.bs4_parser._MSCX_bs4.add_label" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a single label to the current XML in form of a new
&lt;Harmony&gt; (and maybe also &lt;location&gt;) tag.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>label</strong> – </p></li>
<li><p><strong>mc</strong> – </p></li>
<li><p><strong>mc_onset</strong> – </p></li>
<li><p><strong>staff</strong> – </p></li>
<li><p><strong>voice</strong> – </p></li>
<li><p><strong>kwargs</strong> – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ms3.bs4_parser._MSCX_bs4.change_label_color">
<code class="sig-name descname">change_label_color</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mc</span></em>, <em class="sig-param"><span class="n">mc_onset</span></em>, <em class="sig-param"><span class="n">staff</span></em>, <em class="sig-param"><span class="n">voice</span></em>, <em class="sig-param"><span class="n">label</span></em>, <em class="sig-param"><span class="n">color_name</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">color_html</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">color_r</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">color_g</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">color_b</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">color_a</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/bs4_parser.html#_MSCX_bs4.change_label_color"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.bs4_parser._MSCX_bs4.change_label_color" title="Permalink to this definition">¶</a></dt>
<dd><p>Change the color of an existing label.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mc</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>) – Measure count of the label</p></li>
<li><p><strong>mc_onset</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/fractions.html#fractions.Fraction" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">fractions.Fraction</span></code></a>) – Onset position to which the label is attached.</p></li>
<li><p><strong>staff</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>) – Staff to which the label is attached.</p></li>
<li><p><strong>voice</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>) – Notational layer to which the label is attached.</p></li>
<li><p><strong>label</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – (Decoded) label.</p></li>
<li><p><strong>color_name</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – Two ways of specifying the color.</p></li>
<li><p><strong>color_html</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – Two ways of specifying the color.</p></li>
<li><p><strong>color_r</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a> or <a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – To specify a RGB color instead, pass at least, the first three. <code class="docutils literal notranslate"><span class="pre">color_a</span></code> (alpha = opacity) defaults
to 255.</p></li>
<li><p><strong>color_g</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a> or <a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – To specify a RGB color instead, pass at least, the first three. <code class="docutils literal notranslate"><span class="pre">color_a</span></code> (alpha = opacity) defaults
to 255.</p></li>
<li><p><strong>color_b</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a> or <a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – To specify a RGB color instead, pass at least, the first three. <code class="docutils literal notranslate"><span class="pre">color_a</span></code> (alpha = opacity) defaults
to 255.</p></li>
<li><p><strong>color_a</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a> or <a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – To specify a RGB color instead, pass at least, the first three. <code class="docutils literal notranslate"><span class="pre">color_a</span></code> (alpha = opacity) defaults
to 255.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="ms3.bs4_parser.Metatags">
<em class="property">class </em><code class="sig-prename descclassname">ms3.bs4_parser.</code><code class="sig-name descname">Metatags</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">soup</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/bs4_parser.html#Metatags"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.bs4_parser.Metatags" title="Permalink to this definition">¶</a></dt>
<dd><p>Easy way to read and write any style information in a parsed MSCX score.</p>
</dd></dl>

<dl class="py class">
<dt id="ms3.bs4_parser.Style">
<em class="property">class </em><code class="sig-prename descclassname">ms3.bs4_parser.</code><code class="sig-name descname">Style</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">soup</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/bs4_parser.html#Style"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.bs4_parser.Style" title="Permalink to this definition">¶</a></dt>
<dd><p>Easy way to read and write any style information in a parsed MSCX score.</p>
</dd></dl>

<dl class="py function">
<dt id="ms3.bs4_parser.get_duration_event">
<code class="sig-prename descclassname">ms3.bs4_parser.</code><code class="sig-name descname">get_duration_event</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">elements</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/bs4_parser.html#get_duration_event"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.bs4_parser.get_duration_event" title="Permalink to this definition">¶</a></dt>
<dd><p>Receives a list of dicts representing the events for a given mc_onset and returns the index and name of
the first event that has a duration, so either a Chord or a Rest.</p>
</dd></dl>

<dl class="py function">
<dt id="ms3.bs4_parser.get_part_info">
<code class="sig-prename descclassname">ms3.bs4_parser.</code><code class="sig-name descname">get_part_info</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">part_tag</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/bs4_parser.html#get_part_info"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.bs4_parser.get_part_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Instrument names come in different forms in different places. This function extracts the information from a
&lt;Part&gt; tag and returns it as a dictionary.</p>
</dd></dl>

<dl class="py function">
<dt id="ms3.bs4_parser.make_spanner_cols">
<code class="sig-prename descclassname">ms3.bs4_parser.</code><code class="sig-name descname">make_spanner_cols</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em>, <em class="sig-param"><span class="n">spanner_types</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/bs4_parser.html#make_spanner_cols"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.bs4_parser.make_spanner_cols" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>From a raw chord list as returned by <code class="docutils literal notranslate"><span class="pre">get_chords(spanners=True)</span></code></dt><dd><p>create a DataFrame with Spanner IDs for all chords for all spanner
types they are associated with.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>spanner_types</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">collection</span></code>) – If this parameter is passed, only the enlisted
spanner types [‘Slur’, ‘HairPin’, ‘Pedal’, ‘Ottava’] are included.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="ms3.bs4_parser.safe_update">
<code class="sig-prename descclassname">ms3.bs4_parser.</code><code class="sig-name descname">safe_update</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">old</span></em>, <em class="sig-param"><span class="n">new</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/bs4_parser.html#safe_update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.bs4_parser.safe_update" title="Permalink to this definition">¶</a></dt>
<dd><p>Update dict without replacing values.</p>
</dd></dl>

<dl class="py function">
<dt id="ms3.bs4_parser.decode_harmony_tag">
<code class="sig-prename descclassname">ms3.bs4_parser.</code><code class="sig-name descname">decode_harmony_tag</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tag</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/bs4_parser.html#decode_harmony_tag"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.bs4_parser.decode_harmony_tag" title="Permalink to this definition">¶</a></dt>
<dd><p>Decode a &lt;Harmony&gt; tag into a string.</p>
</dd></dl>

<dl class="py function">
<dt id="ms3.bs4_parser.make_oneliner">
<code class="sig-prename descclassname">ms3.bs4_parser.</code><code class="sig-name descname">make_oneliner</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">node</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/bs4_parser.html#make_oneliner"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.bs4_parser.make_oneliner" title="Permalink to this definition">¶</a></dt>
<dd><p>Pass a tag of which the layout does not spread over several lines.</p>
</dd></dl>

<dl class="py function">
<dt id="ms3.bs4_parser.format_node">
<code class="sig-prename descclassname">ms3.bs4_parser.</code><code class="sig-name descname">format_node</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">node</span></em>, <em class="sig-param"><span class="n">indent</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/bs4_parser.html#format_node"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.bs4_parser.format_node" title="Permalink to this definition">¶</a></dt>
<dd><p>Recursively format Beautifulsoup tag as in an MSCX file.</p>
</dd></dl>

<dl class="py function">
<dt id="ms3.bs4_parser.bs4_to_mscx">
<code class="sig-prename descclassname">ms3.bs4_parser.</code><code class="sig-name descname">bs4_to_mscx</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">soup</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/bs4_parser.html#bs4_to_mscx"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.bs4_parser.bs4_to_mscx" title="Permalink to this definition">¶</a></dt>
<dd><p>Turn the BeautifulSoup into a string representing an MSCX file</p>
</dd></dl>

</div>
<div class="section" id="module-ms3.expand_dcml">
<span id="the-expand-dcml-module"></span><h2>The expand_dcml module<a class="headerlink" href="#module-ms3.expand_dcml" title="Permalink to this headline">¶</a></h2>
<p>This is the same code as in the corpora repo as copied on September 24, 2020
and then adapted.</p>
<dl class="py class">
<dt id="ms3.expand_dcml.SliceMaker">
<em class="property">class </em><code class="sig-prename descclassname">ms3.expand_dcml.</code><code class="sig-name descname">SliceMaker</code><a class="reference internal" href="_modules/ms3/expand_dcml.html#SliceMaker"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.expand_dcml.SliceMaker" title="Permalink to this definition">¶</a></dt>
<dd><p>This class serves for storing slice notation such as <code class="docutils literal notranslate"><span class="pre">:3</span></code> as a variable or
passing it as function argument.</p>
<div class="admonition-examples admonition">
<p class="admonition-title">Examples</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">SM</span> <span class="o">=</span> <span class="n">SliceMaker</span><span class="p">()</span>
<span class="n">some_function</span><span class="p">(</span> <span class="n">slice_this</span><span class="p">,</span> <span class="n">SM</span><span class="p">[</span><span class="mi">3</span><span class="p">:</span><span class="mi">8</span><span class="p">]</span> <span class="p">)</span>

<span class="n">select_all</span> <span class="o">=</span> <span class="n">SM</span><span class="p">[:]</span>
<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">select_all</span><span class="p">]</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="py function">
<dt id="ms3.expand_dcml.expand_labels">
<code class="sig-prename descclassname">ms3.expand_dcml.</code><code class="sig-name descname">expand_labels</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em>, <em class="sig-param"><span class="n">column</span><span class="o">=</span><span class="default_value">'label'</span></em>, <em class="sig-param"><span class="n">regex</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">cols</span><span class="o">=</span><span class="default_value">{}</span></em>, <em class="sig-param"><span class="n">dropna</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">propagate</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">volta_structure</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">relative_to_global</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">chord_tones</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">absolute</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">all_in_c</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/expand_dcml.html#expand_labels"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.expand_dcml.expand_labels" title="Permalink to this definition">¶</a></dt>
<dd><p>Split harmony labels complying with the DCML syntax into columns holding their various features
and allows for additional computations and transformations.</p>
<p>Uses: <a class="reference internal" href="#ms3.expand_dcml.compute_chord_tones" title="ms3.expand_dcml.compute_chord_tones"><code class="xref py py-func docutils literal notranslate"><span class="pre">compute_chord_tones()</span></code></a>, <a class="reference internal" href="#ms3.expand_dcml.features2type" title="ms3.expand_dcml.features2type"><code class="xref py py-func docutils literal notranslate"><span class="pre">features2type()</span></code></a>, <a class="reference internal" href="#ms3.utils.labels2global_tonic" title="ms3.utils.labels2global_tonic"><code class="xref py py-func docutils literal notranslate"><span class="pre">labels2global_tonic()</span></code></a>, <a class="reference internal" href="#ms3.expand_dcml.propagate_keys" title="ms3.expand_dcml.propagate_keys"><code class="xref py py-func docutils literal notranslate"><span class="pre">propagate_keys()</span></code></a>,
<a class="reference internal" href="#ms3.expand_dcml.propagate_pedal" title="ms3.expand_dcml.propagate_pedal"><code class="xref py py-func docutils literal notranslate"><span class="pre">propagate_pedal()</span></code></a>, <a class="reference internal" href="#ms3.expand_dcml.replace_special" title="ms3.expand_dcml.replace_special"><code class="xref py py-func docutils literal notranslate"><span class="pre">replace_special()</span></code></a>, <a class="reference internal" href="#ms3.utils.roman_numeral2fifths" title="ms3.utils.roman_numeral2fifths"><code class="xref py py-func docutils literal notranslate"><span class="pre">roman_numeral2fifths()</span></code></a>, <a class="reference internal" href="#ms3.utils.split_alternatives" title="ms3.utils.split_alternatives"><code class="xref py py-func docutils literal notranslate"><span class="pre">split_alternatives()</span></code></a>, <a class="reference internal" href="#ms3.expand_dcml.split_labels" title="ms3.expand_dcml.split_labels"><code class="xref py py-func docutils literal notranslate"><span class="pre">split_labels()</span></code></a>,
<a class="reference internal" href="#ms3.utils.transform" title="ms3.utils.transform"><code class="xref py py-func docutils literal notranslate"><span class="pre">transform()</span></code></a>, <a class="reference internal" href="#ms3.expand_dcml.transpose" title="ms3.expand_dcml.transpose"><code class="xref py py-func docutils literal notranslate"><span class="pre">transpose()</span></code></a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.3.3)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – Dataframe where one column contains DCML chord labels.</p></li>
<li><p><strong>column</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – Name of the column that holds the harmony labels.</p></li>
<li><p><strong>regex</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">re.Pattern</span></code>) – Compiled regular expression used to split the labels. It needs to have named groups.
The group names are used as column names unless replaced by <code class="docutils literal notranslate"><span class="pre">cols</span></code>.</p></li>
<li><p><strong>cols</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#dict" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>, optional) – Dictionary to map the regex’s group names to deviating column names of your choice.</p></li>
<li><p><strong>dropna</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Pass True if you want to drop rows where <code class="docutils literal notranslate"><span class="pre">column</span></code> is NaN/&lt;NA&gt;</p></li>
<li><p><strong>propagate</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – By default, information about global and local keys and about pedal points is spread throughout
the DataFrame. Pass False if you only want to split the labels into their features. This ignores
all following parameters because their expansions depend on information about keys.</p></li>
<li><p><strong>volta_structure</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#dict" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>, optional) – {first_mc -&gt; {volta_number -&gt; [mc1, mc2…]} } dictionary as you can get it from
<code class="docutils literal notranslate"><span class="pre">Score.mscx.volta_structure</span></code>. This allows for correct propagation into second and other voltas.</p></li>
<li><p><strong>relative_to_global</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Pass True if you want all labels expressed with respect to the global key.
This levels and eliminates the features <cite>localkey</cite> and <cite>relativeroot</cite>.</p></li>
<li><p><strong>chord_tones</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Pass True if you want to add four columns that contain information about each label’s
chord, added, root, and bass tones. The pitches are expressed as intervals
relative to the respective chord’s local key or, if <code class="docutils literal notranslate"><span class="pre">relative_to_global=True</span></code>,
to the globalkey. The intervals are represented as integers that represent
stacks of fifths over the tonic, such that 0 = tonic, 1 = dominant, -1 = subdominant,
2 = supertonic etc.</p></li>
<li><p><strong>absolute</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Pass True if you want to transpose the relative <cite>chord_tones</cite> to the global
key, which makes them absolute so they can be expressed as actual note names.
This implies prior conversion of the chord_tones (but not of the labels) to
the global tonic.</p></li>
<li><p><strong>all_in_c</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Pass True to transpose <cite>chord_tones</cite> to C major/minor. This performs the same
transposition of chord tones as <cite>relative_to_global</cite> but without transposing
the labels, too. This option clashes with <cite>absolute=True</cite>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Original DataFrame plus additional columns with split features.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.3.3)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="ms3.expand_dcml.transpose">
<code class="sig-prename descclassname">ms3.expand_dcml.</code><code class="sig-name descname">transpose</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">e</span></em>, <em class="sig-param"><span class="n">n</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/expand_dcml.html#transpose"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.expand_dcml.transpose" title="Permalink to this definition">¶</a></dt>
<dd><p>Add <cite>n</cite> to all elements <cite>e</cite> recursively.</p>
</dd></dl>

<dl class="py function">
<dt id="ms3.expand_dcml.split_labels">
<code class="sig-prename descclassname">ms3.expand_dcml.</code><code class="sig-name descname">split_labels</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em>, <em class="sig-param"><span class="n">column</span></em>, <em class="sig-param"><span class="n">regex</span></em>, <em class="sig-param"><span class="n">cols</span><span class="o">=</span><span class="default_value">{}</span></em>, <em class="sig-param"><span class="n">dropna</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">inplace</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/expand_dcml.html#split_labels"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.expand_dcml.split_labels" title="Permalink to this definition">¶</a></dt>
<dd><p>Split harmony labels complying with the DCML syntax into columns holding their various features.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.3.3)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – Dataframe where one column contains DCML chord labels.</p></li>
<li><p><strong>column</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – Name of the column that holds the harmony labels.</p></li>
<li><p><strong>regex</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">re.Pattern</span></code>) – Compiled regular expression used to split the labels. It needs to have named groups.
The group names are used as column names unless replaced by <cite>cols</cite>.</p></li>
<li><p><strong>cols</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#dict" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>) – Dictionary to map the regex’s group names to deviating column names.</p></li>
<li><p><strong>dropna</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Pass True if you want to drop rows where <code class="docutils literal notranslate"><span class="pre">column</span></code> is NaN/&lt;NA&gt;</p></li>
<li><p><strong>inplace</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Pass True if you want to mutate <code class="docutils literal notranslate"><span class="pre">df</span></code>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="ms3.expand_dcml.features2type">
<code class="sig-prename descclassname">ms3.expand_dcml.</code><code class="sig-name descname">features2type</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">numeral</span></em>, <em class="sig-param"><span class="n">form</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">figbass</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/expand_dcml.html#features2type"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.expand_dcml.features2type" title="Permalink to this definition">¶</a></dt>
<dd><p>Turns a combination of the three chord features into a chord type.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><strong>‘M’</strong> (<em>Major triad</em>)</p></li>
<li><p><strong>’m’</strong> (<em>Minor triad</em>)</p></li>
<li><p><strong>’o’</strong> (<em>Diminished triad</em>)</p></li>
<li><p><strong>’+’</strong> (<em>Augmented triad</em>)</p></li>
<li><p><strong>’mm7’</strong> (<em>Minor seventh chord</em>)</p></li>
<li><p><strong>’Mm7’</strong> (<em>Dominant seventh chord</em>)</p></li>
<li><p><strong>’MM7’</strong> (<em>Major seventh chord</em>)</p></li>
<li><p><strong>’mM7’</strong> (<em>Minor major seventh chord</em>)</p></li>
<li><p><strong>’o7’</strong> (<em>Diminished seventh chord</em>)</p></li>
<li><p><strong>’%7’</strong> (<em>Half-diminished seventh chord</em>)</p></li>
<li><p><strong>’+7’</strong> (<em>Augmented (minor) seventh chord</em>)</p></li>
<li><p><strong>’+M7’</strong> (<em>Augmented major seventh chord</em>)</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="ms3.expand_dcml.replace_special">
<code class="sig-prename descclassname">ms3.expand_dcml.</code><code class="sig-name descname">replace_special</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em>, <em class="sig-param"><span class="n">regex</span></em>, <em class="sig-param"><span class="n">merge</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">inplace</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">cols</span><span class="o">=</span><span class="default_value">{}</span></em>, <em class="sig-param"><span class="n">special_map</span><span class="o">=</span><span class="default_value">{}</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/expand_dcml.html#replace_special"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.expand_dcml.replace_special" title="Permalink to this definition">¶</a></dt>
<dd><div class="line-block">
<div class="line">Move special symbols in the <cite>numeral</cite> column to a separate column and replace them by the explicit chords they stand for.</div>
<div class="line">In particular, this function replaces the symbols <cite>It</cite>, <cite>Ger</cite>, and <cite>Fr</cite>.</div>
</div>
<p>Uses: <a class="reference internal" href="#ms3.expand_dcml.merge_changes" title="ms3.expand_dcml.merge_changes"><code class="xref py py-func docutils literal notranslate"><span class="pre">merge_changes()</span></code></a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.3.3)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – Dataframe containing DCML chord labels that have been split by split_labels().</p></li>
<li><p><strong>regex</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">re.Pattern</span></code>) – Compiled regular expression used to split the labels replacing the special symbols.It needs to have named groups.
The group names are used as column names unless replaced by <cite>cols</cite>.</p></li>
<li><p><strong>merge</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – False: By default, existing values, except <cite>figbass</cite>, are overwritten.
True: Merge existing with new values (for <cite>changes</cite> and <cite>relativeroot</cite>).</p></li>
<li><p><strong>cols</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#dict" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>, optional) – <p>The special symbols appear in the column <cite>numeral</cite> and are moved to the column <cite>special</cite>.
In case the column names for <code class="docutils literal notranslate"><span class="pre">['numeral','form',</span> <span class="pre">'figbass',</span> <span class="pre">'changes',</span> <span class="pre">'relativeroot',</span> <span class="pre">'special']</span></code> deviate, pass a dict, such as</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s1">&#39;numeral&#39;</span><span class="p">:</span>         <span class="s1">&#39;numeral_col_name&#39;</span><span class="p">,</span>
 <span class="s1">&#39;form&#39;</span><span class="p">:</span>            <span class="s1">&#39;form_col_name</span>
 <span class="s1">&#39;figbass&#39;</span><span class="p">:</span>         <span class="s1">&#39;figbass_col_name&#39;</span><span class="p">,</span>
 <span class="s1">&#39;changes&#39;</span><span class="p">:</span>         <span class="s1">&#39;changes_col_name&#39;</span><span class="p">,</span>
 <span class="s1">&#39;relativeroot&#39;</span><span class="p">:</span>    <span class="s1">&#39;relativeroot_col_name&#39;</span><span class="p">,</span>
 <span class="s1">&#39;special&#39;</span><span class="p">:</span>         <span class="s1">&#39;special_col_name&#39;</span><span class="p">}</span>
</pre></div>
</div>
</p></li>
<li><p><strong>special_map</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#dict" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>, optional) – In case you want to add or alter special symbols to be replaced, pass a replacement map, e.g.
{‘N’: ‘bII6’}. The column ‘figbass’ is only altered if it’s None to allow for inversions of special chords.</p></li>
<li><p><strong>inplace</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Pass True if you want to mutate <code class="docutils literal notranslate"><span class="pre">df</span></code>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="ms3.expand_dcml.merge_changes">
<code class="sig-prename descclassname">ms3.expand_dcml.</code><code class="sig-name descname">merge_changes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">left</span></em>, <em class="sig-param"><span class="n">right</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">args</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/expand_dcml.html#merge_changes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.expand_dcml.merge_changes" title="Permalink to this definition">¶</a></dt>
<dd><p>Merge two <cite>changes</cite> into one, e.g. <cite>b3</cite> and <cite>+#7</cite> to <cite>+#7b3</cite>.</p>
<p>Uses: <code class="xref py py-func docutils literal notranslate"><span class="pre">changes2list()</span></code></p>
</dd></dl>

<dl class="py function">
<dt id="ms3.expand_dcml.propagate_keys">
<code class="sig-prename descclassname">ms3.expand_dcml.</code><code class="sig-name descname">propagate_keys</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em>, <em class="sig-param"><span class="n">volta_structure</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">globalkey</span><span class="o">=</span><span class="default_value">'globalkey'</span></em>, <em class="sig-param"><span class="n">localkey</span><span class="o">=</span><span class="default_value">'localkey'</span></em>, <em class="sig-param"><span class="n">add_bool</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/expand_dcml.html#propagate_keys"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.expand_dcml.propagate_keys" title="Permalink to this definition">¶</a></dt>
<dd><div class="line-block">
<div class="line">Propagate information about global keys and local keys throughout the dataframe.</div>
<div class="line">Pass split harmonies for one piece at a time. For concatenated pieces, use apply().</div>
</div>
<p>Uses: <code class="xref py py-func docutils literal notranslate"><span class="pre">series_is_minor()</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.3.3)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – Dataframe containing DCML chord labels that have been split by split_labels().</p></li>
<li><p><strong>volta_structure</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#dict" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>, optional) – {first_mc -&gt; {volta_number -&gt; [mc1, mc2…]} } dictionary as you can get it from
<code class="docutils literal notranslate"><span class="pre">Score.mscx.volta_structure</span></code>. This allows for correct propagation into
second and other voltas.</p></li>
<li><p><strong>globalkey</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – In case you renamed the columns, pass column names.</p></li>
<li><p><strong>localkey</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – In case you renamed the columns, pass column names.</p></li>
<li><p><strong>add_bool</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Pass True if you want to add two boolean columns which are true if the respective key is
a minor key.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="ms3.expand_dcml.propagate_pedal">
<code class="sig-prename descclassname">ms3.expand_dcml.</code><code class="sig-name descname">propagate_pedal</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em>, <em class="sig-param"><span class="n">relative</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">drop_pedalend</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">cols</span><span class="o">=</span><span class="default_value">{}</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/expand_dcml.html#propagate_pedal"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.expand_dcml.propagate_pedal" title="Permalink to this definition">¶</a></dt>
<dd><p>Propagate the pedal note for all chords within square brackets.
By default, the note is expressed in relation to each label’s localkey.</p>
<p>Uses: <code class="xref py py-func docutils literal notranslate"><span class="pre">rel2abs_key()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">abs2rel_key()</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.3.3)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – Dataframe containing DCML chord labels that have been split by split_labels()
and where the keys have been propagated using propagate_keys().</p></li>
<li><p><strong>relative</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Pass False if you want the pedal note to stay the same even if the localkey changes.</p></li>
<li><p><strong>drop_pedalend</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Pass False if you don’t want the column with the ending brackets to be dropped.</p></li>
<li><p><strong>cols</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#dict" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>, optional) – <p>In case the column names for <code class="docutils literal notranslate"><span class="pre">['pedal','pedalend',</span> <span class="pre">'globalkey',</span> <span class="pre">'localkey']</span></code> deviate, pass a dict, such as</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s1">&#39;pedal&#39;</span><span class="p">:</span>       <span class="s1">&#39;pedal_col_name&#39;</span><span class="p">,</span>
 <span class="s1">&#39;pedalend&#39;</span><span class="p">:</span>    <span class="s1">&#39;pedalend_col_name&#39;</span><span class="p">,</span>
 <span class="s1">&#39;globalkey&#39;</span><span class="p">:</span>   <span class="s1">&#39;globalkey_col_name&#39;</span><span class="p">,</span>
 <span class="s1">&#39;localkey&#39;</span><span class="p">:</span>    <span class="s1">&#39;localkey_col_name&#39;</span><span class="p">}</span>
</pre></div>
</div>
</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="ms3.expand_dcml.compute_chord_tones">
<code class="sig-prename descclassname">ms3.expand_dcml.</code><code class="sig-name descname">compute_chord_tones</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em>, <em class="sig-param"><span class="n">bass_only</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">expand</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">cols</span><span class="o">=</span><span class="default_value">{}</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/expand_dcml.html#compute_chord_tones"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.expand_dcml.compute_chord_tones" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the chord tones for DCML harmony labels. They are returned as lists
of tonal pitch classes in close position, starting with the bass note. The
tonal pitch classes represent intervals relative to the local tonic:</p>
<p>-2: Second below tonic
-1: fifth below tonic
0: tonic
1: fifth above tonic
2: second above tonic, etc.</p>
<p>The labels need to have undergone <a class="reference internal" href="#ms3.expand_dcml.split_labels" title="ms3.expand_dcml.split_labels"><code class="xref py py-func docutils literal notranslate"><span class="pre">split_labels()</span></code></a> and <a class="reference internal" href="#ms3.expand_dcml.propagate_keys" title="ms3.expand_dcml.propagate_keys"><code class="xref py py-func docutils literal notranslate"><span class="pre">propagate_keys()</span></code></a>.
Pedal points are not taken into account.</p>
<p>Uses: <a class="reference internal" href="#ms3.expand_dcml.features2tpcs" title="ms3.expand_dcml.features2tpcs"><code class="xref py py-func docutils literal notranslate"><span class="pre">features2tpcs()</span></code></a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.3.3)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – Dataframe containing DCML chord labels that have been split by split_labels()
and where the keys have been propagated using propagate_keys(add_bool=True).</p></li>
<li><p><strong>bass_only</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Pass True if you need only the bass note.</p></li>
<li><p><strong>expand</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Pass True if you need chord tones and added tones in separate columns.</p></li>
<li><p><strong>cols</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#dict" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>, optional) – <p>In case the column names for <code class="docutils literal notranslate"><span class="pre">['mc',</span> <span class="pre">'numeral',</span> <span class="pre">'form',</span> <span class="pre">'figbass',</span> <span class="pre">'changes',</span> <span class="pre">'relativeroot',</span> <span class="pre">'localkey',</span> <span class="pre">'globalkey']</span></code> deviate, pass a dict, such as</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s1">&#39;mc&#39;</span><span class="p">:</span>              <span class="s1">&#39;mc&#39;</span><span class="p">,</span>
 <span class="s1">&#39;numeral&#39;</span><span class="p">:</span>         <span class="s1">&#39;numeral_col_name&#39;</span><span class="p">,</span>
 <span class="s1">&#39;form&#39;</span><span class="p">:</span>            <span class="s1">&#39;form_col_name&#39;</span><span class="p">,</span>
 <span class="s1">&#39;figbass&#39;</span><span class="p">:</span>         <span class="s1">&#39;figbass_col_name&#39;</span><span class="p">,</span>
 <span class="s1">&#39;changes&#39;</span><span class="p">:</span>         <span class="s1">&#39;changes_col_name&#39;</span><span class="p">,</span>
 <span class="s1">&#39;relativeroot&#39;</span><span class="p">:</span>    <span class="s1">&#39;relativeroot_col_name&#39;</span><span class="p">,</span>
 <span class="s1">&#39;localkey&#39;</span><span class="p">:</span>        <span class="s1">&#39;localkey_col_name&#39;</span><span class="p">,</span>
 <span class="s1">&#39;globalkey&#39;</span><span class="p">:</span>       <span class="s1">&#39;globalkey_col_name&#39;</span><span class="p">}</span>
</pre></div>
</div>
<p>You may also deactivate columns by setting them to None, e.g. {‘changes’: None}</p>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>For every row of <cite>df</cite> one tuple with chord tones, expressed as tonal pitch classes.
If <cite>expand</cite> is True, the function returns a DataFrame with four columns:
Two with tuples for chord tones and added tones, one with the chord root,
and one with the bass note.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v1.3.3)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.Series</span></code></a> or <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.3.3)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="ms3.expand_dcml.features2tpcs">
<code class="sig-prename descclassname">ms3.expand_dcml.</code><code class="sig-name descname">features2tpcs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">numeral</span></em>, <em class="sig-param"><span class="n">form</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">figbass</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">changes</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">relativeroot</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">key</span><span class="o">=</span><span class="default_value">'C'</span></em>, <em class="sig-param"><span class="n">minor</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">merge_tones</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">bass_only</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">mc</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/expand_dcml.html#features2tpcs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.expand_dcml.features2tpcs" title="Permalink to this definition">¶</a></dt>
<dd><p>Given the features of a chord label, this function returns the chord tones
in the order of the inversion, starting from the bass note. The tones are
expressed as tonal pitch classes, where -1=F, 0=C, 1=G etc.</p>
<p>Uses: <a class="reference internal" href="#ms3.utils.changes2list" title="ms3.utils.changes2list"><code class="xref py py-func docutils literal notranslate"><span class="pre">changes2list()</span></code></a>, <a class="reference internal" href="#ms3.utils.name2fifths" title="ms3.utils.name2fifths"><code class="xref py py-func docutils literal notranslate"><span class="pre">name2fifths()</span></code></a>, <a class="reference internal" href="#ms3.utils.resolve_relative_keys" title="ms3.utils.resolve_relative_keys"><code class="xref py py-func docutils literal notranslate"><span class="pre">resolve_relative_keys()</span></code></a>, <a class="reference internal" href="#ms3.utils.roman_numeral2fifths" title="ms3.utils.roman_numeral2fifths"><code class="xref py py-func docutils literal notranslate"><span class="pre">roman_numeral2fifths()</span></code></a>,
<a class="reference internal" href="#ms3.utils.sort_tpcs" title="ms3.utils.sort_tpcs"><code class="xref py py-func docutils literal notranslate"><span class="pre">sort_tpcs()</span></code></a>, <a class="reference internal" href="#ms3.utils.str_is_minor" title="ms3.utils.str_is_minor"><code class="xref py py-func docutils literal notranslate"><span class="pre">str_is_minor()</span></code></a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>numeral</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – Roman numeral of the chord’s root</p></li>
<li><p><strong>form</strong> (<em>{None</em><em>, </em><em>'M'</em><em>, </em><em>'o'</em><em>, </em><em>'+' '%'}</em><em>, </em><em>optional</em>) – Indicates the chord type if not a major or minor triad (for which <code class="docutils literal notranslate"><span class="pre">form</span></code> is None).
‘%’ and ‘M’ can only occur as tetrads, not as triads.</p></li>
<li><p><strong>figbass</strong> (<em>{None</em><em>, </em><em>'6'</em><em>, </em><em>'64'</em><em>, </em><em>'7'</em><em>, </em><em>'65'</em><em>, </em><em>'43'</em><em>, </em><em>'2'}</em><em>, </em><em>optional</em>) – Indicates chord’s inversion. Pass None for triad root position.</p></li>
<li><p><strong>changes</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – Added steps such as ‘+6’ or suspensions such as ‘4’ or any combination such as (9+64).
Numbers need to be in descending order.</p></li>
<li><p><strong>relativeroot</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – Pass a Roman scale degree if <cite>numeral</cite> is to be applied to a different scale
degree of the local key, as in ‘V65/V’</p></li>
<li><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a> or <a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>, optional) – The local key expressed as the root’s note name or a tonal pitch class.
If it is a name and <cite>minor</cite> is <cite>None</cite>, uppercase means major and lowercase minor.
If it is a tonal pitch class, <cite>minor</cite> needs to be specified.</p></li>
<li><p><strong>minor</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Pass True for minor and False for major. Can be omitted if <cite>key</cite> is a note name.
This affects calculation of chords related to III, VI and VII.</p></li>
<li><p><strong>merge_tones</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Pass False if you want the function to return two tuples, one with (potentially suspended)
chord tones and one with added notes.</p></li>
<li><p><strong>bass_only</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Return only the bass note instead of all chord tones.</p></li>
<li><p><strong>mc</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Pass measure count to display it in warnings.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="ms3.expand_dcml.transform_columns">
<code class="sig-prename descclassname">ms3.expand_dcml.</code><code class="sig-name descname">transform_columns</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em>, <em class="sig-param"><span class="n">func</span></em>, <em class="sig-param"><span class="n">columns</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">param2col</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">inplace</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/expand_dcml.html#transform_columns"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.expand_dcml.transform_columns" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper function to use transform() on df[columns], leaving the other columns untouched.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.3.3)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – DataFrame where columns (or column combinations) work as function arguments.</p></li>
<li><p><strong>func</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#callable" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">callable</span></code></a>) – Function you want to apply to all elements in <cite>columns</cite>.</p></li>
<li><p><strong>columns</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#list" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a>) – Columns to which you want to apply <cite>func</cite>.</p></li>
<li><p><strong>param2col</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#dict" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a> or <a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#list" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a>, optional) – Mapping from parameter names of <cite>func</cite> to column names.
If you pass a list of column names, the columns’ values are passed as positional arguments.
Pass None if you want to use all columns as positional arguments.</p></li>
<li><p><strong>inplace</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Pass True if you want to mutate <cite>df</cite> rather than getting an altered copy.</p></li>
<li><p><strong>**kwargs</strong> (<em>keyword arguments for transform</em><em>(</em><em>)</em>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="ms3.expand_dcml.transform_note_columns">
<code class="sig-prename descclassname">ms3.expand_dcml.</code><code class="sig-name descname">transform_note_columns</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em>, <em class="sig-param"><span class="n">to</span></em>, <em class="sig-param"><span class="n">note_cols</span><span class="o">=</span><span class="default_value">['chord_tones', 'added_tones', 'bass_note', 'root']</span></em>, <em class="sig-param"><span class="n">minor_col</span><span class="o">=</span><span class="default_value">'localkey_is_minor'</span></em>, <em class="sig-param"><span class="n">inplace</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/expand_dcml.html#transform_note_columns"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.expand_dcml.transform_note_columns" title="Permalink to this definition">¶</a></dt>
<dd><p>Turns columns with line-of-fifth tonal pitch classes into another representation.</p>
<p>Uses: transform_columns()</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.3.3)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – DataFrame where columns (or column combinations) work as function arguments.</p></li>
<li><p><strong>to</strong> (<em>{'name'</em><em>, </em><em>'iv'</em><em>, </em><em>'pc'</em><em>, </em><em>'sd'</em><em>, </em><em>'rn'}</em>) – <p>The tone representation that you want to get from the <cite>note_cols</cite>.</p>
<ul>
<li><dl class="simple">
<dt>’name’: Note names. Should only be used if the stacked fifths actually represent</dt><dd><p>absolute tonal pitch classes rather than intervals over the local tonic.
In other words, make sure to use ‘name’ only if 0 means C rather than I.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>’iv’:   Intervals such that 0 = ‘P1’, 1 = ‘P5’, 4 = ‘M3’, -3 = ‘m3’, 6 = ‘A4’,</dt><dd><p>-6 = ‘D5’ etc.</p>
</dd>
</dl>
</li>
<li><p>’pc’:   (Relative) chromatic pitch class, or distance from tonic in semitones.</p></li>
<li><dl class="simple">
<dt>’sd’:   Scale degrees such that 0 = ‘1’, -1 = ‘4’, -2 = ‘b7’ in major, ‘7’ in minor etc.</dt><dd><p>This representation requires a boolean column <cite>minor_col</cite> which is
True in those rows where the stacks of fifths occur in a local minor
context and False for the others. Alternatively, if all pitches are
in the same mode or you simply want to express them as degrees of
particular mode, you can pass the boolean keyword argument <cite>minor</cite>.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>’rn’:   Roman numerals such that 0 = ‘I’, -2 = ‘bVII’ in major, ‘VII’ in minor etc.</dt><dd><p>Requires boolean ‘minor’ values, see ‘sd’.</p>
</dd>
</dl>
</li>
</ul>
</p></li>
<li><p><strong>note_cols</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#list" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a>, optional) – List of columns that hold integers or collections of integers that represent
stacks of fifth (0 = tonal center, 1 = fifth above, -1 = fourth above, etc).</p></li>
<li><p><strong>minor_col</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – If <cite>to</cite> is ‘sd’ or ‘rn’, specify a boolean column where the value is
True in those rows where the stacks of fifths occur in a local minor
context and False for the others.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="ms3.expand_dcml.chord2tpcs">
<code class="sig-prename descclassname">ms3.expand_dcml.</code><code class="sig-name descname">chord2tpcs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">chord</span></em>, <em class="sig-param"><span class="n">regex</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/expand_dcml.html#chord2tpcs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.expand_dcml.chord2tpcs" title="Permalink to this definition">¶</a></dt>
<dd><p>Split a chord label into its features and apply features2tpcs().</p>
<p>Uses: features2tpcs()</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>chord</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – Chord label that can be split into the features [‘numeral’, ‘form’, ‘figbass’, ‘changes’, ‘relativeroot’].</p></li>
<li><p><strong>regex</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">re.Pattern</span></code>, optional) – Compiled regex with named groups for the five features. By default, the current version of the DCML harmony
annotation standard is used.</p></li>
<li><p><strong>**kwargs</strong> – arguments for features2tpcs (pass MC to show it in warnings!)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-ms3.utils">
<span id="utils"></span><h2>Utils<a class="headerlink" href="#module-ms3.utils" title="Permalink to this headline">¶</a></h2>
<dl class="py data">
<dt id="ms3.utils.DCML_REGEX">
<code class="sig-prename descclassname">ms3.utils.</code><code class="sig-name descname">DCML_REGEX</code><em class="property"> = re.compile('\n^(\\.?\n    ((?P&lt;globalkey&gt;[a-gA-G](b*|\\#*))\\.)?\n    ((?P&lt;localkey&gt;((b*|\\#*)(VII|VI|V|IV|III|II|I|vii|vi|v|iv|iii|ii|i)/?)+)\\.)?\n    ((?P&lt;pedal&gt;((b*|\\#*)(VII|VI|V|IV|III|II|I|vii|vi|v|iv|iii, re.VERBOSE)</em><a class="headerlink" href="#ms3.utils.DCML_REGEX" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>
Constant with a regular expression that recognizes labels conforming to the DCML harmony annotation standard excluding those
consisting of two alternatives.</p>
</dd></dl>

<dl class="py data">
<dt id="ms3.utils.DCML_DOUBLE_REGEX">
<code class="sig-prename descclassname">ms3.utils.</code><code class="sig-name descname">DCML_DOUBLE_REGEX</code><em class="property"> = re.compile('\n                                ^(?P&lt;first&gt;\n                                  (\\.?\n                                    ((?P&lt;globalkey&gt;[a-gA-G](b*|\\#*))\\.)?\n                                   , re.VERBOSE)</em><a class="headerlink" href="#ms3.utils.DCML_DOUBLE_REGEX" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>
Constant with a regular expression that recognizes complete labels conforming to the DCML harmony annotation standard
including those consisting of two alternatives, without having to split them. It is simply a doubled version of DCML_REGEX.</p>
</dd></dl>

<dl class="py attribute">
<dt id="ms3.utils.rgba">
<code class="sig-prename descclassname">ms3.utils.</code><code class="sig-name descname">rgba</code><a class="headerlink" href="#ms3.utils.rgba" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <code class="xref py py-class docutils literal notranslate"><span class="pre">ms3.utils.RGBA</span></code></p>
</dd></dl>

<dl class="py class">
<dt id="ms3.utils.map_dict">
<em class="property">class </em><code class="sig-prename descclassname">ms3.utils.</code><code class="sig-name descname">map_dict</code><a class="reference internal" href="_modules/ms3/utils.html#map_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.utils.map_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Such a dictionary can be mapped to a Series to replace its values but leaving the values absent from the dict keys intact.</p>
</dd></dl>

<dl class="py function">
<dt id="ms3.utils.add_quarterbeats_col">
<code class="sig-prename descclassname">ms3.utils.</code><code class="sig-name descname">add_quarterbeats_col</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em>, <em class="sig-param"><span class="n">offset_dict</span></em>, <em class="sig-param"><span class="n">insert_after</span><span class="o">=</span><span class="default_value">'mc'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#add_quarterbeats_col"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.utils.add_quarterbeats_col" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Insert a column measuring the distance of events from MC 1 in quarter notes. If no ‘mc_onset’ column is present,</dt><dd><p>the column corresponds to the <code class="docutils literal notranslate"><span class="pre">insert_after</span></code> column’s measure counts.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.3.3)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – DataFrame with an <code class="docutils literal notranslate"><span class="pre">mc_playthrough</span></code> and an <code class="docutils literal notranslate"><span class="pre">mc_onset</span></code> column.</p></li>
<li><p><strong>offset_dict</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v1.3.3)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.Series</span></code></a> or <a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#dict" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>) – If unfolded: {mc_playthrough -&gt; offset}
Otherwise: {mc -&gt; offset}
You can create the dict using the function <code class="xref py py-meth docutils literal notranslate"><span class="pre">Parse.get_continuous_offsets()</span></code></p></li>
<li><p><strong>insert_after</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – Name of the column after which the new column will be inserted.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="ms3.utils.assert_all_lines_equal">
<code class="sig-prename descclassname">ms3.utils.</code><code class="sig-name descname">assert_all_lines_equal</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">before</span></em>, <em class="sig-param"><span class="n">after</span></em>, <em class="sig-param"><span class="n">original</span></em>, <em class="sig-param"><span class="n">tmp_file</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#assert_all_lines_equal"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.utils.assert_all_lines_equal" title="Permalink to this definition">¶</a></dt>
<dd><p>Compares two multiline strings to test equality.</p>
</dd></dl>

<dl class="py function">
<dt id="ms3.utils.assert_dfs_equal">
<code class="sig-prename descclassname">ms3.utils.</code><code class="sig-name descname">assert_dfs_equal</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">old</span></em>, <em class="sig-param"><span class="n">new</span></em>, <em class="sig-param"><span class="n">exclude</span><span class="o">=</span><span class="default_value">[]</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#assert_dfs_equal"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.utils.assert_dfs_equal" title="Permalink to this definition">¶</a></dt>
<dd><p>Compares the common columns of two DataFrames to test equality.</p>
</dd></dl>

<dl class="py function">
<dt id="ms3.utils.ambitus2oneliner">
<code class="sig-prename descclassname">ms3.utils.</code><code class="sig-name descname">ambitus2oneliner</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ambitus</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#ambitus2oneliner"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.utils.ambitus2oneliner" title="Permalink to this definition">¶</a></dt>
<dd><p>Turns a <code class="docutils literal notranslate"><span class="pre">metadata['parts'][staff_id]</span></code> dictionary into a string.</p>
</dd></dl>

<dl class="py function">
<dt id="ms3.utils.check_labels">
<code class="sig-prename descclassname">ms3.utils.</code><code class="sig-name descname">check_labels</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em>, <em class="sig-param"><span class="n">regex</span></em>, <em class="sig-param"><span class="n">column</span><span class="o">=</span><span class="default_value">'label'</span></em>, <em class="sig-param"><span class="n">split_regex</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">return_cols</span><span class="o">=</span><span class="default_value">['mc', 'mc_onset', 'staff', 'voice']</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#check_labels"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.utils.check_labels" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks the labels in <code class="docutils literal notranslate"><span class="pre">column</span></code> against <code class="docutils literal notranslate"><span class="pre">regex</span></code> and returns those that don’t match.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.3.3)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – DataFrame containing a column with labels.</p></li>
<li><p><strong>regex</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – Regular expression that incorrect labels don’t match.</p></li>
<li><p><strong>column</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – Column name where the labels are. Defaults to ‘label’</p></li>
<li><p><strong>split_regex</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – If you pass a regular expression (or simple string), it will be used to split the labels before checking the
resulting column separately. Instead, pass True to use the default (a ‘-‘ that does not precede a scale degree).</p></li>
<li><p><strong>return_cols</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#list" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a>, optional) – Pass a list of the DataFrame columns that you want to be displayed for the wrong labels.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>df</strong> – DataFrame with wrong labels.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.3.3)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="ms3.utils.color2rgba">
<code class="sig-prename descclassname">ms3.utils.</code><code class="sig-name descname">color2rgba</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">c</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#color2rgba"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.utils.color2rgba" title="Permalink to this definition">¶</a></dt>
<dd><p>Pass a RGB or RGBA tuple, HTML color or name to convert it to RGBA</p>
</dd></dl>

<dl class="py function">
<dt id="ms3.utils.color_name2format">
<code class="sig-prename descclassname">ms3.utils.</code><code class="sig-name descname">color_name2format</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">n</span></em>, <em class="sig-param"><span class="n">format</span><span class="o">=</span><span class="default_value">'rgb'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#color_name2format"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.utils.color_name2format" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a single CSS3 name into one of ‘HTML’, ‘rgb’, or ‘rgba’</p>
</dd></dl>

<dl class="py function">
<dt id="ms3.utils.color_name2html">
<code class="sig-prename descclassname">ms3.utils.</code><code class="sig-name descname">color_name2html</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">n</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#color_name2html"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.utils.color_name2html" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a single CSS3 name into HTML</p>
</dd></dl>

<dl class="py function">
<dt id="ms3.utils.color_name2rgb">
<code class="sig-prename descclassname">ms3.utils.</code><code class="sig-name descname">color_name2rgb</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">n</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#color_name2rgb"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.utils.color_name2rgb" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a single CSS3 name into RGB</p>
</dd></dl>

<dl class="py function">
<dt id="ms3.utils.color_name2rgba">
<code class="sig-prename descclassname">ms3.utils.</code><code class="sig-name descname">color_name2rgba</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">n</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#color_name2rgba"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.utils.color_name2rgba" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a single CSS3 name into RGBA</p>
</dd></dl>

<dl class="py function">
<dt id="ms3.utils.commonprefix">
<code class="sig-prename descclassname">ms3.utils.</code><code class="sig-name descname">commonprefix</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">paths</span></em>, <em class="sig-param"><span class="n">sep</span><span class="o">=</span><span class="default_value">'/'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#commonprefix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.utils.commonprefix" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns common prefix of a list of paths.
Uses: allnamesequal(), itertools.takewhile()</p>
</dd></dl>

<dl class="py function">
<dt id="ms3.utils.compute_mn">
<code class="sig-prename descclassname">ms3.utils.</code><code class="sig-name descname">compute_mn</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#compute_mn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.utils.compute_mn" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute measure numbers from a measure list with columns [‘dont_count’, ‘numbering_offset’]</p>
</dd></dl>

<dl class="py function">
<dt id="ms3.utils.convert_folder">
<code class="sig-prename descclassname">ms3.utils.</code><code class="sig-name descname">convert_folder</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">directory</span></em>, <em class="sig-param"><span class="n">new_folder</span></em>, <em class="sig-param"><span class="n">extensions</span><span class="o">=</span><span class="default_value">[]</span></em>, <em class="sig-param"><span class="n">target_extension</span><span class="o">=</span><span class="default_value">'mscx'</span></em>, <em class="sig-param"><span class="n">regex</span><span class="o">=</span><span class="default_value">'.*'</span></em>, <em class="sig-param"><span class="n">suffix</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">recursive</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">ms</span><span class="o">=</span><span class="default_value">'mscore'</span></em>, <em class="sig-param"><span class="n">overwrite</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">parallel</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#convert_folder"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.utils.convert_folder" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert all files in <cite>dir</cite> that have one of the <cite>extensions</cite> to .mscx format using the executable <cite>MS</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>directory</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Directories</p></li>
<li><p><strong>new_folder</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Directories</p></li>
<li><p><strong>extensions</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>, </em><em>optional</em>) – If you want to convert only certain formats, give those, e.g. [‘mscz’, ‘xml’]</p></li>
<li><p><strong>recursive</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Subdirectories as well.</p></li>
<li><p><strong>MS</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>, </em><em>optional</em>) – Give the path to the MuseScore executable on your system. Need only if
the command ‘mscore’ does not execute MuseScore on your system.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="ms3.utils.decode_harmonies">
<code class="sig-prename descclassname">ms3.utils.</code><code class="sig-name descname">decode_harmonies</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em>, <em class="sig-param"><span class="n">label_col</span><span class="o">=</span><span class="default_value">'label'</span></em>, <em class="sig-param"><span class="n">keep_type</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">return_series</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">alt_cols</span><span class="o">=</span><span class="default_value">'alt_label'</span></em>, <em class="sig-param"><span class="n">alt_separator</span><span class="o">=</span><span class="default_value">'-'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#decode_harmonies"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.utils.decode_harmonies" title="Permalink to this definition">¶</a></dt>
<dd><p>MuseScore stores types 2 (Nashville) and 3 (absolute chords) in several columns. This function returns a copy of
the DataFrame <code class="docutils literal notranslate"><span class="pre">Annotations.df</span></code> where the label column contains the strings corresponding to these columns.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.3.3)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – DataFrame with encoded harmony labels as stored in an <code class="xref py py-obj docutils literal notranslate"><span class="pre">Annotations</span></code> object.</p></li>
<li><p><strong>label_col</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – Column name where the main components (&lt;name&gt; tag) are stored, defaults to ‘label’</p></li>
<li><p><strong>keep_type</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Defaults to True, retaining the ‘label_type’ column and setting types 2 and 3 to 0.</p></li>
<li><p><strong>return_series</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – If set to True, only the decoded labels column is returned as a Series rather than a copy of <code class="docutils literal notranslate"><span class="pre">df</span></code>.</p></li>
<li><p><strong>alt_cols</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a> or <a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#list" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a>, optional) – Column(s) with alternative labels that are joined with the label columns using <code class="docutils literal notranslate"><span class="pre">alt_separator</span></code>. Defaults to
‘alt_label’. Suppress by passing None.</p></li>
<li><p><strong>alt_separator</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – Separator for joining <code class="docutils literal notranslate"><span class="pre">alt_cols</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Decoded harmony labels.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.3.3)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a> or <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v1.3.3)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.Series</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="ms3.utils.df2md">
<code class="sig-prename descclassname">ms3.utils.</code><code class="sig-name descname">df2md</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em>, <em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">'Overview'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#df2md"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.utils.df2md" title="Permalink to this definition">¶</a></dt>
<dd><p>Turns a DataFrame into a MarkDown table. The returned writer can be converted into a string.</p>
</dd></dl>

<dl class="py function">
<dt id="ms3.utils.dict2oneliner">
<code class="sig-prename descclassname">ms3.utils.</code><code class="sig-name descname">dict2oneliner</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">d</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#dict2oneliner"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.utils.dict2oneliner" title="Permalink to this definition">¶</a></dt>
<dd><p>Turns a dictionary into a single-line string without brackets.</p>
</dd></dl>

<dl class="py function">
<dt id="ms3.utils.fifths2acc">
<code class="sig-prename descclassname">ms3.utils.</code><code class="sig-name descname">fifths2acc</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fifths</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#fifths2acc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.utils.fifths2acc" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns accidentals for a stack of fifths that can be combined with a
basic representation of the seven steps.</p>
</dd></dl>

<dl class="py function">
<dt id="ms3.utils.fifths2iv">
<code class="sig-prename descclassname">ms3.utils.</code><code class="sig-name descname">fifths2iv</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fifths</span></em>, <em class="sig-param"><span class="n">smallest</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#fifths2iv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.utils.fifths2iv" title="Permalink to this definition">¶</a></dt>
<dd><p>Return interval name of a stack of fifths such that
0 = ‘P1’, -1 = ‘P4’, -2 = ‘m7’, 4 = ‘M3’ etc. If you pass <code class="docutils literal notranslate"><span class="pre">smallest=True</span></code>, intervals of a fifth or greater
will be inverted (e.g. ‘m6’ =&gt; ‘-M3’ and ‘D5’ =&gt; ‘-A4’).
Uses: map2elements()</p>
</dd></dl>

<dl class="py function">
<dt id="ms3.utils.fifths2name">
<code class="sig-prename descclassname">ms3.utils.</code><code class="sig-name descname">fifths2name</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fifths</span></em>, <em class="sig-param"><span class="n">midi</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">ms</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#fifths2name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.utils.fifths2name" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Return note name of a stack of fifths such that</dt><dd><p>0 = C, -1 = F, -2 = Bb, 1 = G etc.
Uses: map2elements(), fifths2str()</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fifths</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>) – Tonal pitch class to turn into a note name.</p></li>
<li><p><strong>midi</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>) – In order to include the octave into the note name,
pass the corresponding MIDI pitch.</p></li>
<li><p><strong>ms</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Pass True if <code class="docutils literal notranslate"><span class="pre">fifths</span></code> is a MuseScore TPC, i.e. C = 14</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="ms3.utils.fifths2pc">
<code class="sig-prename descclassname">ms3.utils.</code><code class="sig-name descname">fifths2pc</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fifths</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#fifths2pc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.utils.fifths2pc" title="Permalink to this definition">¶</a></dt>
<dd><p>Turn a stack of fifths into a chromatic pitch class.
Uses: map2elements()</p>
</dd></dl>

<dl class="py function">
<dt id="ms3.utils.fifths2rn">
<code class="sig-prename descclassname">ms3.utils.</code><code class="sig-name descname">fifths2rn</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fifths</span></em>, <em class="sig-param"><span class="n">minor</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">auto_key</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#fifths2rn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.utils.fifths2rn" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Return Roman numeral of a stack of fifths such that</dt><dd><p>0 = I, -1 = IV, 1 = V, -2 = bVII in major, VII in minor, etc.
Uses: map2elements(), is_minor_mode()</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>auto_key</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – By default, the returned Roman numerals are uppercase. Pass True to pass upper-
or lowercase according to the position in the scale.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="ms3.utils.fifths2sd">
<code class="sig-prename descclassname">ms3.utils.</code><code class="sig-name descname">fifths2sd</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fifths</span></em>, <em class="sig-param"><span class="n">minor</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#fifths2sd"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.utils.fifths2sd" title="Permalink to this definition">¶</a></dt>
<dd><p>Return scale degree of a stack of fifths such that
0 = ‘1’, -1 = ‘4’, -2 = ‘b7’ in major, ‘7’ in minor etc.
Uses: map2elements(), fifths2str()</p>
</dd></dl>

<dl class="py function">
<dt id="ms3.utils.fifths2str">
<code class="sig-prename descclassname">ms3.utils.</code><code class="sig-name descname">fifths2str</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fifths</span></em>, <em class="sig-param"><span class="n">steps</span></em>, <em class="sig-param"><span class="n">inverted</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#fifths2str"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.utils.fifths2str" title="Permalink to this definition">¶</a></dt>
<dd><p>Boiler plate used by fifths2-functions.</p>
</dd></dl>

<dl class="py function">
<dt id="ms3.utils.get_musescore">
<code class="sig-prename descclassname">ms3.utils.</code><code class="sig-name descname">get_musescore</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">MS</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#get_musescore"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.utils.get_musescore" title="Permalink to this definition">¶</a></dt>
<dd><p>Tests whether a MuseScore executable can be found on the system.
Uses: test_binary()</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>MS</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – A path to the executable, installed command, or one of the keywords {‘auto’, ‘win’, ‘mac’}</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Path to the executable if found or None.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="ms3.utils.group_id_tuples">
<code class="sig-prename descclassname">ms3.utils.</code><code class="sig-name descname">group_id_tuples</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">l</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#group_id_tuples"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.utils.group_id_tuples" title="Permalink to this definition">¶</a></dt>
<dd><p>Turns a list of (key, ix) into a {key: [ix]}</p>
</dd></dl>

<dl class="py function">
<dt id="ms3.utils.html2format">
<code class="sig-prename descclassname">ms3.utils.</code><code class="sig-name descname">html2format</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em>, <em class="sig-param"><span class="n">format</span><span class="o">=</span><span class="default_value">'name'</span></em>, <em class="sig-param"><span class="n">html_col</span><span class="o">=</span><span class="default_value">'color_html'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#html2format"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.utils.html2format" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts the HTML column of a DataFrame into ‘name’, ‘rgb , or ‘rgba’.</p>
</dd></dl>

<dl class="py function">
<dt id="ms3.utils.html_color2format">
<code class="sig-prename descclassname">ms3.utils.</code><code class="sig-name descname">html_color2format</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">h</span></em>, <em class="sig-param"><span class="n">format</span><span class="o">=</span><span class="default_value">'name'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#html_color2format"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.utils.html_color2format" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a single HTML color into ‘name’, ‘rgb’, or  ‘rgba’.</p>
</dd></dl>

<dl class="py function">
<dt id="ms3.utils.html_color2name">
<code class="sig-prename descclassname">ms3.utils.</code><code class="sig-name descname">html_color2name</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">h</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#html_color2name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.utils.html_color2name" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a HTML color into its CSS3 name or itself if there is none.</p>
</dd></dl>

<dl class="py function">
<dt id="ms3.utils.html_color2rgb">
<code class="sig-prename descclassname">ms3.utils.</code><code class="sig-name descname">html_color2rgb</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">h</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#html_color2rgb"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.utils.html_color2rgb" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a HTML color into RGB.</p>
</dd></dl>

<dl class="py function">
<dt id="ms3.utils.html_color2rgba">
<code class="sig-prename descclassname">ms3.utils.</code><code class="sig-name descname">html_color2rgba</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">h</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#html_color2rgba"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.utils.html_color2rgba" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a HTML color into RGBA.</p>
</dd></dl>

<dl class="py function">
<dt id="ms3.utils.is_any_row_equal">
<code class="sig-prename descclassname">ms3.utils.</code><code class="sig-name descname">is_any_row_equal</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df1</span></em>, <em class="sig-param"><span class="n">df2</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#is_any_row_equal"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.utils.is_any_row_equal" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True if any two rows of the two DataFrames contain the same value tuples.</p>
</dd></dl>

<dl class="py function">
<dt id="ms3.utils.is_minor_mode">
<code class="sig-prename descclassname">ms3.utils.</code><code class="sig-name descname">is_minor_mode</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fifths</span></em>, <em class="sig-param"><span class="n">minor</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#is_minor_mode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.utils.is_minor_mode" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True if the scale degree <cite>fifths</cite> naturally has a minor third in the scale.</p>
</dd></dl>

<dl class="py function">
<dt id="ms3.utils.join_tsvs">
<code class="sig-prename descclassname">ms3.utils.</code><code class="sig-name descname">join_tsvs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dfs</span></em>, <em class="sig-param"><span class="n">sort_cols</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#join_tsvs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.utils.join_tsvs" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs outer join on the passed DataFrames based on ‘mc’ and ‘mc_onset’, if any.
Uses: functools.reduce(), sort_cols(), sort_note_lists()</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dfs</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">Collection</span></code>) – Collection of DataFrames to join.</p></li>
<li><p><strong>sort_cols</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – If you pass True, the remaining columns (those that are not defined in the standard column order in the function
sort_cols) will be sorted.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="ms3.utils.load_tsv">
<code class="sig-prename descclassname">ms3.utils.</code><code class="sig-name descname">load_tsv</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path</span></em>, <em class="sig-param"><span class="n">index_col</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">sep</span><span class="o">=</span><span class="default_value">'\t'</span></em>, <em class="sig-param"><span class="n">converters</span><span class="o">=</span><span class="default_value">{}</span></em>, <em class="sig-param"><span class="n">dtypes</span><span class="o">=</span><span class="default_value">{}</span></em>, <em class="sig-param"><span class="n">stringtype</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#load_tsv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.utils.load_tsv" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads the TSV file <cite>path</cite> while applying correct type conversion and parsing tuples.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – Path to a TSV file as output by format_data().</p></li>
<li><p><strong>index_col</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#list" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a>, optional) – By default, the first two columns are loaded as MultiIndex.
The first level distinguishes pieces and the second level the elements within.</p></li>
<li><p><strong>converters</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#dict" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>, optional) – Enhances or overwrites the mapping from column names to types included the constants.</p></li>
<li><p><strong>dtypes</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#dict" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>, optional) – Enhances or overwrites the mapping from column names to types included the constants.</p></li>
<li><p><strong>stringtype</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – If you’re using pandas &gt;= 1.0.0 you might want to set this to True in order
to be using the new <cite>string</cite> datatype that includes the new null type <cite>pd.NA</cite>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="ms3.utils.make_continuous_offset">
<code class="sig-prename descclassname">ms3.utils.</code><code class="sig-name descname">make_continuous_offset</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">act_durs</span></em>, <em class="sig-param"><span class="n">quarters</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">negative_anacrusis</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#make_continuous_offset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.utils.make_continuous_offset" title="Permalink to this definition">¶</a></dt>
<dd><p>In order to compute continuous offset, this function is required to compute each MC’s offset from the
piece’s beginning.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>act_durs</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v1.3.3)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.Series</span></code></a>) – A series of actual measures durations as fractions of whole notes (might differ from time signature).</p></li>
<li><p><strong>quarters</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – By default, the continuous offsets are expressed in quarter notes. Pass false to leave them as fractions
of a whole note.</p></li>
<li><p><strong>negative_anacrusis</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/fractions.html#fractions.Fraction" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">fractions.Fraction</span></code></a>) – By default, the first value is 0. If you pass a fraction here, the first value will be its negative and the
second value will be 0.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Cumulative sum of the values, shifted down by 1.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v1.3.3)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.Series</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="ms3.utils.make_id_tuples">
<code class="sig-prename descclassname">ms3.utils.</code><code class="sig-name descname">make_id_tuples</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">key</span></em>, <em class="sig-param"><span class="n">n</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#make_id_tuples"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.utils.make_id_tuples" title="Permalink to this definition">¶</a></dt>
<dd><p>For a given key, this function return index tuples in the form [(key, 0), …, (key, n)]</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>indices in the form [(key, 0), …, (key, n)]</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#list" title="(in Python v3.8)">list</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="ms3.utils.map2elements">
<code class="sig-prename descclassname">ms3.utils.</code><code class="sig-name descname">map2elements</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">e</span></em>, <em class="sig-param"><span class="n">f</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#map2elements"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.utils.map2elements" title="Permalink to this definition">¶</a></dt>
<dd><p>If <cite>e</cite> is an iterable, <cite>f</cite> is applied to all elements.</p>
</dd></dl>

<dl class="py function">
<dt id="ms3.utils.merge_ties">
<code class="sig-prename descclassname">ms3.utils.</code><code class="sig-name descname">merge_ties</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em>, <em class="sig-param"><span class="n">return_dropped</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">perform_checks</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#merge_ties"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.utils.merge_ties" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>In a note list, merge tied notes to single events with accumulated durations.</dt><dd><p>Input dataframe needs columns [‘duration’, ‘tied’, ‘midi’, ‘staff’]. This
function does not handle correctly overlapping ties on the same pitch since
it doesn’t take into account the notational layers (‘voice’).</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> – </p></li>
<li><p><strong>return_dropped</strong> – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="ms3.utils.metadata2series">
<code class="sig-prename descclassname">ms3.utils.</code><code class="sig-name descname">metadata2series</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">d</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#metadata2series"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.utils.metadata2series" title="Permalink to this definition">¶</a></dt>
<dd><p>Turns a metadata dict into a pd.Series() (for storing in a DataFrame)
Uses: ambitus2oneliner(), dict2oneliner(), parts_info()</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A series allowing for storing metadata as a row of a DataFrame.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v1.3.3)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.Series</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="ms3.utils.midi2octave">
<code class="sig-prename descclassname">ms3.utils.</code><code class="sig-name descname">midi2octave</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">midi</span></em>, <em class="sig-param"><span class="n">fifths</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#midi2octave"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.utils.midi2octave" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>For a given MIDI pitch, calculate the octave. Middle octave = 4</dt><dd><p>Uses: fifths2pc(), map2elements()</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>midi</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>) – MIDI pitch (positive integer)</p></li>
<li><p><strong>tpc</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>, optional) – To be precise, for some Tonal Pitch Classes, the octave deviates
from the simple formula <code class="docutils literal notranslate"><span class="pre">MIDI</span> <span class="pre">//</span> <span class="pre">12</span> <span class="pre">-</span> <span class="pre">1</span></code>, e.g. for B# or Cb.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="ms3.utils.mn2int">
<code class="sig-prename descclassname">ms3.utils.</code><code class="sig-name descname">mn2int</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mn_series</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#mn2int"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.utils.mn2int" title="Permalink to this definition">¶</a></dt>
<dd><p>Turn a series of measure numbers parsed as strings into two integer columns ‘mn’ and ‘volta’.</p>
</dd></dl>

<dl class="py function">
<dt id="ms3.utils.name2format">
<code class="sig-prename descclassname">ms3.utils.</code><code class="sig-name descname">name2format</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em>, <em class="sig-param"><span class="n">format</span><span class="o">=</span><span class="default_value">'html'</span></em>, <em class="sig-param"><span class="n">name_col</span><span class="o">=</span><span class="default_value">'color_name'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#name2format"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.utils.name2format" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a column with CSS3 names into ‘html’, ‘rgb’, or  ‘rgba’.</p>
</dd></dl>

<dl class="py function">
<dt id="ms3.utils.name2fifths">
<code class="sig-prename descclassname">ms3.utils.</code><code class="sig-name descname">name2fifths</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">nn</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#name2fifths"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.utils.name2fifths" title="Permalink to this definition">¶</a></dt>
<dd><p>Turn a note name such as <cite>Ab</cite> into a tonal pitch class, such that -1=F, 0=C, 1=G etc.
Uses: split_note_name()</p>
</dd></dl>

<dl class="py function">
<dt id="ms3.utils.next2sequence">
<code class="sig-prename descclassname">ms3.utils.</code><code class="sig-name descname">next2sequence</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">nxt</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#next2sequence"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.utils.next2sequence" title="Permalink to this definition">¶</a></dt>
<dd><p>Turns a ‘next’ column into the correct sequence of MCs corresponding to unfolded repetitions.
Requires that the Series’ index be the MCs as in <code class="docutils literal notranslate"><span class="pre">measures.set_index('mc').next</span></code>.</p>
</dd></dl>

<dl class="py function">
<dt id="ms3.utils.no_collections_no_booleans">
<code class="sig-prename descclassname">ms3.utils.</code><code class="sig-name descname">no_collections_no_booleans</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em>, <em class="sig-param"><span class="n">coll_columns</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">bool_columns</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#no_collections_no_booleans"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.utils.no_collections_no_booleans" title="Permalink to this definition">¶</a></dt>
<dd><p>Cleans the DataFrame columns [‘next’, ‘chord_tones’, ‘added_tones’] from tuples and the columns
[‘globalkey_is_minor’, ‘localkey_is_minor’] from booleans, converting them all to integers</p>
</dd></dl>

<dl class="py function">
<dt id="ms3.utils.parts_info">
<code class="sig-prename descclassname">ms3.utils.</code><code class="sig-name descname">parts_info</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">d</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#parts_info"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.utils.parts_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Turns a (nested) <code class="docutils literal notranslate"><span class="pre">metadata['parts']</span></code> dict into a flat dict based on staves.</p>
<div class="admonition-example admonition">
<p class="admonition-title">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">mscx</span><span class="o">.</span><span class="n">metadata</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">parts_info</span><span class="p">(</span><span class="n">d</span><span class="p">[</span><span class="s1">&#39;parts&#39;</span><span class="p">])</span>
<span class="go">{&#39;staff_1_instrument&#39;: &#39;Voice&#39;,</span>
<span class="go"> &#39;staff_1_ambitus&#39;: &#39;66-76 (F#4-E5)&#39;,</span>
<span class="go"> &#39;staff_2_instrument&#39;: &#39;Voice&#39;,</span>
<span class="go"> &#39;staff_2_ambitus&#39;: &#39;55-69 (G3-A4)&#39;,</span>
<span class="go"> &#39;staff_3_instrument&#39;: &#39;Voice&#39;,</span>
<span class="go"> &#39;staff_3_ambitus&#39;: &#39;48-67 (C3-G4)&#39;,</span>
<span class="go"> &#39;staff_4_instrument&#39;: &#39;Voice&#39;,</span>
<span class="go"> &#39;staff_4_ambitus&#39;: &#39;41-60 (F2-C4)&#39;}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="py function">
<dt id="ms3.utils.pretty_dict">
<code class="sig-prename descclassname">ms3.utils.</code><code class="sig-name descname">pretty_dict</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">d</span></em>, <em class="sig-param"><span class="n">heading</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#pretty_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.utils.pretty_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Turns a dictionary into a string where the keys are printed in a column, separated by ‘-&gt;’.</p>
</dd></dl>

<dl class="py function">
<dt id="ms3.utils.resolve_dir">
<code class="sig-prename descclassname">ms3.utils.</code><code class="sig-name descname">resolve_dir</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">d</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#resolve_dir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.utils.resolve_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Resolves ‘~’ to HOME directory and turns <code class="docutils literal notranslate"><span class="pre">d</span></code> into an absolute path.</p>
</dd></dl>

<dl class="py function">
<dt id="ms3.utils.rgb2format">
<code class="sig-prename descclassname">ms3.utils.</code><code class="sig-name descname">rgb2format</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em>, <em class="sig-param"><span class="n">format</span><span class="o">=</span><span class="default_value">'html'</span></em>, <em class="sig-param"><span class="n">r_col</span><span class="o">=</span><span class="default_value">'color_r'</span></em>, <em class="sig-param"><span class="n">g_col</span><span class="o">=</span><span class="default_value">'color_g'</span></em>, <em class="sig-param"><span class="n">b_col</span><span class="o">=</span><span class="default_value">'color_b'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#rgb2format"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.utils.rgb2format" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts three RGB columns into a color_html or color_name column.</p>
</dd></dl>

<dl class="py function">
<dt id="ms3.utils.rgb_tuple2format">
<code class="sig-prename descclassname">ms3.utils.</code><code class="sig-name descname">rgb_tuple2format</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">t</span></em>, <em class="sig-param"><span class="n">format</span><span class="o">=</span><span class="default_value">'html'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#rgb_tuple2format"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.utils.rgb_tuple2format" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a single RGB tuple into ‘HTML’ or ‘name’.</p>
</dd></dl>

<dl class="py function">
<dt id="ms3.utils.rgb_tuple2html">
<code class="sig-prename descclassname">ms3.utils.</code><code class="sig-name descname">rgb_tuple2html</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">t</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#rgb_tuple2html"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.utils.rgb_tuple2html" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a single RGB tuple into HTML.</p>
</dd></dl>

<dl class="py function">
<dt id="ms3.utils.rgb_tuple2name">
<code class="sig-prename descclassname">ms3.utils.</code><code class="sig-name descname">rgb_tuple2name</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">t</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#rgb_tuple2name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.utils.rgb_tuple2name" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a single RGB tuple into its CSS3 name or to HTML if there is none.</p>
</dd></dl>

<dl class="py function">
<dt id="ms3.utils.roman_numeral2fifths">
<code class="sig-prename descclassname">ms3.utils.</code><code class="sig-name descname">roman_numeral2fifths</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">rn</span></em>, <em class="sig-param"><span class="n">global_minor</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#roman_numeral2fifths"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.utils.roman_numeral2fifths" title="Permalink to this definition">¶</a></dt>
<dd><p>Turn a Roman numeral into a TPC interval (e.g. for transposition purposes).
Uses: split_scale_degree()</p>
</dd></dl>

<dl class="py function">
<dt id="ms3.utils.roman_numeral2semitones">
<code class="sig-prename descclassname">ms3.utils.</code><code class="sig-name descname">roman_numeral2semitones</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">rn</span></em>, <em class="sig-param"><span class="n">global_minor</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#roman_numeral2semitones"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.utils.roman_numeral2semitones" title="Permalink to this definition">¶</a></dt>
<dd><p>Turn a Roman numeral into a semitone distance from the root (0-11).
Uses: split_scale_degree()</p>
</dd></dl>

<dl class="py function">
<dt id="ms3.utils.scan_directory">
<code class="sig-prename descclassname">ms3.utils.</code><code class="sig-name descname">scan_directory</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">directory</span></em>, <em class="sig-param"><span class="n">file_re</span><span class="o">=</span><span class="default_value">'.*'</span></em>, <em class="sig-param"><span class="n">folder_re</span><span class="o">=</span><span class="default_value">'.*'</span></em>, <em class="sig-param"><span class="n">exclude_re</span><span class="o">=</span><span class="default_value">'^(\\.|_)'</span></em>, <em class="sig-param"><span class="n">recursive</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">subdirs</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">progress</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">exclude_files_only</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#scan_directory"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.utils.scan_directory" title="Permalink to this definition">¶</a></dt>
<dd><p>Generator of file names in <code class="docutils literal notranslate"><span class="pre">directory</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dir</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – Directory to be scanned for files.</p></li>
<li><p><strong>file_re</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a> or <code class="xref py py-obj docutils literal notranslate"><span class="pre">re.Pattern</span></code>, optional) – Regular expressions for filtering certain file names or folder names.
The regEx are checked with search(), not match(), allowing for fuzzy search.</p></li>
<li><p><strong>folder_re</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a> or <code class="xref py py-obj docutils literal notranslate"><span class="pre">re.Pattern</span></code>, optional) – Regular expressions for filtering certain file names or folder names.
The regEx are checked with search(), not match(), allowing for fuzzy search.</p></li>
<li><p><strong>recursive</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – By default, sub-directories are recursively scanned. Pass False to scan only <code class="docutils literal notranslate"><span class="pre">dir</span></code>.</p></li>
<li><p><strong>subdirs</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – By default, full file paths are returned. Pass True to return (path, name) tuples instead.</p></li>
<li><p><strong>progress</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – By default, the scanning process is shown. Pass False to prevent.</p></li>
<li><p><strong>exclude_files_only</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – By default, <code class="docutils literal notranslate"><span class="pre">exclude_re</span></code> excludes files and folder. Pass True to exclude only files matching the regEx.</p></li>
</ul>
</dd>
<dt class="field-even">Yields</dt>
<dd class="field-even"><p><em>list</em> – List of full paths meeting the criteria.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="ms3.utils.column_order">
<code class="sig-prename descclassname">ms3.utils.</code><code class="sig-name descname">column_order</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em>, <em class="sig-param"><span class="n">first_cols</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">sort</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#column_order"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.utils.column_order" title="Permalink to this definition">¶</a></dt>
<dd><p>Sort DataFrame columns so that they start with the order of <code class="docutils literal notranslate"><span class="pre">first_cols</span></code>, followed by those not included.</p>
</dd></dl>

<dl class="py function">
<dt id="ms3.utils.sort_note_list">
<code class="sig-prename descclassname">ms3.utils.</code><code class="sig-name descname">sort_note_list</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em>, <em class="sig-param"><span class="n">mc_col</span><span class="o">=</span><span class="default_value">'mc'</span></em>, <em class="sig-param"><span class="n">mc_onset_col</span><span class="o">=</span><span class="default_value">'mc_onset'</span></em>, <em class="sig-param"><span class="n">midi_col</span><span class="o">=</span><span class="default_value">'midi'</span></em>, <em class="sig-param"><span class="n">duration_col</span><span class="o">=</span><span class="default_value">'duration'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#sort_note_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.utils.sort_note_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Sort every measure (MC) by [‘mc_onset’, ‘midi’, ‘duration’] while leaving gracenotes’ order (duration=0) intact.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> – </p></li>
<li><p><strong>mc_col</strong> – </p></li>
<li><p><strong>mc_onset_col</strong> – </p></li>
<li><p><strong>midi_col</strong> – </p></li>
<li><p><strong>duration_col</strong> – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="ms3.utils.sort_tpcs">
<code class="sig-prename descclassname">ms3.utils.</code><code class="sig-name descname">sort_tpcs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tpcs</span></em>, <em class="sig-param"><span class="n">ascending</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">start</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#sort_tpcs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.utils.sort_tpcs" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Sort tonal pitch classes by order on the piano.</dt><dd><p>Uses: fifths2pc()</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tpcs</strong> (collection of <a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>) – Tonal pitch classes to sort.</p></li>
<li><p><strong>ascending</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Pass False to sort by descending order.</p></li>
<li><p><strong>start</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>, optional) – Start on or above this TPC.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="ms3.utils.split_alternatives">
<code class="sig-prename descclassname">ms3.utils.</code><code class="sig-name descname">split_alternatives</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em>, <em class="sig-param"><span class="n">column</span><span class="o">=</span><span class="default_value">'label'</span></em>, <em class="sig-param"><span class="n">regex</span><span class="o">=</span><span class="default_value">'-(?!(\\d|b+\\d|\\#+\\d))'</span></em>, <em class="sig-param"><span class="n">max</span><span class="o">=</span><span class="default_value">2</span></em>, <em class="sig-param"><span class="n">inplace</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">alternatives_only</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#split_alternatives"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.utils.split_alternatives" title="Permalink to this definition">¶</a></dt>
<dd><p>Splits labels that come with an alternative separated by ‘-‘ and adds
a new column. Only one alternative is taken into account. <cite>df</cite> is
mutated inplace.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.3.3)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – Dataframe where one column contains DCML chord labels.</p></li>
<li><p><strong>column</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – Name of the column that holds the harmony labels.</p></li>
<li><p><strong>regex</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – The regular expression (or simple string) that detects the character combination used to separate alternative annotations.
By default, alternatives are separated by a ‘-‘ that does not precede a scale degree such as ‘b6’ or ‘3’.</p></li>
<li><p><strong>max</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>, optional) – Maximum number of admitted alternatives, defaults to 2.</p></li>
<li><p><strong>inplace</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Pass True if you want to mutate <code class="docutils literal notranslate"><span class="pre">df</span></code>.</p></li>
<li><p><strong>alternatives_only</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – By default the alternatives are added to the original DataFrame (<code class="docutils literal notranslate"><span class="pre">inplace</span></code> or not).
Pass True if you just need the split alternatives.</p></li>
</ul>
</dd>
</dl>
<div class="admonition-example admonition">
<p class="admonition-title">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">labels</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;labels.csv&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">split_alternatives</span><span class="p">(</span><span class="n">labels</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="py function">
<dt id="ms3.utils.split_note_name">
<code class="sig-prename descclassname">ms3.utils.</code><code class="sig-name descname">split_note_name</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">nn</span></em>, <em class="sig-param"><span class="n">count</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#split_note_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.utils.split_note_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Splits a note name such as ‘Ab’ into accidentals and name.</p>
<dl>
<dt>nn<span class="classifier"><a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a></span></dt><dd><p>Note name.</p>
</dd>
<dt>count<span class="classifier"><a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional</span></dt><dd><p>Pass True to get the accidentals as integer rather than as string.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="ms3.utils.split_scale_degree">
<code class="sig-prename descclassname">ms3.utils.</code><code class="sig-name descname">split_scale_degree</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sd</span></em>, <em class="sig-param"><span class="n">count</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#split_scale_degree"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.utils.split_scale_degree" title="Permalink to this definition">¶</a></dt>
<dd><p>Splits a scale degree such as ‘bbVI’ or ‘b6’ into accidentals and numeral.</p>
<dl>
<dt>sd<span class="classifier"><a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a></span></dt><dd><p>Scale degree.</p>
</dd>
<dt>count<span class="classifier"><a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional</span></dt><dd><p>Pass True to get the accidentals as integer rather than as string.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="ms3.utils.chunkstring">
<code class="sig-prename descclassname">ms3.utils.</code><code class="sig-name descname">chunkstring</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">string</span></em>, <em class="sig-param"><span class="n">length</span><span class="o">=</span><span class="default_value">80</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#chunkstring"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.utils.chunkstring" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate chunks of a given length</p>
</dd></dl>

<dl class="py function">
<dt id="ms3.utils.string2lines">
<code class="sig-prename descclassname">ms3.utils.</code><code class="sig-name descname">string2lines</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">string</span></em>, <em class="sig-param"><span class="n">length</span><span class="o">=</span><span class="default_value">80</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#string2lines"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.utils.string2lines" title="Permalink to this definition">¶</a></dt>
<dd><p>Use chunkstring() and make chunks into lines.</p>
</dd></dl>

<dl class="py function">
<dt id="ms3.utils.transform">
<code class="sig-prename descclassname">ms3.utils.</code><code class="sig-name descname">transform</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em>, <em class="sig-param"><span class="n">func</span></em>, <em class="sig-param"><span class="n">param2col</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">column_wise</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#transform"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.utils.transform" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Compute a function for every row of a DataFrame, using several cols as arguments.</dt><dd><p>The result is the same as using df.apply(lambda r: func(param1=r.col1, param2=r.col2…), axis=1)
but it optimizes the procedure by precomputing <cite>func</cite> for all occurrent parameter combinations.
Uses: inspect.getfullargspec()</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.3.3)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a> or <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v1.3.3)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.Series</span></code></a>) – Dataframe containing function parameters.</p></li>
<li><p><strong>func</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#callable" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">callable</span></code></a>) – The result of this function for every row will be returned.</p></li>
<li><p><strong>param2col</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#dict" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a> or <a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#list" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a>, optional) – Mapping from parameter names of <cite>func</cite> to column names.
If you pass a list of column names, the columns’ values are passed as positional arguments.
Pass None if you want to use all columns as positional arguments.</p></li>
<li><p><strong>column_wise</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Pass True if you want to map <code class="docutils literal notranslate"><span class="pre">func</span></code> to the elements of every column separately.
This is simply an optimized version of df.apply(func) but allows for naming
columns to use as function arguments. If param2col is None, <code class="docutils literal notranslate"><span class="pre">func</span></code> is mapped
to the elements of all columns, otherwise to all columns that are not named
as parameters in <code class="docutils literal notranslate"><span class="pre">param2col</span></code>.
In the case where <code class="docutils literal notranslate"><span class="pre">func</span></code> does not require a positional first element and
you want to pass the elements of the various columns as keyword argument,
give it as param2col={‘function_argument’: None}</p></li>
<li><p><strong>inplace</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Pass True if you want to mutate <code class="docutils literal notranslate"><span class="pre">df</span></code> rather than getting an altered copy.</p></li>
<li><p><strong>**kwargs</strong> (Other parameters passed to <code class="docutils literal notranslate"><span class="pre">func</span></code>.) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="ms3.utils.unfold_repeats">
<code class="sig-prename descclassname">ms3.utils.</code><code class="sig-name descname">unfold_repeats</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em>, <em class="sig-param"><span class="n">mc_sequence</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#unfold_repeats"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.utils.unfold_repeats" title="Permalink to this definition">¶</a></dt>
<dd><p>Use a succesion of MCs to bring a DataFrame in this succession. MCs may repeat.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.3.3)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – DataFrame needs to have the columns ‘mc’ and ‘mn’.</p></li>
<li><p><strong>mc_sequence</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v1.3.3)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.Series</span></code></a>) – A Series of the format <code class="docutils literal notranslate"><span class="pre">{mc_playthrough:</span> <span class="pre">mc}</span></code> where <code class="docutils literal notranslate"><span class="pre">mc_playthrough</span></code> corresponds
to continuous MC</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="ms3.utils.abs2rel_key">
<code class="sig-prename descclassname">ms3.utils.</code><code class="sig-name descname">abs2rel_key</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">absolute</span></em>, <em class="sig-param"><span class="n">localkey</span></em>, <em class="sig-param"><span class="n">global_minor</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#abs2rel_key"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.utils.abs2rel_key" title="Permalink to this definition">¶</a></dt>
<dd><p>Expresses a Roman numeral as scale degree relative to a given localkey.
The result changes depending on whether Roman numeral and localkey are
interpreted within a global major or minor key.</p>
<p>Uses: <a class="reference internal" href="#ms3.utils.split_scale_degree" title="ms3.utils.split_scale_degree"><code class="xref py py-func docutils literal notranslate"><span class="pre">split_scale_degree()</span></code></a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>absolute</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – Relative key expressed as Roman scale degree of the local key.</p></li>
<li><p><strong>localkey</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – The local key in terms of which <cite>absolute</cite> will be expressed.</p></li>
<li><p><strong>global_minor</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Has to be set to True if <cite>absolute</cite> and <cite>localkey</cite> are scale degrees of a global minor key.</p></li>
</ul>
</dd>
</dl>
<div class="admonition-examples admonition">
<p class="admonition-title">Examples</p>
<p>In a minor context, the key of II would appear within the key of vii as #III.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">abs2rel_key</span><span class="p">(</span><span class="s1">&#39;iv&#39;</span><span class="p">,</span> <span class="s1">&#39;VI&#39;</span><span class="p">,</span> <span class="n">global_minor</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">&#39;bvi&#39;       # F minor expressed with respect to A major</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abs2rel_key</span><span class="p">(</span><span class="s1">&#39;iv&#39;</span><span class="p">,</span> <span class="s1">&#39;vi&#39;</span><span class="p">,</span> <span class="n">global_minor</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">&#39;vi&#39;        # F minor expressed with respect to A minor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abs2rel_key</span><span class="p">(</span><span class="s1">&#39;iv&#39;</span><span class="p">,</span> <span class="s1">&#39;VI&#39;</span><span class="p">,</span> <span class="n">global_minor</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">&#39;vi&#39;        # F minor expressed with respect to Ab major</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abs2rel_key</span><span class="p">(</span><span class="s1">&#39;iv&#39;</span><span class="p">,</span> <span class="s1">&#39;vi&#39;</span><span class="p">,</span> <span class="n">global_minor</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">&#39;#vi&#39;       # F minor expressed with respect to Ab minor</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">abs2rel_key</span><span class="p">(</span><span class="s1">&#39;VI&#39;</span><span class="p">,</span> <span class="s1">&#39;IV&#39;</span><span class="p">,</span> <span class="n">global_minor</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">&#39;III&#39;       # A major expressed with respect to F major</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abs2rel_key</span><span class="p">(</span><span class="s1">&#39;VI&#39;</span><span class="p">,</span> <span class="s1">&#39;iv&#39;</span><span class="p">,</span> <span class="n">global_minor</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">&#39;#III&#39;       # A major expressed with respect to F minor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abs2rel_key</span><span class="p">(</span><span class="s1">&#39;VI&#39;</span><span class="p">,</span> <span class="s1">&#39;IV&#39;</span><span class="p">,</span> <span class="n">global_minor</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">&#39;bIII&#39;       # Ab major expressed with respect to F major</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abs2rel_key</span><span class="p">(</span><span class="s1">&#39;VI&#39;</span><span class="p">,</span> <span class="s1">&#39;iv&#39;</span><span class="p">,</span> <span class="n">global_minor</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">&#39;III&#39;       # Ab major expressed with respect to F minor</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="py function">
<dt id="ms3.utils.rel2abs_key">
<code class="sig-prename descclassname">ms3.utils.</code><code class="sig-name descname">rel2abs_key</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">rel</span></em>, <em class="sig-param"><span class="n">localkey</span></em>, <em class="sig-param"><span class="n">global_minor</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#rel2abs_key"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.utils.rel2abs_key" title="Permalink to this definition">¶</a></dt>
<dd><p>Expresses a Roman numeral that is expressed relative to a localkey
as scale degree of the global key. For local keys {III, iii, VI, vi, VII, vii}
the result changes depending on whether the global key is major or minor.</p>
<p>Uses: <a class="reference internal" href="#ms3.utils.split_scale_degree" title="ms3.utils.split_scale_degree"><code class="xref py py-func docutils literal notranslate"><span class="pre">split_scale_degree()</span></code></a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rel</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – Relative key or chord expressed as Roman scale degree of the local key.</p></li>
<li><p><strong>localkey</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – The local key to which <cite>rel</cite> is relative.</p></li>
<li><p><strong>global_minor</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Has to be set to True if <cite>localkey</cite> is a scale degree of a global minor key.</p></li>
</ul>
</dd>
</dl>
<div class="admonition-examples admonition">
<p class="admonition-title">Examples</p>
<p>If the label viio6/VI appears in the context of the local key VI or vi,
viio6 the absolute key to which viio6 applies depends on the global key.
The comments express the examples in relation to global C major or C minor.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">rel2abs_key</span><span class="p">(</span><span class="s1">&#39;vi&#39;</span><span class="p">,</span> <span class="s1">&#39;VI&#39;</span><span class="p">,</span> <span class="n">global_minor</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">&#39;#iv&#39;       # vi of A major = F# minor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rel2abs_key</span><span class="p">(</span><span class="s1">&#39;vi&#39;</span><span class="p">,</span> <span class="s1">&#39;vi&#39;</span><span class="p">,</span> <span class="n">global_minor</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">&#39;iv&#39;        # vi of A minor = F minor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rel2abs_key</span><span class="p">(</span><span class="s1">&#39;vi&#39;</span><span class="p">,</span> <span class="s1">&#39;VI&#39;</span><span class="p">,</span> <span class="n">global_minor</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">&#39;iv&#39;        # vi of Ab major = F minor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rel2abs_key</span><span class="p">(</span><span class="s1">&#39;vi&#39;</span><span class="p">,</span> <span class="s1">&#39;vi&#39;</span><span class="p">,</span> <span class="n">global_minor</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">&#39;biv&#39;       # vi of Ab minor = Fb minor</span>
</pre></div>
</div>
<p>The same examples hold if you’re expressing in terms of the global key
the root of a VI-chord within the local keys VI or vi.</p>
</div>
</dd></dl>

<dl class="py function">
<dt id="ms3.utils.labels2global_tonic">
<code class="sig-prename descclassname">ms3.utils.</code><code class="sig-name descname">labels2global_tonic</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em>, <em class="sig-param"><span class="n">cols</span><span class="o">=</span><span class="default_value">{}</span></em>, <em class="sig-param"><span class="n">inplace</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#labels2global_tonic"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.utils.labels2global_tonic" title="Permalink to this definition">¶</a></dt>
<dd><p>Transposes all numerals to their position in the global major or minor scale.
This eliminates localkeys and relativeroots. The resulting chords are defined
by [<cite>numeral</cite>, <cite>figbass</cite>, <cite>changes</cite>, <cite>globalkey_is_minor</cite>] (and <cite>pedal</cite>).</p>
<p>Uses: <a class="reference internal" href="#ms3.utils.transform" title="ms3.utils.transform"><code class="xref py py-func docutils literal notranslate"><span class="pre">transform()</span></code></a>, <code class="xref py py-func docutils literal notranslate"><span class="pre">rel2abs_key^,</span> <span class="pre">:py:func:`resolve_relative_keys()</span></code> -&gt; <a class="reference internal" href="#ms3.utils.str_is_minor" title="ms3.utils.str_is_minor"><code class="xref py py-func docutils literal notranslate"><span class="pre">str_is_minor()</span></code></a>
<a class="reference internal" href="#ms3.utils.transpose_changes" title="ms3.utils.transpose_changes"><code class="xref py py-func docutils literal notranslate"><span class="pre">transpose_changes()</span></code></a>, <a class="reference internal" href="#ms3.utils.series_is_minor" title="ms3.utils.series_is_minor"><code class="xref py py-func docutils literal notranslate"><span class="pre">series_is_minor()</span></code></a>,</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.3.3)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – Dataframe containing DCML chord labels that have been split by split_labels()
and where the keys have been propagated using propagate_keys(add_bool=True).</p></li>
<li><p><strong>cols</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#dict" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>, optional) – <p>In case the column names for <code class="docutils literal notranslate"><span class="pre">['numeral',</span> <span class="pre">'form',</span> <span class="pre">'figbass',</span> <span class="pre">'changes',</span> <span class="pre">'relativeroot',</span> <span class="pre">'localkey',</span> <span class="pre">'globalkey']</span></code> deviate, pass a dict, such as</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s1">&#39;chord&#39;</span><span class="p">:</span>           <span class="s1">&#39;chord_col_name&#39;</span>
 <span class="s1">&#39;pedal&#39;</span><span class="p">:</span>           <span class="s1">&#39;pedal_col_name&#39;</span><span class="p">,</span>
 <span class="s1">&#39;numeral&#39;</span><span class="p">:</span>         <span class="s1">&#39;numeral_col_name&#39;</span><span class="p">,</span>
 <span class="s1">&#39;form&#39;</span><span class="p">:</span>            <span class="s1">&#39;form_col_name&#39;</span><span class="p">,</span>
 <span class="s1">&#39;figbass&#39;</span><span class="p">:</span>         <span class="s1">&#39;figbass_col_name&#39;</span><span class="p">,</span>
 <span class="s1">&#39;changes&#39;</span><span class="p">:</span>         <span class="s1">&#39;changes_col_name&#39;</span><span class="p">,</span>
 <span class="s1">&#39;relativeroot&#39;</span><span class="p">:</span>    <span class="s1">&#39;relativeroot_col_name&#39;</span><span class="p">,</span>
 <span class="s1">&#39;localkey&#39;</span><span class="p">:</span>        <span class="s1">&#39;localkey_col_name&#39;</span><span class="p">,</span>
 <span class="s1">&#39;globalkey&#39;</span><span class="p">:</span>       <span class="s1">&#39;globalkey_col_name&#39;</span><span class="p">}}</span>
</pre></div>
</div>
</p></li>
<li><p><strong>inplace</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Pass True if you want to mutate the input.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>If <cite>inplace=False</cite>, the relevant features of the transposed chords are returned.
Otherwise, the original DataFrame is mutated.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.3.3)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="ms3.utils.series_is_minor">
<code class="sig-prename descclassname">ms3.utils.</code><code class="sig-name descname">series_is_minor</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">S</span></em>, <em class="sig-param"><span class="n">is_name</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#series_is_minor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.utils.series_is_minor" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns boolean Series where every value in <code class="docutils literal notranslate"><span class="pre">S</span></code> representing a minor key/chord is True.</p>
</dd></dl>

<dl class="py function">
<dt id="ms3.utils.resolve_relative_keys">
<code class="sig-prename descclassname">ms3.utils.</code><code class="sig-name descname">resolve_relative_keys</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">relativeroot</span></em>, <em class="sig-param"><span class="n">minor</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#resolve_relative_keys"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.utils.resolve_relative_keys" title="Permalink to this definition">¶</a></dt>
<dd><p>Resolve nested relative keys, e.g. ‘V/V/V’ =&gt; ‘VI’.</p>
<p>Uses: <a class="reference internal" href="#ms3.utils.rel2abs_key" title="ms3.utils.rel2abs_key"><code class="xref py py-func docutils literal notranslate"><span class="pre">rel2abs_key()</span></code></a>, <a class="reference internal" href="#ms3.utils.str_is_minor" title="ms3.utils.str_is_minor"><code class="xref py py-func docutils literal notranslate"><span class="pre">str_is_minor()</span></code></a></p>
<dl>
<dt>relativeroot<span class="classifier"><a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a></span></dt><dd><p>One or several relative keys, e.g. iv/v/VI (fourth scale degree of the fifth scale degree of the sixth scale degree)</p>
</dd>
<dt>minor<span class="classifier"><a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional</span></dt><dd><p>Pass True if the last of the relative keys is to be interpreted within a minor context.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="ms3.utils.transpose_changes">
<code class="sig-prename descclassname">ms3.utils.</code><code class="sig-name descname">transpose_changes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">changes</span></em>, <em class="sig-param"><span class="n">old_num</span></em>, <em class="sig-param"><span class="n">new_num</span></em>, <em class="sig-param"><span class="n">old_minor</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">new_minor</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#transpose_changes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.utils.transpose_changes" title="Permalink to this definition">¶</a></dt>
<dd><p>Since the interval sizes expressed by the changes of the DCML harmony syntax
depend on the numeral’s position in the scale, these may change if the numeral
is transposed. This function expresses the same changes for the new position.
Chord tone alterations (of 3 and 5) stay untouched.</p>
<p>Uses: <a class="reference internal" href="#ms3.utils.changes2tpc" title="ms3.utils.changes2tpc"><code class="xref py py-func docutils literal notranslate"><span class="pre">changes2tpc()</span></code></a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>changes</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – A string of changes following the DCML harmony standard.</p></li>
<li><p><strong>old_num</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>:) – Old numeral, new numeral.</p></li>
<li><p><strong>new_num</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>:) – Old numeral, new numeral.</p></li>
<li><p><strong>old_minor</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – For each numeral, pass True if it occurs in a minor context.</p></li>
<li><p><strong>new_minor</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – For each numeral, pass True if it occurs in a minor context.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="ms3.utils.str_is_minor">
<code class="sig-prename descclassname">ms3.utils.</code><code class="sig-name descname">str_is_minor</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tone</span></em>, <em class="sig-param"><span class="n">is_name</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#str_is_minor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.utils.str_is_minor" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True if <code class="docutils literal notranslate"><span class="pre">tone</span></code> represents a minor key or chord.</p>
</dd></dl>

<dl class="py function">
<dt id="ms3.utils.changes2tpc">
<code class="sig-prename descclassname">ms3.utils.</code><code class="sig-name descname">changes2tpc</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">changes</span></em>, <em class="sig-param"><span class="n">numeral</span></em>, <em class="sig-param"><span class="n">minor</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">root_alterations</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#changes2tpc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.utils.changes2tpc" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a numeral and changes, computes the intervals that the changes represent.
Changes do not express absolute intervals but instead depend on the numeral and the mode.</p>
<p>Uses: split_scale_degree(), changes2list()</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>changes</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – A string of changes following the DCML harmony standard.</p></li>
<li><p><strong>numeral</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – Roman numeral. If it is preceded by accidentals, it depends on the parameter
<cite>root_alterations</cite> whether these are taken into account.</p></li>
<li><p><strong>minor</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Set to true if the <cite>numeral</cite> occurs in a minor context.</p></li>
<li><p><strong>root_alterations</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Set to True if accidentals of the root should change the result.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="ms3.utils.changes2list">
<code class="sig-prename descclassname">ms3.utils.</code><code class="sig-name descname">changes2list</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">changes</span></em>, <em class="sig-param"><span class="n">sort</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/utils.html#changes2list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms3.utils.changes2list" title="Permalink to this definition">¶</a></dt>
<dd><p>Splits a string of changes into a list of 4-tuples.</p>
<div class="admonition-example admonition">
<p class="admonition-title">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">changes2list</span><span class="p">(</span><span class="s1">&#39;+#7b5&#39;</span><span class="p">)</span>
<span class="go">[(&#39;+#7&#39;, &#39;+&#39;, &#39;#&#39;, &#39;7&#39;),</span>
<span class="go"> (&#39;b5&#39;,  &#39;&#39;,  &#39;b&#39;, &#39;5&#39;)]</span>
</pre></div>
</div>
</div>
</dd></dl>

</div>
<div class="section" id="the-commandline-interface">
<span id="cli-doc"></span><h2>The commandline interface<a class="headerlink" href="#the-commandline-interface" title="Permalink to this headline">¶</a></h2>
<p><div class="line-block">
<div class="line">Welcome to ms3 parsing |</div>
</div>
<p>The library offers you the following commands. Add the flag -h to one of them to learn about its parameters.</p>
</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">usage</span><span class="p">:</span> <span class="n">ms3</span> <span class="p">[</span><span class="o">-</span><span class="n">h</span><span class="p">]</span> <span class="p">{</span><span class="n">extract</span><span class="p">,</span><span class="n">check</span><span class="p">,</span><span class="n">compare</span><span class="p">,</span><span class="n">convert</span><span class="p">,</span><span class="n">metadata</span><span class="p">,</span><span class="n">repair</span><span class="p">,</span><span class="n">update</span><span class="p">}</span> <span class="o">...</span>
</pre></div>
</div>
<div class="section" id="Positional Arguments">
<h3>Positional Arguments<a class="headerlink" href="#Positional Arguments" title="Permalink to this headline">¶</a></h3>
<dl class="option-list">
<dt><kbd>action</kbd></dt>
<dd><p>Possible choices: extract, check, compare, convert, metadata, repair, update</p>
<p>The action that you want to perform.</p>
</dd>
</dl>
</div>
<div class="section" id="Sub-commands:">
<h3>Sub-commands:<a class="headerlink" href="#Sub-commands:" title="Permalink to this headline">¶</a></h3>
<div class="section" id="extract">
<h4>extract<a class="headerlink" href="#extract" title="Permalink to this headline">¶</a></h4>
<p>Extract selected information from MuseScore files and store it in TSV files.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ms3</span> <span class="n">extract</span> <span class="p">[</span><span class="o">-</span><span class="n">h</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">d</span> <span class="n">DIR</span> <span class="p">[</span><span class="n">DIR</span> <span class="o">...</span><span class="p">]]</span> <span class="p">[</span><span class="o">-</span><span class="n">n</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">f</span> <span class="n">PATHs</span> <span class="p">[</span><span class="n">PATHs</span> <span class="o">...</span><span class="p">]]</span> <span class="p">[</span><span class="o">-</span><span class="n">o</span> <span class="n">OUT_DIR</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">r</span> <span class="n">REGEX</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">e</span> <span class="n">regex</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">l</span> <span class="p">{</span><span class="n">c</span><span class="p">,</span> <span class="n">e</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">d</span><span class="p">}]</span> <span class="p">[</span><span class="o">-</span><span class="n">M</span> <span class="p">[</span><span class="n">folder</span><span class="p">]]</span> <span class="p">[</span><span class="o">-</span><span class="n">N</span> <span class="p">[</span><span class="n">folder</span><span class="p">]]</span>
            <span class="p">[</span><span class="o">-</span><span class="n">R</span> <span class="p">[</span><span class="n">folder</span><span class="p">]]</span> <span class="p">[</span><span class="o">-</span><span class="n">L</span> <span class="p">[</span><span class="n">folder</span><span class="p">]]</span> <span class="p">[</span><span class="o">-</span><span class="n">X</span> <span class="p">[</span><span class="n">folder</span><span class="p">]]</span> <span class="p">[</span><span class="o">-</span><span class="n">E</span> <span class="p">[</span><span class="n">folder</span><span class="p">]]</span> <span class="p">[</span><span class="o">-</span><span class="n">C</span> <span class="p">[</span><span class="n">folder</span><span class="p">]]</span> <span class="p">[</span><span class="o">-</span><span class="n">D</span> <span class="p">[</span><span class="n">path</span><span class="p">]]</span> <span class="p">[</span><span class="o">-</span><span class="n">s</span> <span class="p">[</span><span class="n">SUFFIX</span> <span class="p">[</span><span class="n">SUFFIX</span> <span class="o">...</span><span class="p">]]]</span> <span class="p">[</span><span class="o">-</span><span class="n">m</span> <span class="n">MUSESCORE</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">t</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">p</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">raw</span><span class="p">]</span>
            <span class="p">[</span><span class="o">-</span><span class="n">u</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">q</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">logfile</span> <span class="n">file</span> <span class="n">path</span> <span class="ow">or</span> <span class="n">file</span> <span class="n">name</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">logpath</span> <span class="p">[</span><span class="n">LOGPATH</span><span class="p">]]</span>
</pre></div>
</div>
<div class="section" id="Named Arguments">
<h5>Named Arguments<a class="headerlink" href="#Named Arguments" title="Permalink to this headline">¶</a></h5>
<dl class="option-list">
<dt><kbd>-d, --dir</kbd></dt>
<dd><p>Folder(s) that will be scanned for input files. Defaults to current working directory if no individual files are passed via -f.</p>
</dd>
<dt><kbd>-n, --nonrecursive</kbd></dt>
<dd><p>Don’t scan folders recursively, i.e. parse only files in DIR.</p>
<p>Default: True</p>
</dd>
<dt><kbd>-f, --file</kbd></dt>
<dd><p>Add path(s) of individual file(s) to be checked.</p>
</dd>
<dt><kbd>-o, --out</kbd></dt>
<dd><p>Output directory. Subfolder trees are retained.</p>
</dd>
<dt><kbd>-r, --regex</kbd></dt>
<dd><p>Select only file names including this string or regular expression. Defaults to MSCX, MSCZ and TSV files only.</p>
<p>Default: “(.mscx|.mscz|.tsv)$”</p>
</dd>
<dt><kbd>-e, --exclude</kbd></dt>
<dd><p>Any files or folders (and their subfolders) including this regex will be disregarded.By default, files including ‘_reviewed’ or starting with . or _ are excluded.</p>
<p>Default: “(^(.|_)|_reviewed)”</p>
</dd>
<dt><kbd>-l, --level</kbd></dt>
<dd><p>Choose how many log messages you want to see: c (none), e, w, i, d (maximum)</p>
<p>Default: “i”</p>
</dd>
<dt><kbd>-M, --measures</kbd></dt>
<dd><p>Folder where to store TSV files with measure information needed for tasks such as unfolding repetitions.</p>
</dd>
<dt><kbd>-N, --notes</kbd></dt>
<dd><p>Folder where to store TSV files with information on all notes.</p>
</dd>
<dt><kbd>-R, --rests</kbd></dt>
<dd><p>Folder where to store TSV files with information on all rests.</p>
</dd>
<dt><kbd>-L, --labels</kbd></dt>
<dd><p>Folder where to store TSV files with information on all annotation labels.</p>
</dd>
<dt><kbd>-X, --expanded</kbd></dt>
<dd><p>Folder where to store TSV files with expanded DCML labels.</p>
</dd>
<dt><kbd>-E, --events</kbd></dt>
<dd><p>Folder where to store TSV files with all events (notes, rests, articulation, etc.) without further processing.</p>
</dd>
<dt><kbd>-C, --chords</kbd></dt>
<dd><p>Folder where to store TSV files with &lt;chord&gt; tags, i.e. groups of notes in the same voice with identical onset and duration. The tables include lyrics, slurs, and other markup.</p>
</dd>
<dt><kbd>-D, --metadata</kbd></dt>
<dd><p>Directory or full path for storing one TSV file with metadata. If no filename is included in the path, it is called metadata.tsv</p>
</dd>
<dt><kbd>-s, --suffix</kbd></dt>
<dd><p>Pass -s to use standard suffixes or -s SUFFIX to choose your own.</p>
</dd>
<dt><kbd>-m, --musescore</kbd></dt>
<dd><p>Command or path of MuseScore executable. Defaults to ‘auto’ (attempt to use standard path for your system).
Other standard options are -m win, -m mac, and -m mscore (for Linux).</p>
<p>Default: “auto”</p>
</dd>
<dt><kbd>-t, --test</kbd></dt>
<dd><p>No data is written to disk.</p>
<p>Default: False</p>
</dd>
<dt><kbd>-p, --positioning</kbd></dt>
<dd><p>When extracting labels, include manually shifted position coordinates in order to restore them when re-inserting.</p>
<p>Default: False</p>
</dd>
<dt><kbd>--raw</kbd></dt>
<dd><p>When extracting labels, leave chord symbols encoded instead of turning them into a single column of strings.</p>
<p>Default: True</p>
</dd>
<dt><kbd>-u, --unfold</kbd></dt>
<dd><p>Unfold the repeats for all stored DataFrames.</p>
<p>Default: False</p>
</dd>
<dt><kbd>-q, --quarterbeats</kbd></dt>
<dd><p>Add a column with continuous quarterbeat positions. If a score as first and second endings, the behaviour depends onthe parameter –unfold: If it is not set, repetitions are not unfolded and only last endings are included in the continuouscount. If repetitions are being unfolded, all endings are taken into account.</p>
<p>Default: False</p>
</dd>
<dt><kbd>--logfile</kbd></dt>
<dd><p>Either pass an absolute file path to store all logging data in that particular file
or pass just a file name and the argument –logpath to create several log files of the same name in a replicated folder structure.
In the former case, –logpath will be disregarded.</p>
</dd>
<dt><kbd>--logpath</kbd></dt>
<dd><p>If you define a path for storing log files, the original folder structure of the parsed
MuseScore files is recreated there. Additionally, you can pass a filename to –logfile to combine logging data for each
subdirectory; otherwise, an individual log file is automatically created for each MuseScore file. Pass without value to use current working directory.</p>
</dd>
</dl>
</div>
</div>
<div class="section" id="check">
<h4>check<a class="headerlink" href="#check" title="Permalink to this headline">¶</a></h4>
<p>Parse MSCX files and look for errors.
In particular, check DCML harmony labels for syntactic correctness.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ms3</span> <span class="n">check</span> <span class="p">[</span><span class="o">-</span><span class="n">h</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">d</span> <span class="n">DIR</span> <span class="p">[</span><span class="n">DIR</span> <span class="o">...</span><span class="p">]]</span> <span class="p">[</span><span class="o">-</span><span class="n">n</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">f</span> <span class="n">PATHs</span> <span class="p">[</span><span class="n">PATHs</span> <span class="o">...</span><span class="p">]]</span> <span class="p">[</span><span class="o">-</span><span class="n">o</span> <span class="n">OUT_DIR</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">r</span> <span class="n">REGEX</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">e</span> <span class="n">regex</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">l</span> <span class="p">{</span><span class="n">c</span><span class="p">,</span> <span class="n">e</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">d</span><span class="p">}]</span> <span class="p">[</span><span class="o">-</span><span class="n">s</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">assertion</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">log</span> <span class="n">NAME</span><span class="p">]</span>
</pre></div>
</div>
<div class="section" id="Named Arguments_repeat1">
<h5>Named Arguments<a class="headerlink" href="#Named Arguments_repeat1" title="Permalink to this headline">¶</a></h5>
<dl class="option-list">
<dt><kbd>-d, --dir</kbd></dt>
<dd><p>Folder(s) that will be scanned for input files. Defaults to current working directory if no individual files are passed via -f.</p>
</dd>
<dt><kbd>-n, --nonrecursive</kbd></dt>
<dd><p>Don’t scan folders recursively, i.e. parse only files in DIR.</p>
<p>Default: True</p>
</dd>
<dt><kbd>-f, --file</kbd></dt>
<dd><p>Add path(s) of individual file(s) to be checked.</p>
</dd>
<dt><kbd>-o, --out</kbd></dt>
<dd><p>Output directory. Subfolder trees are retained.</p>
</dd>
<dt><kbd>-r, --regex</kbd></dt>
<dd><p>Select only file names including this string or regular expression. Defaults to MSCX, MSCZ and TSV files only.</p>
<p>Default: “(.mscx|.mscz|.tsv)$”</p>
</dd>
<dt><kbd>-e, --exclude</kbd></dt>
<dd><p>Any files or folders (and their subfolders) including this regex will be disregarded.By default, files including ‘_reviewed’ or starting with . or _ are excluded.</p>
<p>Default: “(^(.|_)|_reviewed)”</p>
</dd>
<dt><kbd>-l, --level</kbd></dt>
<dd><p>Choose how many log messages you want to see: c (none), e, w, i, d (maximum)</p>
<p>Default: “i”</p>
</dd>
<dt><kbd>-s, --scores_only</kbd></dt>
<dd><p>Don’t check DCML labels for syntactic correctness.</p>
<p>Default: False</p>
</dd>
<dt><kbd>--assertion</kbd></dt>
<dd><p>If you pass this argument, an error will be thrown if there are any mistakes.</p>
<p>Default: False</p>
</dd>
<dt><kbd>--log</kbd></dt>
<dd><p>Can be a an absolute file path or relative to the current directory.</p>
</dd>
</dl>
</div>
</div>
<div class="section" id="compare">
<h4>compare<a class="headerlink" href="#compare" title="Permalink to this headline">¶</a></h4>
<p>For MSCX files for which annotation tables exist, create another MSCX file with a coloured label comparison.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ms3</span> <span class="n">compare</span> <span class="p">[</span><span class="o">-</span><span class="n">h</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">d</span> <span class="n">DIR</span> <span class="p">[</span><span class="n">DIR</span> <span class="o">...</span><span class="p">]]</span> <span class="p">[</span><span class="o">-</span><span class="n">n</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">f</span> <span class="n">PATHs</span> <span class="p">[</span><span class="n">PATHs</span> <span class="o">...</span><span class="p">]]</span> <span class="p">[</span><span class="o">-</span><span class="n">o</span> <span class="n">OUT_DIR</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">r</span> <span class="n">REGEX</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">e</span> <span class="n">regex</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">l</span> <span class="p">{</span><span class="n">c</span><span class="p">,</span> <span class="n">e</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">d</span><span class="p">}]</span> <span class="p">[</span><span class="o">-</span><span class="n">a</span> <span class="n">PATH</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">s</span> <span class="n">SUFFIX</span><span class="p">]</span>
            <span class="p">[</span><span class="o">-</span><span class="n">x</span> <span class="n">EXT</span> <span class="p">[</span><span class="n">EXT</span> <span class="o">...</span><span class="p">]]</span>
</pre></div>
</div>
<div class="section" id="Named Arguments_repeat2">
<h5>Named Arguments<a class="headerlink" href="#Named Arguments_repeat2" title="Permalink to this headline">¶</a></h5>
<dl class="option-list">
<dt><kbd>-d, --dir</kbd></dt>
<dd><p>Folder(s) that will be scanned for input files. Defaults to current working directory if no individual files are passed via -f.</p>
</dd>
<dt><kbd>-n, --nonrecursive</kbd></dt>
<dd><p>Don’t scan folders recursively, i.e. parse only files in DIR.</p>
<p>Default: True</p>
</dd>
<dt><kbd>-f, --file</kbd></dt>
<dd><p>Add path(s) of individual file(s) to be checked.</p>
</dd>
<dt><kbd>-o, --out</kbd></dt>
<dd><p>Output directory. Subfolder trees are retained.</p>
</dd>
<dt><kbd>-r, --regex</kbd></dt>
<dd><p>Select only file names including this string or regular expression. Defaults to MSCX, MSCZ and TSV files only.</p>
<p>Default: “(.mscx|.mscz|.tsv)$”</p>
</dd>
<dt><kbd>-e, --exclude</kbd></dt>
<dd><p>Any files or folders (and their subfolders) including this regex will be disregarded.By default, files including ‘_reviewed’ or starting with . or _ are excluded.</p>
<p>Default: “(^(.|_)|_reviewed)”</p>
</dd>
<dt><kbd>-l, --level</kbd></dt>
<dd><p>Choose how many log messages you want to see: c (none), e, w, i, d (maximum)</p>
<p>Default: “i”</p>
</dd>
<dt><kbd>-a, --annotations</kbd></dt>
<dd><p>Path relative to the score file(s) where to look for existing annotation tables. Defaults to ../harmonies</p>
<p>Default: “../harmonies”</p>
</dd>
<dt><kbd>-s, --suffix</kbd></dt>
<dd><p>If existing annotation tables have a particular suffix, pass this suffix.</p>
<p>Default: “”</p>
</dd>
<dt><kbd>-x, --extensions</kbd></dt>
<dd><p>If you only want to compare scores with particular extensions, pass these extensions.</p>
</dd>
</dl>
</div>
</div>
<div class="section" id="convert">
<h4>convert<a class="headerlink" href="#convert" title="Permalink to this headline">¶</a></h4>
<p>Use your local install of MuseScore to convert MuseScore files.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ms3</span> <span class="n">convert</span> <span class="p">[</span><span class="o">-</span><span class="n">h</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">d</span> <span class="n">DIR</span> <span class="p">[</span><span class="n">DIR</span> <span class="o">...</span><span class="p">]]</span> <span class="p">[</span><span class="o">-</span><span class="n">n</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">f</span> <span class="n">PATHs</span> <span class="p">[</span><span class="n">PATHs</span> <span class="o">...</span><span class="p">]]</span> <span class="p">[</span><span class="o">-</span><span class="n">o</span> <span class="n">OUT_DIR</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">r</span> <span class="n">REGEX</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">e</span> <span class="n">regex</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">l</span> <span class="p">{</span><span class="n">c</span><span class="p">,</span> <span class="n">e</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">d</span><span class="p">}]</span> <span class="p">[</span><span class="o">-</span><span class="n">t</span> <span class="n">TARGET_FORMAT</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">m</span> <span class="n">MUSESCORE</span><span class="p">]</span>
            <span class="p">[</span><span class="o">-</span><span class="n">p</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">s</span> <span class="n">SUFFIX</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">safe</span><span class="p">]</span>
</pre></div>
</div>
<div class="section" id="Named Arguments_repeat3">
<h5>Named Arguments<a class="headerlink" href="#Named Arguments_repeat3" title="Permalink to this headline">¶</a></h5>
<dl class="option-list">
<dt><kbd>-d, --dir</kbd></dt>
<dd><p>Folder(s) that will be scanned for input files. Defaults to current working directory if no individual files are passed via -f.</p>
</dd>
<dt><kbd>-n, --nonrecursive</kbd></dt>
<dd><p>Don’t scan folders recursively, i.e. parse only files in DIR.</p>
<p>Default: True</p>
</dd>
<dt><kbd>-f, --file</kbd></dt>
<dd><p>Add path(s) of individual file(s) to be checked.</p>
</dd>
<dt><kbd>-o, --out</kbd></dt>
<dd><p>Output directory. Subfolder trees are retained.</p>
</dd>
<dt><kbd>-r, --regex</kbd></dt>
<dd><p>Select only file names including this string or regular expression. Defaults to MSCX, MSCZ and TSV files only.</p>
<p>Default: “(.mscx|.mscz|.tsv)$”</p>
</dd>
<dt><kbd>-e, --exclude</kbd></dt>
<dd><p>Any files or folders (and their subfolders) including this regex will be disregarded.By default, files including ‘_reviewed’ or starting with . or _ are excluded.</p>
<p>Default: “(^(.|_)|_reviewed)”</p>
</dd>
<dt><kbd>-l, --level</kbd></dt>
<dd><p>Choose how many log messages you want to see: c (none), e, w, i, d (maximum)</p>
<p>Default: “i”</p>
</dd>
<dt><kbd>-t, --target_format</kbd></dt>
<dd><p>You may choose one out of {png, svg, pdf, mscz, mscx, wav, mp3, flac, ogg, xml, mxl, mid}</p>
<p>Default: “mscx”</p>
</dd>
<dt><kbd>-m, --musescore</kbd></dt>
<dd><dl class="simple">
<dt>Path to MuseScore executable. Defaults to the command ‘mscore’ (standard on <a href="#id1"><span class="problematic" id="id2">*</span></a>nix systems).</dt><dd><p>To use standard paths on commercial systems, try -m win, or -m mac.</p>
</dd>
</dl>
<p>Default: “mscore”</p>
</dd>
<dt><kbd>-p, --nonparallel</kbd></dt>
<dd><p>Do not use all available CPU cores in parallel to speed up batch jobs.</p>
<p>Default: True</p>
</dd>
<dt><kbd>-s, --suffix</kbd></dt>
<dd><p>Add this suffix to the filename of every new file.</p>
</dd>
<dt><kbd>--safe</kbd></dt>
<dd><p>Don’t overwrite existing files.</p>
<p>Default: True</p>
</dd>
</dl>
</div>
</div>
<div class="section" id="metadata">
<h4>metadata<a class="headerlink" href="#metadata" title="Permalink to this headline">¶</a></h4>
<p>Update MSCX files with changes made in metadata.tsv (created via ms3 extract -D).</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ms3</span> <span class="n">metadata</span> <span class="p">[</span><span class="o">-</span><span class="n">h</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">d</span> <span class="n">DIR</span> <span class="p">[</span><span class="n">DIR</span> <span class="o">...</span><span class="p">]]</span> <span class="p">[</span><span class="o">-</span><span class="n">n</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">f</span> <span class="n">PATHs</span> <span class="p">[</span><span class="n">PATHs</span> <span class="o">...</span><span class="p">]]</span> <span class="p">[</span><span class="o">-</span><span class="n">o</span> <span class="n">OUT_DIR</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">r</span> <span class="n">REGEX</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">e</span> <span class="n">regex</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">l</span> <span class="p">{</span><span class="n">c</span><span class="p">,</span> <span class="n">e</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">d</span><span class="p">}]</span>
</pre></div>
</div>
<div class="section" id="Named Arguments_repeat4">
<h5>Named Arguments<a class="headerlink" href="#Named Arguments_repeat4" title="Permalink to this headline">¶</a></h5>
<dl class="option-list">
<dt><kbd>-d, --dir</kbd></dt>
<dd><p>Folder(s) that will be scanned for input files. Defaults to current working directory if no individual files are passed via -f.</p>
</dd>
<dt><kbd>-n, --nonrecursive</kbd></dt>
<dd><p>Don’t scan folders recursively, i.e. parse only files in DIR.</p>
<p>Default: True</p>
</dd>
<dt><kbd>-f, --file</kbd></dt>
<dd><p>Add path(s) of individual file(s) to be checked.</p>
</dd>
<dt><kbd>-o, --out</kbd></dt>
<dd><p>Output directory. Subfolder trees are retained.</p>
</dd>
<dt><kbd>-r, --regex</kbd></dt>
<dd><p>Select only file names including this string or regular expression. Defaults to MSCX, MSCZ and TSV files only.</p>
<p>Default: “(.mscx|.mscz|.tsv)$”</p>
</dd>
<dt><kbd>-e, --exclude</kbd></dt>
<dd><p>Any files or folders (and their subfolders) including this regex will be disregarded.By default, files including ‘_reviewed’ or starting with . or _ are excluded.</p>
<p>Default: “(^(.|_)|_reviewed)”</p>
</dd>
<dt><kbd>-l, --level</kbd></dt>
<dd><p>Choose how many log messages you want to see: c (none), e, w, i, d (maximum)</p>
<p>Default: “i”</p>
</dd>
</dl>
</div>
</div>
<div class="section" id="repair">
<h4>repair<a class="headerlink" href="#repair" title="Permalink to this headline">¶</a></h4>
<p>Apply automatic repairs to your uncompressed MuseScore files.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ms3</span> <span class="n">repair</span> <span class="p">[</span><span class="o">-</span><span class="n">h</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">d</span> <span class="n">DIR</span> <span class="p">[</span><span class="n">DIR</span> <span class="o">...</span><span class="p">]]</span> <span class="p">[</span><span class="o">-</span><span class="n">n</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">f</span> <span class="n">PATHs</span> <span class="p">[</span><span class="n">PATHs</span> <span class="o">...</span><span class="p">]]</span> <span class="p">[</span><span class="o">-</span><span class="n">o</span> <span class="n">OUT_DIR</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">r</span> <span class="n">REGEX</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">e</span> <span class="n">regex</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">l</span> <span class="p">{</span><span class="n">c</span><span class="p">,</span> <span class="n">e</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">d</span><span class="p">}]</span>
</pre></div>
</div>
<div class="section" id="Named Arguments_repeat5">
<h5>Named Arguments<a class="headerlink" href="#Named Arguments_repeat5" title="Permalink to this headline">¶</a></h5>
<dl class="option-list">
<dt><kbd>-d, --dir</kbd></dt>
<dd><p>Folder(s) that will be scanned for input files. Defaults to current working directory if no individual files are passed via -f.</p>
</dd>
<dt><kbd>-n, --nonrecursive</kbd></dt>
<dd><p>Don’t scan folders recursively, i.e. parse only files in DIR.</p>
<p>Default: True</p>
</dd>
<dt><kbd>-f, --file</kbd></dt>
<dd><p>Add path(s) of individual file(s) to be checked.</p>
</dd>
<dt><kbd>-o, --out</kbd></dt>
<dd><p>Output directory. Subfolder trees are retained.</p>
</dd>
<dt><kbd>-r, --regex</kbd></dt>
<dd><p>Select only file names including this string or regular expression. Defaults to MSCX, MSCZ and TSV files only.</p>
<p>Default: “(.mscx|.mscz|.tsv)$”</p>
</dd>
<dt><kbd>-e, --exclude</kbd></dt>
<dd><p>Any files or folders (and their subfolders) including this regex will be disregarded.By default, files including ‘_reviewed’ or starting with . or _ are excluded.</p>
<p>Default: “(^(.|_)|_reviewed)”</p>
</dd>
<dt><kbd>-l, --level</kbd></dt>
<dd><p>Choose how many log messages you want to see: c (none), e, w, i, d (maximum)</p>
<p>Default: “i”</p>
</dd>
</dl>
</div>
</div>
<div class="section" id="update">
<h4>update<a class="headerlink" href="#update" title="Permalink to this headline">¶</a></h4>
<p>Convert MSCX files to the latest MuseScore version and move all chord annotations to the Roman Numeral Analysis layer. This command overwrites existing files!!!</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ms3</span> <span class="n">update</span> <span class="p">[</span><span class="o">-</span><span class="n">h</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">d</span> <span class="n">DIR</span> <span class="p">[</span><span class="n">DIR</span> <span class="o">...</span><span class="p">]]</span> <span class="p">[</span><span class="o">-</span><span class="n">n</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">f</span> <span class="n">PATHs</span> <span class="p">[</span><span class="n">PATHs</span> <span class="o">...</span><span class="p">]]</span> <span class="p">[</span><span class="o">-</span><span class="n">o</span> <span class="n">OUT_DIR</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">r</span> <span class="n">REGEX</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">e</span> <span class="n">regex</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">l</span> <span class="p">{</span><span class="n">c</span><span class="p">,</span> <span class="n">e</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">d</span><span class="p">}]</span> <span class="p">[</span><span class="o">-</span><span class="n">s</span> <span class="n">SUFFIX</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">m</span> <span class="n">MUSESCORE</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">above</span><span class="p">]</span>
           <span class="p">[</span><span class="o">--</span><span class="n">safe</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">staff</span> <span class="n">STAFF</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="nb">type</span> <span class="n">TYPE</span><span class="p">]</span>
</pre></div>
</div>
<div class="section" id="Named Arguments_repeat6">
<h5>Named Arguments<a class="headerlink" href="#Named Arguments_repeat6" title="Permalink to this headline">¶</a></h5>
<dl class="option-list">
<dt><kbd>-d, --dir</kbd></dt>
<dd><p>Folder(s) that will be scanned for input files. Defaults to current working directory if no individual files are passed via -f.</p>
</dd>
<dt><kbd>-n, --nonrecursive</kbd></dt>
<dd><p>Don’t scan folders recursively, i.e. parse only files in DIR.</p>
<p>Default: True</p>
</dd>
<dt><kbd>-f, --file</kbd></dt>
<dd><p>Add path(s) of individual file(s) to be checked.</p>
</dd>
<dt><kbd>-o, --out</kbd></dt>
<dd><p>Output directory. Subfolder trees are retained.</p>
</dd>
<dt><kbd>-r, --regex</kbd></dt>
<dd><p>Select only file names including this string or regular expression. Defaults to MSCX, MSCZ and TSV files only.</p>
<p>Default: “(.mscx|.mscz|.tsv)$”</p>
</dd>
<dt><kbd>-e, --exclude</kbd></dt>
<dd><p>Any files or folders (and their subfolders) including this regex will be disregarded.By default, files including ‘_reviewed’ or starting with . or _ are excluded.</p>
<p>Default: “(^(.|_)|_reviewed)”</p>
</dd>
<dt><kbd>-l, --level</kbd></dt>
<dd><p>Choose how many log messages you want to see: c (none), e, w, i, d (maximum)</p>
<p>Default: “i”</p>
</dd>
<dt><kbd>-s, --suffix</kbd></dt>
<dd><p>Add this suffix to the filename of every new file.</p>
</dd>
<dt><kbd>-m, --musescore</kbd></dt>
<dd><dl class="simple">
<dt>Path to MuseScore executable. Defaults to the command ‘mscore’ (standard on <a href="#id1"><span class="problematic" id="id2">*</span></a>nix systems).</dt><dd><p>To try standard paths on commercial systems, try -m win, or -m mac.</p>
</dd>
</dl>
<p>Default: “mscore”</p>
</dd>
<dt><kbd>--above</kbd></dt>
<dd><p>Display Roman Numerals above the system.</p>
<p>Default: False</p>
</dd>
<dt><kbd>--safe</kbd></dt>
<dd><p>Only moves labels if their temporal positions stay intact.</p>
<p>Default: False</p>
</dd>
<dt><kbd>--staff</kbd></dt>
<dd><p>Which staff you want to move the annotations to. 1=upper staff; -1=lowest staff (default)</p>
<p>Default: -1</p>
</dd>
<dt><kbd>--type</kbd></dt>
<dd><p>defaults to 1, i.e. moves labels to Roman Numeral layer. Other types have not been tested!</p>
<p>Default: 1</p>
</dd>
</dl>
</div>
</div>
</div>
</div>
<div class="section" id="developing-a-new-parser">
<h2>Developing a new parser<a class="headerlink" href="#developing-a-new-parser" title="Permalink to this headline">¶</a></h2>
<p>Every new parser needs to fulfil the following interface requirements.</p>
<div class="section" id="methods">
<h3>Methods<a class="headerlink" href="#methods" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">add_label</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">label</span><span class="p">,</span> <span class="n">mc</span><span class="p">,</span> <span class="n">mc_onset</span><span class="p">,</span> <span class="n">staff</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">voice</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Adds a single label to the current XML in form of a new</span>
<span class="sd">    &lt;Harmony&gt; (and maybe also &lt;location&gt;) tag.</span>
<span class="sd">    &quot;&quot;&quot;</span>

<span class="k">def</span> <span class="nf">delete_label</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mc</span><span class="p">,</span> <span class="n">staff</span><span class="p">,</span> <span class="n">voice</span><span class="p">,</span> <span class="n">mc_onset</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Delete a label from a particular position (if there is one).</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    mc : :obj:`int`</span>
<span class="sd">        Measure count.</span>
<span class="sd">    staff, voice</span>
<span class="sd">        Notational layer in which to delete the label.</span>
<span class="sd">    mc_onset : :obj:`fractions.Fraction`</span>
<span class="sd">        mc_onset</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    :obj:`bool`</span>
<span class="sd">        Whether a label was deleted or not.</span>
<span class="sd">    &quot;&quot;&quot;</span>

<span class="k">def</span> <span class="nf">get_chords</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">staff</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">voice</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;auto&#39;</span><span class="p">,</span> <span class="n">lyrics</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">staff_text</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">dynamics</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">articulation</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">spanners</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Retrieve a customized chord list, e.g. one including less of the processed features or additional,</span>
<span class="sd">    unprocessed ones compared to the standard chord list.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    staff : :obj:`int`</span>
<span class="sd">        Get information from a particular staff only (1 = upper staff)</span>
<span class="sd">    voice : :obj:`int`</span>
<span class="sd">        Get information from a particular voice only (1 = only the first layer of every staff)</span>
<span class="sd">    mode : {&#39;auto&#39;, &#39;all&#39;, &#39;strict&#39;}, optional</span>
<span class="sd">        Defaults to &#39;auto&#39;, meaning that those aspects are automatically included that occur in the score; the resulting</span>
<span class="sd">            DataFrame has no empty columns except for those parameters that are set to True.</span>
<span class="sd">        &#39;all&#39;: Columns for all aspects are created, even if they don&#39;t occur in the score (e.g. lyrics).</span>
<span class="sd">        &#39;strict&#39;: Create columns for exactly those parameters that are set to True, regardless which aspects occur in the score.</span>
<span class="sd">    lyrics : :obj:`bool`, optional</span>
<span class="sd">        Include lyrics.</span>
<span class="sd">    staff_text : :obj:`bool`, optional</span>
<span class="sd">        Include staff text such as tempo markings.</span>
<span class="sd">    dynamics : :obj:`bool`, optional</span>
<span class="sd">        Include dynamic markings such as f or p.</span>
<span class="sd">    articulation : :obj:`bool`, optional</span>
<span class="sd">        Include articulation such as arpeggios.</span>
<span class="sd">    spanners : :obj:`bool`, optional</span>
<span class="sd">        Include spanners such as slurs, 8va lines, pedal lines etc.</span>
<span class="sd">    **kwargs : :obj:`bool`, optional</span>
<span class="sd">        Set a particular keyword to True in order to include all columns from the _events DataFrame</span>
<span class="sd">        whose names include that keyword. Column names include the tag names from the MSCX source code.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    :obj:`pandas.DataFrame`</span>
<span class="sd">        DataFrame representing all &lt;Chord&gt; tags in the score with the selected features.</span>
<span class="sd">    &quot;&quot;&quot;</span>

<span class="k">def</span> <span class="nf">infer_mc</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mn</span><span class="p">,</span> <span class="n">mn_onset</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">volta</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Shortcut for ``MSCX.parsed.infer_mc()``.</span>
<span class="sd">    Tries to convert a ``(mn, mn_onset)`` into a ``(mc, mc_onset)`` tuple on the basis of this MuseScore file.</span>
<span class="sd">    In other words, a human readable score position such as &quot;measure number 32b (i.e., a second ending), beat</span>
<span class="sd">    3&quot; needs to be converted to ``(32, 1/2, 2)`` if &quot;beat&quot; has length 1/4, or--if the meter is, say 9/8 and &quot;beat&quot;</span>
<span class="sd">    has a length of 3/8-- to ``(32, 6/8, 2)``. The resulting ``(mc, mc_onset)`` tuples are required for attaching</span>
<span class="sd">    a label to a score. This is only necessary for labels that were not originally extracted by ms3.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    mn : :obj:`int` or :obj:`str`</span>
<span class="sd">        Measure number as in a reference print edition.</span>
<span class="sd">    mn_onset : :obj:`fractions.Fraction`, optional</span>
<span class="sd">        Distance of the requested position from beat 1 of the complete measure (MN), expressed as</span>
<span class="sd">        fraction of a whole note. Defaults to 0, i.e. the position of beat 1.</span>
<span class="sd">    volta : :obj:`int`, optional</span>
<span class="sd">        In the case of first and second endings, which bear the same measure number, a MN might have to be</span>
<span class="sd">        disambiguated by passing 1 for first ending, 2 for second, and so on. Alternatively, the MN</span>
<span class="sd">        can be disambiguated traditionally by passing it as string with a letter attached. In other words,</span>
<span class="sd">        ``infer_mc(mn=32, volta=1)`` is equivalent to ``infer_mc(mn=&#39;32a&#39;)``.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    :obj:`int`</span>
<span class="sd">        Measure count (MC), denoting particular &lt;Measure&gt; tags in the score.</span>
<span class="sd">    :obj:`fractions.Fraction`</span>

<span class="sd">    &quot;&quot;&quot;</span>

<span class="k">def</span> <span class="nf">parse_measures</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<div class="sphinx-toc sphinxglobaltoc">
<h3><a href="index.html">Table of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="quick.html">Quick Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="manual.html">Manual</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Developers' Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#the-score-class">The Score class</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#the-mscx-class">The MSCX class</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-ms3.annotations">The Annotations class</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-ms3.parse">The Parse class</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-ms3.bs4_parser">The BeautifulSoup parser</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-ms3.expand_dcml">The expand_dcml module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-ms3.utils">Utils</a></li>
<li class="toctree-l2"><a class="reference internal" href="#the-commandline-interface">The commandline interface</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#Positional Arguments">Positional Arguments</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Sub-commands:">Sub-commands:</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#extract">extract</a></li>
<li class="toctree-l4"><a class="reference internal" href="#check">check</a></li>
<li class="toctree-l4"><a class="reference internal" href="#compare">compare</a></li>
<li class="toctree-l4"><a class="reference internal" href="#convert">convert</a></li>
<li class="toctree-l4"><a class="reference internal" href="#metadata">metadata</a></li>
<li class="toctree-l4"><a class="reference internal" href="#repair">repair</a></li>
<li class="toctree-l4"><a class="reference internal" href="#update">update</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#developing-a-new-parser">Developing a new parser</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#methods">Methods</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="authors.html">Authors</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a></li>
</ul>
</div>
  <div class="sphinxprev">
    <h4>Previous page</h4>
    <p class="topless"><a href="manual.html"
                          title="Previous page">&larr; Manual</a></p>
  </div>
  <div class="sphinxnext">
    <h4>Next page</h4>
    <p class="topless"><a href="license.html"
                          title="Next page">&rarr; License</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/reference.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
    
    
        <div class="sidebar-toggle-group no-js">
            
            <button class="sidebar-toggle" id="sidebar-hide" title="Hide the sidebar menu">
                 «
                <span class="show-for-small">hide menu</span>
                
            </button>
            <button class="sidebar-toggle" id="sidebar-show" title="Show the sidebar menu">
                
                <span class="show-for-small">menu</span>
                <span class="hide-for-small">sidebar</span>
                 »
            </button>
        </div>
    
      <div class="clearer"></div>
    </div>
    <div class="relbar-bottom">
        
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="license.html" title="License"
             >next</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="manual.html" title="Manual"
             >previous</a> &nbsp; &nbsp;</li>
    <li><a href="index.html">ms3 0.4.9 documentation</a> &#187;</li>

        <li class="nav-item nav-item-this"><a href="">Developers’ Reference</a></li> 
      </ul>
    </div>
    </div>

    <div class="footer" role="contentinfo">
        &#169; Copyright 2020, johentsch.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.2.1.
    </div>
    <!-- cloud_sptheme 1.4 -->
  </body>
</html>